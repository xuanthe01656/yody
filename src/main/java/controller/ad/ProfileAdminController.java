package controller.ad;

import jakarta.servlet.RequestDispatcher;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.MultipartConfig;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;
import library.AuthUtil;
import library.UploadFileLB;
import model.bean.Admin;
import model.bean.User;
import model.dao.AdminDAO;

import java.io.File;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import org.apache.commons.lang3.StringUtils;
@MultipartConfig(
		fileSizeThreshold = 1024 * 1024 * 10, // 10 MB
		maxFileSize = 1024 * 1024 * 50, // 50 MB
		maxRequestSize = 1024 * 1024 * 100 // 100 MB
	)
public class ProfileAdminController extends HttpServlet {
	private static final long serialVersionUID = 1L;
	private static final String UPLOAD_DIR = "templates/admin/assets/images/user";
       

    public ProfileAdminController() {
        super();
    }
    public boolean equalsEmail(String email, ArrayList<Admin> listUs) {
    	for (Admin objUs : listUs) {
			if(email.equals(objUs.getEmail())) {
				return true;
			}
		}
    	return false;
    	
    }
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		if(!AuthUtil.checkLogin(request, response)) {
			response.sendRedirect(request.getContextPath()+"/admin/index");
			return;
		}
		RequestDispatcher rd = request.getRequestDispatcher("/admin/app/user-profile.jsp");
		rd.forward(request, response);
	}

	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		if(!AuthUtil.checkLogin(request, response)) {
			response.sendRedirect(request.getContextPath()+"/admin/index");
			return;
		}
		HttpSession session = request.getSession();
		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
		Date date = new Date();
		Admin objAdmin =(Admin) session.getAttribute("objUAd");
		List<String> avata = UploadFileLB.uploadFileDisplay(UPLOAD_DIR, request);
		String image = StringUtils.join(avata, ",");
		AdminDAO AdminDAO = new AdminDAO();
		int id=0;
		if(request.getParameter("aid")!=null) {
			id= Integer.parseInt(request.getParameter("aid"));
		}
		String email="";
		if(request.getParameter("email")!=null) {
			email = request.getParameter("email");
			String fullname= request.getParameter("fullname");
			String phone = request.getParameter("phone");
			String city = request.getParameter("city");
			Admin AdminInfor = new Admin();
			if("".equals(image)==true) {
				AdminInfor = new Admin(id, "", "", fullname, email, phone, city, "", "", 0, "");
				int result = AdminDAO.updateInfoNormal(AdminInfor, id);
				if(result>0) {
					Admin admin = AdminDAO.getUsById(id);
					session.setAttribute("objUAd", admin);
					response.getWriter().print("<script>alert('Thành công!');</script>"
							+ "					<div class=\"modal fade\" id=\"new-order\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n"
							+ "          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n"
							+ "              <div class=\"modal-content\">\r\n"
							+ "                  <div class=\"modal-body\">\r\n"
							+ "                      <div class=\"popup text-left\">\r\n"
							+ "                          <h4 class=\"mb-3\">New Order</h4>\r\n"
							+ "                          <div class=\"content create-workform bg-body\">\r\n"
							+ "                              <div class=\"pb-3\">\r\n"
							+ "                                  <label class=\"mb-2\">Email</label>\r\n"
							+ "                                  <input type=\"text\" class=\"form-control\" placeholder=\"Enter Name or Email\">\r\n"
							+ "                              </div>\r\n"
							+ "                              <div class=\"col-lg-12 mt-4\">\r\n"
							+ "                                  <div class=\"d-flex flex-wrap align-items-ceter justify-content-center\">\r\n"
							+ "                                      <div class=\"btn btn-primary mr-4\" data-dismiss=\"modal\">Cancel</div>\r\n"
							+ "                                      <div class=\"btn btn-outline-primary\" data-dismiss=\"modal\">Create</div>\r\n"
							+ "                                  </div>\r\n"
							+ "                              </div>\r\n"
							+ "                          </div>\r\n"
							+ "                      </div>\r\n"
							+ "                  </div>\r\n"
							+ "              </div>\r\n"
							+ "          </div>\r\n"
							+ "      </div>      \r\n"
							+ "      <div class=\"content-page\">\r\n"
							+ "      <div class=\"container-fluid\">\r\n"
							+ "         <div class=\"row\">\r\n"
							+ "            <div class=\"col-lg-12\">\r\n"
							+ "               <div class=\"card car-transparent\">\r\n"
							+ "                  <div class=\"card-body p-0\">\r\n"
							+ "                     <div class=\"profile-image position-relative\">\r\n"
							+ "                        <img src=\""+request.getContextPath()+"/templates/admin/assets/images/page-img/profile.png\" class=\"img-fluid rounded w-100\" alt=\"profile-image\">\r\n"
							+ "                     </div>\r\n"
							+ "                  </div>\r\n"
							+ "               </div>\r\n"
							+ "            </div>\r\n"
							+ "         </div>\r\n"
							+ "         <div class=\"row m-sm-0 px-3\">            \r\n"
							+ "            <div class=\"col-lg-4 card-profile\">\r\n"
							+ "            <div class=\"content-page\">\r\n"
							+ "            	<div class=\"card card-block card-stretch card-height\">\r\n"
							+ "                  <div class=\"card-body\">\r\n"
							+ "                     <div class=\"d-flex align-items-center mb-3\">\r\n"
							+ "                        <div class=\"profile-img position-relative\">\r\n"
							+ "                           <img src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" class=\"img-fluid rounded avatar-110\" alt=\"profile-image\">\r\n"
							+ "                        </div>\r\n"
							+ "                        <div class=\"ml-3\">\r\n"
							+ "                           <h4 class=\"mb-1\">"+admin.getUsername()+"</h4>\r\n"
							+ "                           <p class=\"mb-2\">"+admin.getPosition_detail()+"</p>\r\n"
							+ "                        </div>\r\n"
							+ "                     </div>\r\n"
							+ "                     <ul class=\"list-inline p-0 m-0\">\r\n"
							+ "                        <li class=\"mb-2\">\r\n"
							+ "                           <div class=\"d-flex align-items-center\">\r\n"
							+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
							+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n"
							+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n"
							+ "                              </svg>\r\n"
							+ "                              <p class=\"mb-0\">"+admin.getAddress()+"</p>   \r\n"
							+ "                           </div>\r\n"
							+ "                        </li>\r\n"
							+ "                        <li class=\"mb-2\">\r\n"
							+ "                           <div class=\"d-flex align-items-center\">\r\n"
							+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
							+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n"
							+ "                              </svg>\r\n"
							+ "                              <p class=\"mb-0\">"+admin.getPhone()+"</p>   \r\n"
							+ "                           </div>\r\n"
							+ "                        </li>\r\n"
							+ "                        <li>\r\n"
							+ "                           <div class=\"d-flex align-items-center\">\r\n"
							+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
							+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n"
							+ "                              </svg>\r\n"
							+ "                              <p class=\"mb-0\">"+admin.getEmail()+"</p>   \r\n"
							+ "                           </div>\r\n"
							+ "                        </li>\r\n"
							+ "                     </ul>\r\n"
							+ "                  </div>\r\n"
							+ "               </div>\r\n"
							+ "            </div>\r\n"
							+ "            </div>\r\n"
							+ "            <div class=\"col-lg-8 card-profile\">\r\n"
							+ "            	<div class=\"content-page\">\r\n"
							+ "		      <div class=\"container-fluid\">\r\n"
							+ "		         <div class=\"row\">\r\n"
							+ "		            <div class=\"col-lg-12\">\r\n"
							+ "		               <div class=\"card\">\r\n"
							+ "		                  <div class=\"card-body p-0\">\r\n"
							+ "		                     <div class=\"iq-edit-list usr-edit\">\r\n"
							+ "		                        <ul class=\"iq-edit-profile d-flex nav nav-pills\">\r\n"
							+ "		                           <li class=\"col-md-3 p-0\">\r\n"
							+ "		                              <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#personal-information\">\r\n"
							+ "		                              Personal Information\r\n"
							+ "		                              </a>\r\n"
							+ "		                           </li>\r\n"
							+ "		                           <li class=\"col-md-3 p-0\">\r\n"
							+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#chang-pwd\">\r\n"
							+ "		                              Change Password\r\n"
							+ "		                              </a>\r\n"
							+ "		                           </li>\r\n"
							+ "		                           <li class=\"col-md-3 p-0\">\r\n"
							+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#emailandsms\">\r\n"
							+ "		                              Email and SMS\r\n"
							+ "		                              </a>\r\n"
							+ "		                           </li>\r\n"
							+ "		                           <li class=\"col-md-3 p-0\">\r\n"
							+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#manage-contact\">\r\n"
							+ "		                              Manage Contact\r\n"
							+ "		                              </a>\r\n"
							+ "		                           </li>\r\n"
							+ "		                        </ul>\r\n"
							+ "		                     </div>\r\n"
							+ "		                  </div>\r\n"
							+ "		               </div>\r\n"
							+ "		            </div>\r\n"
							+ "		            <div class=\"col-lg-12\">\r\n"
							+ "		               <div class=\"iq-edit-list-data\">\r\n"
							+ "		                  <div class=\"tab-content\">\r\n"
							+ "		                     <div class=\"tab-pane fade active show\" id=\"personal-information\" role=\"tabpanel\">\r\n"
							+ "		                        <div class=\"card\">\r\n"
							+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
							+ "		                              <div class=\"iq-header-title\">\r\n"
							+ "		                                 <h4 class=\"card-title\">Personal Information</h4>\r\n"
							+ "		                              </div>\r\n"
							+ "		                           </div>\r\n"
							+ "		                           <div class=\"card-body\">\r\n"
							+ "		                              <form class=\"form-admin\" id=\"form-change-info-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\" enctype=\"multipart/form-data\">\r\n"
							+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
							+ "		                                    <div class=\"col-md-12\">\r\n"
							+ "		                                       <div class=\"profile-img-edit\">\r\n"
							+ "		                                          <div class=\"crm-profile-img-edit\">\r\n"
							+ "		                                             <img class=\"crm-profile-pic1 rounded-circle avatar-100\" id=\"display_avata\" src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" alt=\"profile-pic1\">\r\n"
							+ "		                                             <div class=\"crm-p-image bg-primary\">\r\n"
							+ "		                                                <i class=\"las la-pen upload-button\"></i>\r\n"
							+ "		                                                <input class=\"file-upload\" type=\"file\" id=\"avata\" name=\"pic1\" accept=\"image/*\">\r\n"
							+ "		                                             </div>\r\n"
							+ "		                                          </div>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\" row align-items-center\">\r\n"
							+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
							+ "		                                       <label for=\"fullname\">Full Name:</label>\r\n"
							+ "		                                       <input type=\"text\" class=\"form-control\" id=\"fullname\" name=\"fullname\" value=\""+admin.getFullname()+"\" required>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
							+ "		                                       <label for=\"username\">User Name:</label>\r\n"
							+ "		                                       <input type=\"text\" class=\"form-control\" id=\"username\" name=\"username\" disabled value=\""+admin.getUsername()+"\" required>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
							+ "		                                       <label for=\"phone\">Phone:</label>\r\n"
							+ "		                                       <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" value=\""+admin.getPhone()+"\" required>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
							+ "		                                       <label for=\"email\">Email:</label>\r\n"
							+ "		                                       <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" value=\""+admin.getEmail()+"\" required>\r\n"
							+ "		                                       <div class=\"ajax-check-email\"></div>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
							+ "		                                       <label for=\"city\">City:</label>\r\n"
							+ "		                                       <input type=\"text\" class=\"form-control\" id=\"city\" value=\""+admin.getAddress()+"\" required>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <button type=\"button\" id=\"btn-change-profile-admin\" class=\"btn btn-primary mr-2\">Update</button>\r\n"
							+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
							+ "		                              </form>\r\n"
							+ "		                           </div>\r\n"
							+ "		                        </div>\r\n"
							+ "		                     </div>\r\n"
							+ "		                     <div class=\"tab-pane fade\" id=\"chang-pwd\" role=\"tabpanel\">\r\n"
							+ "		                        <div class=\"card\">\r\n"
							+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
							+ "		                              <div class=\"iq-header-title\">\r\n"
							+ "		                                 <h4 class=\"card-title\">Change Password</h4>\r\n"
							+ "		                              </div>\r\n"
							+ "		                           </div>\r\n"
							+ "		                           <div class=\"card-body\">\r\n"
							+ "		                              <form class=\"form-admin\" id=\"form-change-password-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\">\r\n"
							+ "		                              <div class=\"ajax-change-password\"></div>\r\n"
							+ "		                                 <div class=\"form-group\">\r\n"
							+ "		                                 <div class=\"ajax-check-password\"></div>\r\n"
							+ "		                                    <label for=\"cpass\">Current Password:</label>\r\n"
							+ "		                                    <a href=\"javascript:void();\" class=\"float-right\">Forgot Password</a>\r\n"
							+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"cpass\" name=\"cpass\" value=\"\" required>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group\">\r\n"
							+ "		                                    <label for=\"npass\">New Password:</label>\r\n"
							+ "		                                    <div class=\"ajax-check-password-new\"></div>\r\n"
							+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"npass\" name=\"npass\" value=\"\" required>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group\">\r\n"
							+ "		                                    <label for=\"vpass\">Verify Password:</label>\r\n"
							+ "		                                    <div class=\"ajax-check-password-vpass\"></div>\r\n"
							+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"vpass\" name=\"vpass\" value=\"\" required>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <button type=\"button\" id=\"btn-change-password-admin\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
							+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
							+ "		                              </form>\r\n"
							+ "		                           </div>\r\n"
							+ "		                        </div>\r\n"
							+ "		                     </div>\r\n"
							+ "		                     <div class=\"tab-pane fade\" id=\"emailandsms\" role=\"tabpanel\">\r\n"
							+ "		                        <div class=\"card\">\r\n"
							+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
							+ "		                              <div class=\"iq-header-title\">\r\n"
							+ "		                                 <h4 class=\"card-title\">Email and SMS</h4>\r\n"
							+ "		                              </div>\r\n"
							+ "		                           </div>\r\n"
							+ "		                           <div class=\"card-body\">\r\n"
							+ "		                              <form>\r\n"
							+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
							+ "		                                    <label class=\"col-md-3\" for=\"emailnotification\">Email Notification:</label>\r\n"
							+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
							+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"emailnotification\" checked=\"\">\r\n"
							+ "		                                       <label class=\"custom-control-label\" for=\"emailnotification\"></label>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
							+ "		                                    <label class=\"col-md-3\" for=\"smsnotification\">SMS Notification:</label>\r\n"
							+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
							+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"smsnotification\" checked=\"\">\r\n"
							+ "		                                       <label class=\"custom-control-label\" for=\"smsnotification\"></label>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
							+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Email</label>\r\n"
							+ "		                                    <div class=\"col-md-9\">\r\n"
							+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
							+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email01\">\r\n"
							+ "		                                          <label class=\"custom-control-label\" for=\"email01\">You have new notifications.</label>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
							+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email02\">\r\n"
							+ "		                                          <label class=\"custom-control-label\" for=\"email02\">You're sent a direct message</label>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
							+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email03\" checked=\"\">\r\n"
							+ "		                                          <label class=\"custom-control-label\" for=\"email03\">Someone adds you as a connection</label>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
							+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Escalate Emails</label>\r\n"
							+ "		                                    <div class=\"col-md-9\">\r\n"
							+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
							+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email04\">\r\n"
							+ "		                                          <label class=\"custom-control-label\" for=\"email04\"> Upon new order.</label>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
							+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email05\">\r\n"
							+ "		                                          <label class=\"custom-control-label\" for=\"email05\"> New membership approval</label>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
							+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email06\" checked=\"\">\r\n"
							+ "		                                          <label class=\"custom-control-label\" for=\"email06\"> Member registration</label>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
							+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
							+ "		                              </form>\r\n"
							+ "		                           </div>\r\n"
							+ "		                        </div>\r\n"
							+ "		                     </div>\r\n"
							+ "		                     <div class=\"tab-pane fade\" id=\"manage-contact\" role=\"tabpanel\">\r\n"
							+ "		                        <div class=\"card\">\r\n"
							+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
							+ "		                              <div class=\"iq-header-title\">\r\n"
							+ "		                                 <h4 class=\"card-title\">Manage Contact</h4>\r\n"
							+ "		                              </div>\r\n"
							+ "		                           </div>\r\n"
							+ "		                           <div class=\"card-body\">\r\n"
							+ "		                              <form>\r\n"
							+ "		                                 <div class=\"form-group\">\r\n"
							+ "		                                    <label for=\"cno\">Contact Number:</label>\r\n"
							+ "		                                    <input type=\"text\" class=\"form-control\" id=\"cno\" value=\""+admin.getPhone()+"\">\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group\">\r\n"
							+ "		                                    <label for=\"email\">Email:</label>\r\n"
							+ "		                                    <input type=\"text\" class=\"form-control\" id=\"email-info\" value=\""+admin.getEmail()+"\">\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group\">\r\n"
							+ "		                                    <label for=\"url\">Url:</label>\r\n"
							+ "		                                    <input type=\"text\" class=\"form-control\" id=\"url\" value=\"https://getbootstrap.com\">\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
							+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
							+ "		                              </form>\r\n"
							+ "		                           </div>\r\n"
							+ "		                        </div>\r\n"
							+ "		                     </div>\r\n"
							+ "		                  </div>\r\n"
							+ "		               </div>\r\n"
							+ "		            </div>\r\n"
							+ "		         </div>\r\n"
							+ "		      </div>\r\n"
							+ "		      </div>\r\n"
							+ "            </div>\r\n"
							+ "         </div>\r\n"
							+ "      </div>\r\n"
							+ "      </div>\r\n"
							+ "      	<script type=\"text/javascript\">\r\n"
							+ "      	$('#cpass').on('input', function(){\r\n"
							+ " 	   		 var changedField = $(this);\r\n"
							+ " 			     var cpass = $(\"#cpass\").val(); \r\n"
							+ " 			     var id = "+admin.getId()+"\r\n"
							+ " 			        $.ajax({\r\n"
							+ " 						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
							+ " 						type: 'POST',\r\n"
							+ " 						cache: false,\r\n"
							+ " 						data: {\r\n"
							+ " 								aid: id,\r\n"
							+ " 								acpass: cpass,\r\n"
							+ " 							},\r\n"
							+ " 						success: function(data){\r\n"
							+ " 							$('.ajax-check-password').html(data);\r\n"
							+ " 						},\r\n"
							+ " 						error: function (){\r\n"
							+ " 							alert('Có lỗi xảy ra');\r\n"
							+ " 						},\r\n"
							+ " 					});\r\n"
							+ " 					return false;\r\n"
							+ " 	   	});\r\n"
							+ "      	$('#npass').on('input', function(){\r\n"
							+ "	   		 var changedField = $(this);\r\n"
							+ "			     var cpass = $(\"#cpass\").val(); \r\n"
							+ "			     var npass = $(\"#npass\").val();\r\n"
							+ "			     var id = "+admin.getId()+"\r\n"
							+ "			        $.ajax({\r\n"
							+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
							+ "						type: 'POST',\r\n"
							+ "						cache: false,\r\n"
							+ "						data: {\r\n"
							+ "								aid: id,\r\n"
							+ "								ccpass: cpass,\r\n"
							+ "								cnpass: npass,\r\n"
							+ "							},\r\n"
							+ "						success: function(data){\r\n"
							+ "							$('.ajax-check-password-new').html(data);\r\n"
							+ "						},\r\n"
							+ "						error: function (){\r\n"
							+ "							alert('Có lỗi xảy ra');\r\n"
							+ "						},\r\n"
							+ "					});\r\n"
							+ "					return false;\r\n"
							+ "	   	});\r\n"
							+ "      	$('#vpass').on('input', function(){\r\n"
							+ "	   		 var changedField = $(this);\r\n"
							+ "	   		var npass = $(\"#npass\").val(); \r\n"
							+ "			     var vpass = $(\"#vpass\").val();\r\n"
							+ "			     var id = "+admin.getId()+"\r\n"
							+ "			        $.ajax({\r\n"
							+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
							+ "						type: 'POST',\r\n"
							+ "						cache: false,\r\n"
							+ "						data: {\r\n"
							+ "								aid:id,\r\n"
							+ "								bnpass: npass,\r\n"
							+ "								bvpass: vpass,\r\n"
							+ "							},\r\n"
							+ "						success: function(data){\r\n"
							+ "							$('.ajax-check-password-vpass').html(data);\r\n"
							+ "						},\r\n"
							+ "						error: function (){\r\n"
							+ "							alert('Có lỗi xảy ra');\r\n"
							+ "						},\r\n"
							+ "					});\r\n"
							+ "					return false;\r\n"
							+ "	   	});\r\n"
							+ " 			\r\n"
							+ " 			$('#email').on('blur', function(){\r\n"
							+ " 		   		 var changedField = $(this);\r\n"
							+ " 				     var email = $(\"#email\").val(); \r\n"
							+ " 				     var id = "+admin.getId()+"\r\n"
							+ " 				        $.ajax({\r\n"
							+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
							+ " 							type: 'POST',\r\n"
							+ " 							cache: false,\r\n"
							+ " 							data: {\r\n"
							+ " 									aid: id,\r\n"
							+ " 									'check-email': email,\r\n"
							+ " 								},\r\n"
							+ " 							success: function(data){\r\n"
							+ " 								$('.ajax-check-email').html(data);\r\n"
							+ " 							},\r\n"
							+ " 							error: function (){\r\n"
							+ " 								alert('Có lỗi xảy ra');\r\n"
							+ " 							},\r\n"
							+ " 						});\r\n"
							+ " 						return false;\r\n"
							+ " 		   	});\r\n"
							+ " 			$('#form-change-info-admin').validate({\r\n"
							+ " 	 			 rules:{\r\n"
							+ " 	 				 fullname:{\r\n"
							+ " 	 					 required: true,\r\n"
							+ " 	 					 minlength: 6,\r\n"
							+ " 	 				 },\r\n"
							+ " 	 				 email:{ \r\n"
							+ " 	 					required: true,\r\n"
							+ " 						email: true,\r\n"
							+ " 	 				 },\r\n"
							+ " 	 				 phone:{\r\n"
							+ " 	 					 required: true,\r\n"
							+ " 	 					 minlength: 10,\r\n"
							+ " 	 				 },\r\n"
							+ " 	 				 city:{\r\n"
							+ " 	 					 required: true,\r\n"
							+ " 	 				 },\r\n"
							+ " 	 			 },\r\n"
							+ " 	 			 messages:{\r\n"
							+ " 	 				 fullname:{\r\n"
							+ " 	 					required:'Nhập vào tên.',\r\n"
							+ " 	 					minlength:'Nhập tối thiểu 6 ký tự.',\r\n"
							+ " 	 				 },\r\n"
							+ " 	 				email:{\r\n"
							+ " 						required: 'Nhập vào email của bạn.',\r\n"
							+ " 						email: 'Hãy nhập đúng định dạng.',\r\n"
							+ " 					},\r\n"
							+ " 					phone:{\r\n"
							+ " 						required:'Nhập vào số điện thoại.',\r\n"
							+ " 						minlength: 'Số điện thoại phải 10 ký tự.',\r\n"
							+ " 					},\r\n"
							+ " 					city:{\r\n"
							+ " 						required:'Nhập vào thành phố.',\r\n"
							+ " 					},\r\n"
							+ " 	 			 },\r\n"
							+ " 	 			 \r\n"
							+ " 	 		 });\r\n"
							+ " 			$('#form-change-password-admin').validate({\r\n"
							+ "				 rules:{\r\n"
							+ "					 cpass:{\r\n"
							+ "						 required: true,\r\n"
							+ "						 minlength: 6,\r\n"
							+ "					 },\r\n"
							+ "					npass:{\r\n"
							+ "						 required: true,\r\n"
							+ "						 minlength: 6,\r\n"
							+ "						maxlength:13,\r\n"
							+ "					 },\r\n"
							+ "					vpass:{\r\n"
							+ "						 required: true,\r\n"
							+ "						 minlength: 6,\r\n"
							+ "						maxlength:13,\r\n"
							+ "						equalTo: \"#npass\"\r\n"
							+ "					 },\r\n"
							+ "				 },\r\n"
							+ "			messages:{\r\n"
							+ "					cpass:{\r\n"
							+ "						required: 'Nhập vào mật khẩu cũ.',\r\n"
							+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
							+ "						},\r\n"
							+ "					npass:{\r\n"
							+ "						required: 'Nhập vào mật khẩu mới.',\r\n"
							+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
							+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
							+ "					},\r\n"
							+ "					vpass:{\r\n"
							+ "						required: 'Nhập lại mật khẩu mới.',\r\n"
							+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
							+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
							+ "						equalTo: 'Mật khẩu chưa chính xác.'\r\n"
							+ "					},\r\n"
							+ "			}, \r\n"
							+ " 			});\r\n"
							+ " 			$( \"input[type=file]#avata\" ).change(function(e) {\r\n"
							+ "	    		var filename_input = e.target.files[0].name;\r\n"
							+ "	    		var src = $(\"#display_avata\").attr(\"src\");\r\n"
							+ "		    	var path = src.substring(0,src.lastIndexOf('/'));									    		\r\n"
							+ "		    	var filename = src.split(\"/\").pop();\r\n"
							+ "		    	var newSrc = path+\"/\"+filename_input;\r\n"
							+ "		    	$(\"#display_avata\").attr(\"src\",newSrc);\r\n"
							+ "		    	});\r\n"
							+ " 			$('#btn-change-profile-admin').on('click', function(){\r\n"
							+ " 				//if($('#form-change-info-admin').valid()==true){\r\n"
							+ " 					var formData = new FormData();\r\n"
							+ "					formData.append('aid', "+admin.getId()+");\r\n"
							+ "					formData.append('fullname', $(\"#fullname\").val());\r\n"
							+ "					formData.append('email', $('#email').val());\r\n"
							+ "					formData.append('phone', $('#phone').val());\r\n"
							+ "					formData.append('city', $('#city').val());\r\n"
							+ "					formData.append(\"pic1\", avata.files[0]);\r\n"
							+ " 				        $.ajax({\r\n"
							+ " 							url: '"+request.getContextPath()+"/admin/profile',\r\n"
							+ " 							type: 'POST',\r\n"
							+ " 							cache: false,\r\n"
							+ " 							contentType: false,\r\n"
							+ "          					data: formData,\r\n"
							+ "          					processData: false,\r\n"
							+ " 							success: function(data){\r\n"
							+ " 								$('.ajax-change-info').html(data);\r\n"
							+ " 							},\r\n"
							+ " 							error: function (){\r\n"
							+ " 								alert('Có lỗi xảy ra');\r\n"
							+ " 							},\r\n"
							+ " 						});\r\n"
							+ " 						return false;\r\n"
							+ " 				//}else{\r\n"
							+ " 					//$('#form-change-info-admin').valid();\r\n"
							+ " 				//}\r\n"
							+ " 			});\r\n"
							+ " 			$('#btn-change-password-admin').on('click', function(){\r\n"
							+ " 				//if($('#form-change-password-admin').valid()==true){\r\n"
							+ " 					\r\n"
							+ " 					var changedField = $(this);\r\n"
							+ " 				     var cpass = $('#cpass').val(); \r\n"
							+ " 				     var npass = $('#npass').val();\r\n"
							+ " 				     var id = "+admin.getId()+"\r\n"
							+ " 				        $.ajax({\r\n"
							+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
							+ " 							type: 'POST',\r\n"
							+ " 							cache: false,\r\n"
							+ " 							data: {\r\n"
							+ " 									aid: id,\r\n"
							+ " 									cpass: cpass,\r\n"
							+ " 									npass: npass,\r\n"
							+ " 								},\r\n"
							+ " 							success: function(data){\r\n"
							+ " 								$('.ajax-change-password').html(data);\r\n"
							+ " 								$('#form-change-password-admin').trigger(\"reset\");\r\n"
							+ " 							},\r\n"
							+ " 							error: function (){\r\n"
							+ " 								alert('Có lỗi xảy ra');\r\n"
							+ " 							},\r\n"
							+ " 						});\r\n"
							+ " 						return false;\r\n"
							+ " 				//}else{\r\n"
							+ " 					//$('#form-change-password-admin').valid();\r\n"
							+ " 				//}\r\n"
							+ " 			});\r\n"
							+ "      		function setInputFilter(textbox, inputFilter) {\r\n"
							+ "      		  [\"input\", \"keydown\", \"keyup\", \"mousedown\", \"mouseup\", \"select\", \"contextmenu\", \"drop\"].forEach(function(event) {\r\n"
							+ "      		    textbox.addEventListener(event, function() {\r\n"
							+ "      		      if (inputFilter(this.value)) {\r\n"
							+ "      		        this.oldValue = this.value;\r\n"
							+ "      		        this.oldSelectionStart = this.selectionStart;\r\n"
							+ "      		        this.oldSelectionEnd = this.selectionEnd;\r\n"
							+ "      		      } else if (this.hasOwnProperty(\"oldValue\")) {\r\n"
							+ "      		        this.value = this.oldValue;\r\n"
							+ "      		        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);\r\n"
							+ "      		      } else {\r\n"
							+ "      		        this.value = \"\";\r\n"
							+ "      		      }\r\n"
							+ "      		    });\r\n"
							+ "      		  });\r\n"
							+ "      		};\r\n"
							+ "      		setInputFilter(document.getElementById(\"phone\"), function(value) {\r\n"
							+ "      		  return /^\\d*$/.test(value); });\r\n"
							+ "		</script>");
				}else {
					Admin admin = AdminDAO.getUsById(id);
					session.setAttribute("objUAd", admin);
					response.getWriter().print("<div class=\"modal fade\" id=\"new-order\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n"
							+ "          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n"
							+ "              <div class=\"modal-content\">\r\n"
							+ "                  <div class=\"modal-body\">\r\n"
							+ "                      <div class=\"popup text-left\">\r\n"
							+ "                          <h4 class=\"mb-3\">New Order</h4>\r\n"
							+ "                          <div class=\"content create-workform bg-body\">\r\n"
							+ "                              <div class=\"pb-3\">\r\n"
							+ "                                  <label class=\"mb-2\">Email</label>\r\n"
							+ "                                  <input type=\"text\" class=\"form-control\" placeholder=\"Enter Name or Email\">\r\n"
							+ "                              </div>\r\n"
							+ "                              <div class=\"col-lg-12 mt-4\">\r\n"
							+ "                                  <div class=\"d-flex flex-wrap align-items-ceter justify-content-center\">\r\n"
							+ "                                      <div class=\"btn btn-primary mr-4\" data-dismiss=\"modal\">Cancel</div>\r\n"
							+ "                                      <div class=\"btn btn-outline-primary\" data-dismiss=\"modal\">Create</div>\r\n"
							+ "                                  </div>\r\n"
							+ "                              </div>\r\n"
							+ "                          </div>\r\n"
							+ "                      </div>\r\n"
							+ "                  </div>\r\n"
							+ "              </div>\r\n"
							+ "          </div>\r\n"
							+ "      </div>      \r\n"
							+ "      <div class=\"content-page\">\r\n"
							+ "      <div class=\"container-fluid\">\r\n"
							+ "         <div class=\"row\">\r\n"
							+ "            <div class=\"col-lg-12\">\r\n"
							+ "               <div class=\"card car-transparent\">\r\n"
							+ "                  <div class=\"card-body p-0\">\r\n"
							+ "                     <div class=\"profile-image position-relative\">\r\n"
							+ "                        <img src=\""+request.getContextPath()+"/templates/admin/assets/images/page-img/profile.png\" class=\"img-fluid rounded w-100\" alt=\"profile-image\">\r\n"
							+ "                     </div>\r\n"
							+ "                  </div>\r\n"
							+ "               </div>\r\n"
							+ "            </div>\r\n"
							+ "         </div>\r\n"
							+ "         <div class=\"row m-sm-0 px-3\">            \r\n"
							+ "            <div class=\"col-lg-4 card-profile\">\r\n"
							+ "            <div class=\"content-page\">\r\n"
							+ "            	<div class=\"card card-block card-stretch card-height\">\r\n"
							+ "                  <div class=\"card-body\">\r\n"
							+ "                     <div class=\"d-flex align-items-center mb-3\">\r\n"
							+ "                        <div class=\"profile-img position-relative\">\r\n"
							+ "                           <img src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" class=\"img-fluid rounded avatar-110\" alt=\"profile-image\">\r\n"
							+ "                        </div>\r\n"
							+ "                        <div class=\"ml-3\">\r\n"
							+ "                           <h4 class=\"mb-1\">"+admin.getUsername()+"</h4>\r\n"
							+ "                           <p class=\"mb-2\">"+admin.getPosition_detail()+"</p>\r\n"
							+ "                        </div>\r\n"
							+ "                     </div>\r\n"
							+ "                     <ul class=\"list-inline p-0 m-0\">\r\n"
							+ "                        <li class=\"mb-2\">\r\n"
							+ "                           <div class=\"d-flex align-items-center\">\r\n"
							+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
							+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n"
							+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n"
							+ "                              </svg>\r\n"
							+ "                              <p class=\"mb-0\">"+admin.getAddress()+"</p>   \r\n"
							+ "                           </div>\r\n"
							+ "                        </li>\r\n"
							+ "                        <li class=\"mb-2\">\r\n"
							+ "                           <div class=\"d-flex align-items-center\">\r\n"
							+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
							+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n"
							+ "                              </svg>\r\n"
							+ "                              <p class=\"mb-0\">"+admin.getPhone()+"</p>   \r\n"
							+ "                           </div>\r\n"
							+ "                        </li>\r\n"
							+ "                        <li>\r\n"
							+ "                           <div class=\"d-flex align-items-center\">\r\n"
							+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
							+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n"
							+ "                              </svg>\r\n"
							+ "                              <p class=\"mb-0\">"+admin.getEmail()+"</p>   \r\n"
							+ "                           </div>\r\n"
							+ "                        </li>\r\n"
							+ "                     </ul>\r\n"
							+ "                  </div>\r\n"
							+ "               </div>\r\n"
							+ "            </div>\r\n"
							+ "            </div>\r\n"
							+ "            <div class=\"col-lg-8 card-profile\">\r\n"
							+ "            	<div class=\"content-page\">\r\n"
							+ "		      <div class=\"container-fluid\">\r\n"
							+ "		         <div class=\"row\">\r\n"
							+ "		            <div class=\"col-lg-12\">\r\n"
							+ "		               <div class=\"card\">\r\n"
							+ "		                  <div class=\"card-body p-0\">\r\n"
							+ "		                     <div class=\"iq-edit-list usr-edit\">\r\n"
							+ "		                        <ul class=\"iq-edit-profile d-flex nav nav-pills\">\r\n"
							+ "		                           <li class=\"col-md-3 p-0\">\r\n"
							+ "		                              <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#personal-information\">\r\n"
							+ "		                              Personal Information\r\n"
							+ "		                              </a>\r\n"
							+ "		                           </li>\r\n"
							+ "		                           <li class=\"col-md-3 p-0\">\r\n"
							+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#chang-pwd\">\r\n"
							+ "		                              Change Password\r\n"
							+ "		                              </a>\r\n"
							+ "		                           </li>\r\n"
							+ "		                           <li class=\"col-md-3 p-0\">\r\n"
							+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#emailandsms\">\r\n"
							+ "		                              Email and SMS\r\n"
							+ "		                              </a>\r\n"
							+ "		                           </li>\r\n"
							+ "		                           <li class=\"col-md-3 p-0\">\r\n"
							+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#manage-contact\">\r\n"
							+ "		                              Manage Contact\r\n"
							+ "		                              </a>\r\n"
							+ "		                           </li>\r\n"
							+ "		                        </ul>\r\n"
							+ "		                     </div>\r\n"
							+ "		                  </div>\r\n"
							+ "		               </div>\r\n"
							+ "		            </div>\r\n"
							+ "		            <div class=\"col-lg-12\">\r\n"
							+ "		               <div class=\"iq-edit-list-data\">\r\n"
							+ "		                  <div class=\"tab-content\">\r\n"
							+ "		                     <div class=\"tab-pane fade active show\" id=\"personal-information\" role=\"tabpanel\">\r\n"
							+ "		                        <div class=\"card\">\r\n"
							+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
							+ "		                              <div class=\"iq-header-title\">\r\n"
							+ "		                                 <h4 class=\"card-title\">Personal Information</h4>\r\n"
							+ "		                              </div>\r\n"
							+ "		                           </div>\r\n"
							+ "		                           <div class=\"card-body\">\r\n"
							+ "									<p style=\"color: red; background-color: yellow\">Cập nhật thông tin không thành công</p>\r\n"
							+ "		                              <form class=\"form-admin\" id=\"form-change-info-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\" enctype=\"multipart/form-data\">\r\n"
							+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
							+ "		                                    <div class=\"col-md-12\">\r\n"
							+ "		                                       <div class=\"profile-img-edit\">\r\n"
							+ "		                                          <div class=\"crm-profile-img-edit\">\r\n"
							+ "		                                             <img class=\"crm-profile-pic1 rounded-circle avatar-100\" id=\"display_avata\" src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" alt=\"profile-pic1\">\r\n"
							+ "		                                             <div class=\"crm-p-image bg-primary\">\r\n"
							+ "		                                                <i class=\"las la-pen upload-button\"></i>\r\n"
							+ "		                                                <input class=\"file-upload\" type=\"file\" id=\"avata\" name=\"pic1\" accept=\"image/*\">\r\n"
							+ "		                                             </div>\r\n"
							+ "		                                          </div>                                          \r\n"
							+ "		                                       </div>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\" row align-items-center\">\r\n"
							+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
							+ "		                                       <label for=\"fullname\">Full Name:</label>\r\n"
							+ "		                                       <input type=\"text\" class=\"form-control\" id=\"fullname\" name=\"fullname\" value=\""+admin.getFullname()+"\" required>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
							+ "		                                       <label for=\"username\">User Name:</label>\r\n"
							+ "		                                       <input type=\"text\" class=\"form-control\" id=\"username\" name=\"username\" disabled value=\""+admin.getUsername()+"\" required>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
							+ "		                                       <label for=\"phone\">Phone:</label>\r\n"
							+ "		                                       <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" value=\""+admin.getPhone()+"\" required>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
							+ "		                                       <label for=\"email\">Email:</label>\r\n"
							+ "		                                       <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" value=\""+admin.getEmail()+"\" required>\r\n"
							+ "		                                       <div class=\"ajax-check-email\"></div>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
							+ "		                                       <label for=\"city\">City:</label>\r\n"
							+ "		                                       <input type=\"text\" class=\"form-control\" id=\"city\" value=\""+admin.getAddress()+"\" required>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <button type=\"button\" id=\"btn-change-profile-admin\" class=\"btn btn-primary mr-2\">Update</button>\r\n"
							+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
							+ "		                              </form>\r\n"
							+ "		                           </div>\r\n"
							+ "		                        </div>\r\n"
							+ "		                     </div>\r\n"
							+ "		                     <div class=\"tab-pane fade\" id=\"chang-pwd\" role=\"tabpanel\">\r\n"
							+ "		                        <div class=\"card\">\r\n"
							+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
							+ "		                              <div class=\"iq-header-title\">\r\n"
							+ "		                                 <h4 class=\"card-title\">Change Password</h4>\r\n"
							+ "		                              </div>\r\n"
							+ "		                           </div>\r\n"
							+ "		                           <div class=\"card-body\">\r\n"
							+ "		                              <form class=\"form-admin\" id=\"form-change-password-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\">\r\n"
							+ "		                              <div class=\"ajax-change-password\"></div>\r\n"
							+ "		                                 <div class=\"form-group\">\r\n"
							+ "		                                 <div class=\"ajax-check-password\"></div>\r\n"
							+ "		                                    <label for=\"cpass\">Current Password:</label>\r\n"
							+ "		                                    <a href=\"javascript:void();\" class=\"float-right\">Forgot Password</a>\r\n"
							+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"cpass\" name=\"cpass\" value=\"\" required>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group\">\r\n"
							+ "		                                    <label for=\"npass\">New Password:</label>\r\n"
							+ "		                                    <div class=\"ajax-check-password-new\"></div>\r\n"
							+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"npass\" name=\"npass\" value=\"\" required>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group\">\r\n"
							+ "		                                    <label for=\"vpass\">Verify Password:</label>\r\n"
							+ "		                                    <div class=\"ajax-check-password-vpass\"></div>\r\n"
							+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"vpass\" name=\"vpass\" value=\"\" required>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <button type=\"button\" id=\"btn-change-password-admin\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
							+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
							+ "		                              </form>\r\n"
							+ "		                           </div>\r\n"
							+ "		                        </div>\r\n"
							+ "		                     </div>\r\n"
							+ "		                     <div class=\"tab-pane fade\" id=\"emailandsms\" role=\"tabpanel\">\r\n"
							+ "		                        <div class=\"card\">\r\n"
							+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
							+ "		                              <div class=\"iq-header-title\">\r\n"
							+ "		                                 <h4 class=\"card-title\">Email and SMS</h4>\r\n"
							+ "		                              </div>\r\n"
							+ "		                           </div>\r\n"
							+ "		                           <div class=\"card-body\">\r\n"
							+ "		                              <form>\r\n"
							+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
							+ "		                                    <label class=\"col-md-3\" for=\"emailnotification\">Email Notification:</label>\r\n"
							+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
							+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"emailnotification\" checked=\"\">\r\n"
							+ "		                                       <label class=\"custom-control-label\" for=\"emailnotification\"></label>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
							+ "		                                    <label class=\"col-md-3\" for=\"smsnotification\">SMS Notification:</label>\r\n"
							+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
							+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"smsnotification\" checked=\"\">\r\n"
							+ "		                                       <label class=\"custom-control-label\" for=\"smsnotification\"></label>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
							+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Email</label>\r\n"
							+ "		                                    <div class=\"col-md-9\">\r\n"
							+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
							+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email01\">\r\n"
							+ "		                                          <label class=\"custom-control-label\" for=\"email01\">You have new notifications.</label>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
							+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email02\">\r\n"
							+ "		                                          <label class=\"custom-control-label\" for=\"email02\">You're sent a direct message</label>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
							+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email03\" checked=\"\">\r\n"
							+ "		                                          <label class=\"custom-control-label\" for=\"email03\">Someone adds you as a connection</label>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
							+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Escalate Emails</label>\r\n"
							+ "		                                    <div class=\"col-md-9\">\r\n"
							+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
							+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email04\">\r\n"
							+ "		                                          <label class=\"custom-control-label\" for=\"email04\"> Upon new order.</label>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
							+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email05\">\r\n"
							+ "		                                          <label class=\"custom-control-label\" for=\"email05\"> New membership approval</label>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
							+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email06\" checked=\"\">\r\n"
							+ "		                                          <label class=\"custom-control-label\" for=\"email06\"> Member registration</label>\r\n"
							+ "		                                       </div>\r\n"
							+ "		                                    </div>\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
							+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
							+ "		                              </form>\r\n"
							+ "		                           </div>\r\n"
							+ "		                        </div>\r\n"
							+ "		                     </div>\r\n"
							+ "		                     <div class=\"tab-pane fade\" id=\"manage-contact\" role=\"tabpanel\">\r\n"
							+ "		                        <div class=\"card\">\r\n"
							+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
							+ "		                              <div class=\"iq-header-title\">\r\n"
							+ "		                                 <h4 class=\"card-title\">Manage Contact</h4>\r\n"
							+ "		                              </div>\r\n"
							+ "		                           </div>\r\n"
							+ "		                           <div class=\"card-body\">\r\n"
							+ "		                              <form>\r\n"
							+ "		                                 <div class=\"form-group\">\r\n"
							+ "		                                    <label for=\"cno\">Contact Number:</label>\r\n"
							+ "		                                    <input type=\"text\" class=\"form-control\" id=\"cno\" value=\""+admin.getPhone()+"\">\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group\">\r\n"
							+ "		                                    <label for=\"email\">Email:</label>\r\n"
							+ "		                                    <input type=\"text\" class=\"form-control\" id=\"email-info\" value=\""+admin.getEmail()+"\">\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <div class=\"form-group\">\r\n"
							+ "		                                    <label for=\"url\">Url:</label>\r\n"
							+ "		                                    <input type=\"text\" class=\"form-control\" id=\"url\" value=\"https://getbootstrap.com\">\r\n"
							+ "		                                 </div>\r\n"
							+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
							+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
							+ "		                              </form>\r\n"
							+ "		                           </div>\r\n"
							+ "		                        </div>\r\n"
							+ "		                     </div>\r\n"
							+ "		                  </div>\r\n"
							+ "		               </div>\r\n"
							+ "		            </div>\r\n"
							+ "		         </div>\r\n"
							+ "		      </div>\r\n"
							+ "		      </div>\r\n"
							+ "            </div>\r\n"
							+ "         </div>\r\n"
							+ "      </div>\r\n"
							+ "      </div>\r\n"
							+ "      	<script type=\"text/javascript\">\r\n"
							+ "      	$('#cpass').on('input', function(){\r\n"
							+ " 	   		 var changedField = $(this);\r\n"
							+ " 			     var cpass = $(\"#cpass\").val(); \r\n"
							+ " 			     var id = "+admin.getId()+"\r\n"
							+ " 			        $.ajax({\r\n"
							+ " 						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
							+ " 						type: 'POST',\r\n"
							+ " 						cache: false,\r\n"
							+ " 						data: {\r\n"
							+ " 								aid: id,\r\n"
							+ " 								acpass: cpass,\r\n"
							+ " 							},\r\n"
							+ " 						success: function(data){\r\n"
							+ " 							$('.ajax-check-password').html(data);\r\n"
							+ " 						},\r\n"
							+ " 						error: function (){\r\n"
							+ " 							alert('Có lỗi xảy ra');\r\n"
							+ " 						},\r\n"
							+ " 					});\r\n"
							+ " 					return false;\r\n"
							+ " 	   	});\r\n"
							+ "      	$('#npass').on('input', function(){\r\n"
							+ "	   		 var changedField = $(this);\r\n"
							+ "			     var cpass = $(\"#cpass\").val(); \r\n"
							+ "			     var npass = $(\"#npass\").val();\r\n"
							+ "			     var id = "+admin.getId()+"\r\n"
							+ "			        $.ajax({\r\n"
							+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
							+ "						type: 'POST',\r\n"
							+ "						cache: false,\r\n"
							+ "						data: {\r\n"
							+ "								aid: id,\r\n"
							+ "								ccpass: cpass,\r\n"
							+ "								cnpass: npass,\r\n"
							+ "							},\r\n"
							+ "						success: function(data){\r\n"
							+ "							$('.ajax-check-password-new').html(data);\r\n"
							+ "						},\r\n"
							+ "						error: function (){\r\n"
							+ "							alert('Có lỗi xảy ra');\r\n"
							+ "						},\r\n"
							+ "					});\r\n"
							+ "					return false;\r\n"
							+ "	   	});\r\n"
							+ "      	$('#vpass').on('input', function(){\r\n"
							+ "	   		 var changedField = $(this);\r\n"
							+ "	   		var npass = $(\"#npass\").val(); \r\n"
							+ "			     var vpass = $(\"#vpass\").val();\r\n"
							+ "			     var id = "+admin.getId()+"\r\n"
							+ "			        $.ajax({\r\n"
							+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
							+ "						type: 'POST',\r\n"
							+ "						cache: false,\r\n"
							+ "						data: {\r\n"
							+ "								aid:id,\r\n"
							+ "								bnpass: npass,\r\n"
							+ "								bvpass: vpass,\r\n"
							+ "							},\r\n"
							+ "						success: function(data){\r\n"
							+ "							$('.ajax-check-password-vpass').html(data);\r\n"
							+ "						},\r\n"
							+ "						error: function (){\r\n"
							+ "							alert('Có lỗi xảy ra');\r\n"
							+ "						},\r\n"
							+ "					});\r\n"
							+ "					return false;\r\n"
							+ "	   	});\r\n"
							+ " 			\r\n"
							+ " 			$('#email').on('blur', function(){\r\n"
							+ " 		   		 var changedField = $(this);\r\n"
							+ " 				     var email = $(\"#email\").val(); \r\n"
							+ " 				     var id = "+admin.getId()+"\r\n"
							+ " 				        $.ajax({\r\n"
							+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
							+ " 							type: 'POST',\r\n"
							+ " 							cache: false,\r\n"
							+ " 							data: {\r\n"
							+ " 									aid: id,\r\n"
							+ " 									'check-email': email,\r\n"
							+ " 								},\r\n"
							+ " 							success: function(data){\r\n"
							+ " 								$('.ajax-check-email').html(data);\r\n"
							+ " 							},\r\n"
							+ " 							error: function (){\r\n"
							+ " 								alert('Có lỗi xảy ra');\r\n"
							+ " 							},\r\n"
							+ " 						});\r\n"
							+ " 						return false;\r\n"
							+ " 		   	});\r\n"
							+ " 			$('#form-change-info-admin').validate({\r\n"
							+ " 	 			 rules:{\r\n"
							+ " 	 				 fullname:{\r\n"
							+ " 	 					 required: true,\r\n"
							+ " 	 					 minlength: 6,\r\n"
							+ " 	 				 },\r\n"
							+ " 	 				 email:{ \r\n"
							+ " 	 					required: true,\r\n"
							+ " 						email: true,\r\n"
							+ " 	 				 },\r\n"
							+ " 	 				 phone:{\r\n"
							+ " 	 					 required: true,\r\n"
							+ " 	 					 minlength: 10,\r\n"
							+ " 	 				 },\r\n"
							+ " 	 				 city:{\r\n"
							+ " 	 					 required: true,\r\n"
							+ " 	 				 },\r\n"
							+ " 	 			 },\r\n"
							+ " 	 			 messages:{\r\n"
							+ " 	 				 fullname:{\r\n"
							+ " 	 					required:'Nhập vào tên.',\r\n"
							+ " 	 					minlength:'Nhập tối thiểu 6 ký tự.',\r\n"
							+ " 	 				 },\r\n"
							+ " 	 				email:{\r\n"
							+ " 						required: 'Nhập vào email của bạn.',\r\n"
							+ " 						email: 'Hãy nhập đúng định dạng.',\r\n"
							+ " 					},\r\n"
							+ " 					phone:{\r\n"
							+ " 						required:'Nhập vào số điện thoại.',\r\n"
							+ " 						minlength: 'Số điện thoại phải 10 ký tự.',\r\n"
							+ " 					},\r\n"
							+ " 					city:{\r\n"
							+ " 						required:'Nhập vào thành phố.',\r\n"
							+ " 					},\r\n"
							+ " 	 			 },\r\n"
							+ " 	 			 \r\n"
							+ " 	 		 });\r\n"
							+ " 			$('#form-change-password-admin').validate({\r\n"
							+ "				 rules:{\r\n"
							+ "					 cpass:{\r\n"
							+ "						 required: true,\r\n"
							+ "						 minlength: 6,\r\n"
							+ "					 },\r\n"
							+ "					npass:{\r\n"
							+ "						 required: true,\r\n"
							+ "						 minlength: 6,\r\n"
							+ "						maxlength:13,\r\n"
							+ "					 },\r\n"
							+ "					vpass:{\r\n"
							+ "						 required: true,\r\n"
							+ "						 minlength: 6,\r\n"
							+ "						maxlength:13,\r\n"
							+ "						equalTo: \"#npass\"\r\n"
							+ "					 },\r\n"
							+ "				 },\r\n"
							+ "			messages:{\r\n"
							+ "					cpass:{\r\n"
							+ "						required: 'Nhập vào mật khẩu cũ.',\r\n"
							+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
							+ "						},\r\n"
							+ "					npass:{\r\n"
							+ "						required: 'Nhập vào mật khẩu mới.',\r\n"
							+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
							+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
							+ "					},\r\n"
							+ "					vpass:{\r\n"
							+ "						required: 'Nhập lại mật khẩu mới.',\r\n"
							+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
							+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
							+ "						equalTo: 'Mật khẩu chưa chính xác.'\r\n"
							+ "					},\r\n"
							+ "			}, \r\n"
							+ " 			});\r\n"
							+ " 			$( \"input[type=file]#avata\" ).change(function(e) {\r\n"
							+ "	    		var filename_input = e.target.files[0].name;\r\n"
							+ "	    		var src = $(\"#display_avata\").attr(\"src\");\r\n"
							+ "		    	var path = src.substring(0,src.lastIndexOf('/'));									    		\r\n"
							+ "		    	var filename = src.split(\"/\").pop();\r\n"
							+ "		    	var newSrc = path+\"/\"+filename_input;\r\n"
							+ "		    	$(\"#display_avata\").attr(\"src\",newSrc);\r\n"
							+ "		    	});\r\n"
							+ " 			$('#btn-change-profile-admin').on('click', function(){\r\n"
							+ " 				//if($('#form-change-info-admin').valid()==true){\r\n"
							+ " 					var formData = new FormData();\r\n"
							+ "					formData.append('aid', "+admin.getId()+");\r\n"
							+ "					formData.append('fullname', $(\"#fullname\").val());\r\n"
							+ "					formData.append('email', $('#email').val());\r\n"
							+ "					formData.append('phone', $('#phone').val());\r\n"
							+ "					formData.append('city', $('#city').val());\r\n"
							+ "					formData.append(\"pic1\", avata.files[0]);\r\n"
							+ " 				        $.ajax({\r\n"
							+ " 							url: '"+request.getContextPath()+"/admin/profile',\r\n"
							+ " 							type: 'POST',\r\n"
							+ " 							cache: false,\r\n"
							+ " 							contentType: false,\r\n"
							+ "          					data: formData,\r\n"
							+ "          					processData: false,\r\n"
							+ " 							success: function(data){\r\n"
							+ " 								$('.ajax-change-info').html(data);\r\n"
							+ " 							},\r\n"
							+ " 							error: function (){\r\n"
							+ " 								alert('Có lỗi xảy ra');\r\n"
							+ " 							},\r\n"
							+ " 						});\r\n"
							+ " 						return false;\r\n"
							+ " 				//}else{\r\n"
							+ " 					//$('#form-change-info-admin').valid();\r\n"
							+ " 				//}\r\n"
							+ " 			});\r\n"
							+ " 			$('#btn-change-password-admin').on('click', function(){\r\n"
							+ " 				//if($('#form-change-password-admin').valid()==true){\r\n"
							+ " 					\r\n"
							+ " 					var changedField = $(this);\r\n"
							+ " 				     var cpass = $('#cpass').val(); \r\n"
							+ " 				     var npass = $('#npass').val();\r\n"
							+ " 				     var id = "+admin.getId()+"\r\n"
							+ " 				        $.ajax({\r\n"
							+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
							+ " 							type: 'POST',\r\n"
							+ " 							cache: false,\r\n"
							+ " 							data: {\r\n"
							+ " 									aid: id,\r\n"
							+ " 									cpass: cpass,\r\n"
							+ " 									npass: npass,\r\n"
							+ " 								},\r\n"
							+ " 							success: function(data){\r\n"
							+ " 								$('.ajax-change-password').html(data);\r\n"
							+ " 								$('#form-change-password-admin').trigger(\"reset\");\r\n"
							+ " 							},\r\n"
							+ " 							error: function (){\r\n"
							+ " 								alert('Có lỗi xảy ra');\r\n"
							+ " 							},\r\n"
							+ " 						});\r\n"
							+ " 						return false;\r\n"
							+ " 				//}else{\r\n"
							+ " 					//$('#form-change-password-admin').valid();\r\n"
							+ " 				//}\r\n"
							+ " 			});\r\n"
							+ "      		function setInputFilter(textbox, inputFilter) {\r\n"
							+ "      		  [\"input\", \"keydown\", \"keyup\", \"mousedown\", \"mouseup\", \"select\", \"contextmenu\", \"drop\"].forEach(function(event) {\r\n"
							+ "      		    textbox.addEventListener(event, function() {\r\n"
							+ "      		      if (inputFilter(this.value)) {\r\n"
							+ "      		        this.oldValue = this.value;\r\n"
							+ "      		        this.oldSelectionStart = this.selectionStart;\r\n"
							+ "      		        this.oldSelectionEnd = this.selectionEnd;\r\n"
							+ "      		      } else if (this.hasOwnProperty(\"oldValue\")) {\r\n"
							+ "      		        this.value = this.oldValue;\r\n"
							+ "      		        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);\r\n"
							+ "      		      } else {\r\n"
							+ "      		        this.value = \"\";\r\n"
							+ "      		      }\r\n"
							+ "      		    });\r\n"
							+ "      		  });\r\n"
							+ "      		};\r\n"
							+ "      		setInputFilter(document.getElementById(\"phone\"), function(value) {\r\n"
							+ "      		  return /^\\d*$/.test(value); });\r\n"
							+ "		</script>");
				}
			}else {
				if(objAdmin.getImages()!=null) {
					if(objAdmin.getImages().equalsIgnoreCase(image)) {
						AdminInfor = new Admin(id, "", "", fullname, email, phone, city, "", "", 0, "");
						int result = AdminDAO.updateInfoNormal(AdminInfor, id);
						if(result>0) {
							Admin admin = AdminDAO.getUsById(id);
							session.setAttribute("objUAd", admin);
							response.getWriter().print("<script>alert('Thành công!');</script>"
									+ "					<div class=\"modal fade\" id=\"new-order\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n"
									+ "          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n"
									+ "              <div class=\"modal-content\">\r\n"
									+ "                  <div class=\"modal-body\">\r\n"
									+ "                      <div class=\"popup text-left\">\r\n"
									+ "                          <h4 class=\"mb-3\">New Order</h4>\r\n"
									+ "                          <div class=\"content create-workform bg-body\">\r\n"
									+ "                              <div class=\"pb-3\">\r\n"
									+ "                                  <label class=\"mb-2\">Email</label>\r\n"
									+ "                                  <input type=\"text\" class=\"form-control\" placeholder=\"Enter Name or Email\">\r\n"
									+ "                              </div>\r\n"
									+ "                              <div class=\"col-lg-12 mt-4\">\r\n"
									+ "                                  <div class=\"d-flex flex-wrap align-items-ceter justify-content-center\">\r\n"
									+ "                                      <div class=\"btn btn-primary mr-4\" data-dismiss=\"modal\">Cancel</div>\r\n"
									+ "                                      <div class=\"btn btn-outline-primary\" data-dismiss=\"modal\">Create</div>\r\n"
									+ "                                  </div>\r\n"
									+ "                              </div>\r\n"
									+ "                          </div>\r\n"
									+ "                      </div>\r\n"
									+ "                  </div>\r\n"
									+ "              </div>\r\n"
									+ "          </div>\r\n"
									+ "      </div>      \r\n"
									+ "      <div class=\"content-page\">\r\n"
									+ "      <div class=\"container-fluid\">\r\n"
									+ "         <div class=\"row\">\r\n"
									+ "            <div class=\"col-lg-12\">\r\n"
									+ "               <div class=\"card car-transparent\">\r\n"
									+ "                  <div class=\"card-body p-0\">\r\n"
									+ "                     <div class=\"profile-image position-relative\">\r\n"
									+ "                        <img src=\""+request.getContextPath()+"/templates/admin/assets/images/page-img/profile.png\" class=\"img-fluid rounded w-100\" alt=\"profile-image\">\r\n"
									+ "                     </div>\r\n"
									+ "                  </div>\r\n"
									+ "               </div>\r\n"
									+ "            </div>\r\n"
									+ "         </div>\r\n"
									+ "         <div class=\"row m-sm-0 px-3\">            \r\n"
									+ "            <div class=\"col-lg-4 card-profile\">\r\n"
									+ "            <div class=\"content-page\">\r\n"
									+ "            	<div class=\"card card-block card-stretch card-height\">\r\n"
									+ "                  <div class=\"card-body\">\r\n"
									+ "                     <div class=\"d-flex align-items-center mb-3\">\r\n"
									+ "                        <div class=\"profile-img position-relative\">\r\n"
									+ "                           <img src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" class=\"img-fluid rounded avatar-110\" alt=\"profile-image\">\r\n"
									+ "                        </div>\r\n"
									+ "                        <div class=\"ml-3\">\r\n"
									+ "                           <h4 class=\"mb-1\">"+admin.getUsername()+"</h4>\r\n"
									+ "                           <p class=\"mb-2\">"+admin.getPosition_detail()+"</p>\r\n"
									+ "                        </div>\r\n"
									+ "                     </div>\r\n"
									+ "                     <ul class=\"list-inline p-0 m-0\">\r\n"
									+ "                        <li class=\"mb-2\">\r\n"
									+ "                           <div class=\"d-flex align-items-center\">\r\n"
									+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n"
									+ "                              </svg>\r\n"
									+ "                              <p class=\"mb-0\">"+admin.getAddress()+"</p>   \r\n"
									+ "                           </div>\r\n"
									+ "                        </li>\r\n"
									+ "                        <li class=\"mb-2\">\r\n"
									+ "                           <div class=\"d-flex align-items-center\">\r\n"
									+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n"
									+ "                              </svg>\r\n"
									+ "                              <p class=\"mb-0\">"+admin.getPhone()+"</p>   \r\n"
									+ "                           </div>\r\n"
									+ "                        </li>\r\n"
									+ "                        <li>\r\n"
									+ "                           <div class=\"d-flex align-items-center\">\r\n"
									+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n"
									+ "                              </svg>\r\n"
									+ "                              <p class=\"mb-0\">"+admin.getEmail()+"</p>   \r\n"
									+ "                           </div>\r\n"
									+ "                        </li>\r\n"
									+ "                     </ul>\r\n"
									+ "                  </div>\r\n"
									+ "               </div>\r\n"
									+ "            </div>\r\n"
									+ "            </div>\r\n"
									+ "            <div class=\"col-lg-8 card-profile\">\r\n"
									+ "            	<div class=\"content-page\">\r\n"
									+ "		      <div class=\"container-fluid\">\r\n"
									+ "		         <div class=\"row\">\r\n"
									+ "		            <div class=\"col-lg-12\">\r\n"
									+ "		               <div class=\"card\">\r\n"
									+ "		                  <div class=\"card-body p-0\">\r\n"
									+ "		                     <div class=\"iq-edit-list usr-edit\">\r\n"
									+ "		                        <ul class=\"iq-edit-profile d-flex nav nav-pills\">\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#personal-information\">\r\n"
									+ "		                              Personal Information\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#chang-pwd\">\r\n"
									+ "		                              Change Password\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#emailandsms\">\r\n"
									+ "		                              Email and SMS\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#manage-contact\">\r\n"
									+ "		                              Manage Contact\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                        </ul>\r\n"
									+ "		                     </div>\r\n"
									+ "		                  </div>\r\n"
									+ "		               </div>\r\n"
									+ "		            </div>\r\n"
									+ "		            <div class=\"col-lg-12\">\r\n"
									+ "		               <div class=\"iq-edit-list-data\">\r\n"
									+ "		                  <div class=\"tab-content\">\r\n"
									+ "		                     <div class=\"tab-pane fade active show\" id=\"personal-information\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Personal Information</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form class=\"form-admin\" id=\"form-change-info-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\" enctype=\"multipart/form-data\">\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <div class=\"col-md-12\">\r\n"
									+ "		                                       <div class=\"profile-img-edit\">\r\n"
									+ "		                                          <div class=\"crm-profile-img-edit\">\r\n"
									+ "		                                             <img class=\"crm-profile-pic1 rounded-circle avatar-100\" id=\"display_avata\" src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" alt=\"profile-pic1\">\r\n"
									+ "		                                             <div class=\"crm-p-image bg-primary\">\r\n"
									+ "		                                                <i class=\"las la-pen upload-button\"></i>\r\n"
									+ "		                                                <input class=\"file-upload\" type=\"file\" id=\"avata\" name=\"pic1\" accept=\"image/*\">\r\n"
									+ "		                                             </div>\r\n"
									+ "		                                          </div>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\" row align-items-center\">\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"fullname\">Full Name:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"fullname\" name=\"fullname\" value=\""+admin.getFullname()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"username\">User Name:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"username\" name=\"username\" disabled value=\""+admin.getUsername()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"phone\">Phone:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" value=\""+admin.getPhone()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"email\">Email:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" value=\""+admin.getEmail()+"\" required>\r\n"
									+ "		                                       <div class=\"ajax-check-email\"></div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"city\">City:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"city\" value=\""+admin.getAddress()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"button\" id=\"btn-change-profile-admin\" class=\"btn btn-primary mr-2\">Update</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                     <div class=\"tab-pane fade\" id=\"chang-pwd\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Change Password</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form class=\"form-admin\" id=\"form-change-password-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\">\r\n"
									+ "		                              <div class=\"ajax-change-password\"></div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                 <div class=\"ajax-check-password\"></div>\r\n"
									+ "		                                    <label for=\"cpass\">Current Password:</label>\r\n"
									+ "		                                    <a href=\"javascript:void();\" class=\"float-right\">Forgot Password</a>\r\n"
									+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"cpass\" name=\"cpass\" value=\"\" required>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"npass\">New Password:</label>\r\n"
									+ "		                                    <div class=\"ajax-check-password-new\"></div>\r\n"
									+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"npass\" name=\"npass\" value=\"\" required>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"vpass\">Verify Password:</label>\r\n"
									+ "		                                    <div class=\"ajax-check-password-vpass\"></div>\r\n"
									+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"vpass\" name=\"vpass\" value=\"\" required>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"button\" id=\"btn-change-password-admin\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                     <div class=\"tab-pane fade\" id=\"emailandsms\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Email and SMS</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"emailnotification\">Email Notification:</label>\r\n"
									+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
									+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"emailnotification\" checked=\"\">\r\n"
									+ "		                                       <label class=\"custom-control-label\" for=\"emailnotification\"></label>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"smsnotification\">SMS Notification:</label>\r\n"
									+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
									+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"smsnotification\" checked=\"\">\r\n"
									+ "		                                       <label class=\"custom-control-label\" for=\"smsnotification\"></label>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Email</label>\r\n"
									+ "		                                    <div class=\"col-md-9\">\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email01\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email01\">You have new notifications.</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email02\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email02\">You're sent a direct message</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email03\" checked=\"\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email03\">Someone adds you as a connection</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Escalate Emails</label>\r\n"
									+ "		                                    <div class=\"col-md-9\">\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email04\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email04\"> Upon new order.</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email05\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email05\"> New membership approval</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email06\" checked=\"\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email06\"> Member registration</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                     <div class=\"tab-pane fade\" id=\"manage-contact\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Manage Contact</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"cno\">Contact Number:</label>\r\n"
									+ "		                                    <input type=\"text\" class=\"form-control\" id=\"cno\" value=\""+admin.getPhone()+"\">\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"email\">Email:</label>\r\n"
									+ "		                                    <input type=\"text\" class=\"form-control\" id=\"email-info\" value=\""+admin.getEmail()+"\">\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"url\">Url:</label>\r\n"
									+ "		                                    <input type=\"text\" class=\"form-control\" id=\"url\" value=\"https://getbootstrap.com\">\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                  </div>\r\n"
									+ "		               </div>\r\n"
									+ "		            </div>\r\n"
									+ "		         </div>\r\n"
									+ "		      </div>\r\n"
									+ "		      </div>\r\n"
									+ "            </div>\r\n"
									+ "         </div>\r\n"
									+ "      </div>\r\n"
									+ "      </div>\r\n"
									+ "      	<script type=\"text/javascript\">\r\n"
									+ "      	$('#cpass').on('input', function(){\r\n"
									+ " 	   		 var changedField = $(this);\r\n"
									+ " 			     var cpass = $(\"#cpass\").val(); \r\n"
									+ " 			     var id = "+admin.getId()+"\r\n"
									+ " 			        $.ajax({\r\n"
									+ " 						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ " 						type: 'POST',\r\n"
									+ " 						cache: false,\r\n"
									+ " 						data: {\r\n"
									+ " 								aid: id,\r\n"
									+ " 								acpass: cpass,\r\n"
									+ " 							},\r\n"
									+ " 						success: function(data){\r\n"
									+ " 							$('.ajax-check-password').html(data);\r\n"
									+ " 						},\r\n"
									+ " 						error: function (){\r\n"
									+ " 							alert('Có lỗi xảy ra');\r\n"
									+ " 						},\r\n"
									+ " 					});\r\n"
									+ " 					return false;\r\n"
									+ " 	   	});\r\n"
									+ "      	$('#npass').on('input', function(){\r\n"
									+ "	   		 var changedField = $(this);\r\n"
									+ "			     var cpass = $(\"#cpass\").val(); \r\n"
									+ "			     var npass = $(\"#npass\").val();\r\n"
									+ "			     var id = "+admin.getId()+"\r\n"
									+ "			        $.ajax({\r\n"
									+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ "						type: 'POST',\r\n"
									+ "						cache: false,\r\n"
									+ "						data: {\r\n"
									+ "								aid: id,\r\n"
									+ "								ccpass: cpass,\r\n"
									+ "								cnpass: npass,\r\n"
									+ "							},\r\n"
									+ "						success: function(data){\r\n"
									+ "							$('.ajax-check-password-new').html(data);\r\n"
									+ "						},\r\n"
									+ "						error: function (){\r\n"
									+ "							alert('Có lỗi xảy ra');\r\n"
									+ "						},\r\n"
									+ "					});\r\n"
									+ "					return false;\r\n"
									+ "	   	});\r\n"
									+ "      	$('#vpass').on('input', function(){\r\n"
									+ "	   		 var changedField = $(this);\r\n"
									+ "	   		var npass = $(\"#npass\").val(); \r\n"
									+ "			     var vpass = $(\"#vpass\").val();\r\n"
									+ "			     var id = "+admin.getId()+"\r\n"
									+ "			        $.ajax({\r\n"
									+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ "						type: 'POST',\r\n"
									+ "						cache: false,\r\n"
									+ "						data: {\r\n"
									+ "								aid:id,\r\n"
									+ "								bnpass: npass,\r\n"
									+ "								bvpass: vpass,\r\n"
									+ "							},\r\n"
									+ "						success: function(data){\r\n"
									+ "							$('.ajax-check-password-vpass').html(data);\r\n"
									+ "						},\r\n"
									+ "						error: function (){\r\n"
									+ "							alert('Có lỗi xảy ra');\r\n"
									+ "						},\r\n"
									+ "					});\r\n"
									+ "					return false;\r\n"
									+ "	   	});\r\n"
									+ " 			\r\n"
									+ " 			$('#email').on('blur', function(){\r\n"
									+ " 		   		 var changedField = $(this);\r\n"
									+ " 				     var email = $(\"#email\").val(); \r\n"
									+ " 				     var id = "+admin.getId()+"\r\n"
									+ " 				        $.ajax({\r\n"
									+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ " 							type: 'POST',\r\n"
									+ " 							cache: false,\r\n"
									+ " 							data: {\r\n"
									+ " 									aid: id,\r\n"
									+ " 									'check-email': email,\r\n"
									+ " 								},\r\n"
									+ " 							success: function(data){\r\n"
									+ " 								$('.ajax-check-email').html(data);\r\n"
									+ " 							},\r\n"
									+ " 							error: function (){\r\n"
									+ " 								alert('Có lỗi xảy ra');\r\n"
									+ " 							},\r\n"
									+ " 						});\r\n"
									+ " 						return false;\r\n"
									+ " 		   	});\r\n"
									+ " 			$('#form-change-info-admin').validate({\r\n"
									+ " 	 			 rules:{\r\n"
									+ " 	 				 fullname:{\r\n"
									+ " 	 					 required: true,\r\n"
									+ " 	 					 minlength: 6,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				 email:{ \r\n"
									+ " 	 					required: true,\r\n"
									+ " 						email: true,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				 phone:{\r\n"
									+ " 	 					 required: true,\r\n"
									+ " 	 					 minlength: 10,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				 city:{\r\n"
									+ " 	 					 required: true,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 			 },\r\n"
									+ " 	 			 messages:{\r\n"
									+ " 	 				 fullname:{\r\n"
									+ " 	 					required:'Nhập vào tên.',\r\n"
									+ " 	 					minlength:'Nhập tối thiểu 6 ký tự.',\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				email:{\r\n"
									+ " 						required: 'Nhập vào email của bạn.',\r\n"
									+ " 						email: 'Hãy nhập đúng định dạng.',\r\n"
									+ " 					},\r\n"
									+ " 					phone:{\r\n"
									+ " 						required:'Nhập vào số điện thoại.',\r\n"
									+ " 						minlength: 'Số điện thoại phải 10 ký tự.',\r\n"
									+ " 					},\r\n"
									+ " 					city:{\r\n"
									+ " 						required:'Nhập vào thành phố.',\r\n"
									+ " 					},\r\n"
									+ " 	 			 },\r\n"
									+ " 	 			 \r\n"
									+ " 	 		 });\r\n"
									+ " 			$('#form-change-password-admin').validate({\r\n"
									+ "				 rules:{\r\n"
									+ "					 cpass:{\r\n"
									+ "						 required: true,\r\n"
									+ "						 minlength: 6,\r\n"
									+ "					 },\r\n"
									+ "					npass:{\r\n"
									+ "						 required: true,\r\n"
									+ "						 minlength: 6,\r\n"
									+ "						maxlength:13,\r\n"
									+ "					 },\r\n"
									+ "					vpass:{\r\n"
									+ "						 required: true,\r\n"
									+ "						 minlength: 6,\r\n"
									+ "						maxlength:13,\r\n"
									+ "						equalTo: \"#npass\"\r\n"
									+ "					 },\r\n"
									+ "				 },\r\n"
									+ "			messages:{\r\n"
									+ "					cpass:{\r\n"
									+ "						required: 'Nhập vào mật khẩu cũ.',\r\n"
									+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
									+ "						},\r\n"
									+ "					npass:{\r\n"
									+ "						required: 'Nhập vào mật khẩu mới.',\r\n"
									+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
									+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
									+ "					},\r\n"
									+ "					vpass:{\r\n"
									+ "						required: 'Nhập lại mật khẩu mới.',\r\n"
									+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
									+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
									+ "						equalTo: 'Mật khẩu chưa chính xác.'\r\n"
									+ "					},\r\n"
									+ "			}, \r\n"
									+ " 			});\r\n"
									+ " 			$( \"input[type=file]#avata\" ).change(function(e) {\r\n"
									+ "	    		var filename_input = e.target.files[0].name;\r\n"
									+ "	    		var src = $(\"#display_avata\").attr(\"src\");\r\n"
									+ "		    	var path = src.substring(0,src.lastIndexOf('/'));\r\n"
									+ "		    	var filename = src.split(\"/\").pop();\r\n"
									+ "		    	var newSrc = path+\"/\"+filename_input;\r\n"
									+ "		    	$(\"#display_avata\").attr(\"src\",newSrc);\r\n"
									+ "		    	});\r\n"
									+ " 			$('#btn-change-profile-admin').on('click', function(){\r\n"
									+ " 				//if($('#form-change-info-admin').valid()==true){\r\n"
									+ " 					var formData = new FormData();\r\n"
									+ "					formData.append('aid', "+admin.getId()+");\r\n"
									+ "					formData.append('fullname', $(\"#fullname\").val());\r\n"
									+ "					formData.append('email', $('#email').val());\r\n"
									+ "					formData.append('phone', $('#phone').val());\r\n"
									+ "					formData.append('city', $('#city').val());\r\n"
									+ "					formData.append(\"pic1\", avata.files[0]);\r\n"
									+ " 				        $.ajax({\r\n"
									+ " 							url: '"+request.getContextPath()+"/admin/profile',\r\n"
									+ " 							type: 'POST',\r\n"
									+ " 							cache: false,\r\n"
									+ " 							contentType: false,\r\n"
									+ "          					data: formData,\r\n"
									+ "          					processData: false,\r\n"
									+ " 							success: function(data){\r\n"
									+ " 								$('.ajax-change-info').html(data);\r\n"
									+ " 							},\r\n"
									+ " 							error: function (){\r\n"
									+ " 								alert('Có lỗi xảy ra');\r\n"
									+ " 							},\r\n"
									+ " 						});\r\n"
									+ " 						return false;\r\n"
									+ " 				//}else{\r\n"
									+ " 					//$('#form-change-info-admin').valid();\r\n"
									+ " 				//}\r\n"
									+ " 			});\r\n"
									+ " 			$('#btn-change-password-admin').on('click', function(){\r\n"
									+ " 				//if($('#form-change-password-admin').valid()==true){\r\n"
									+ " 					\r\n"
									+ " 					var changedField = $(this);\r\n"
									+ " 				     var cpass = $('#cpass').val(); \r\n"
									+ " 				     var npass = $('#npass').val();\r\n"
									+ " 				     var id = "+admin.getId()+"\r\n"
									+ " 				        $.ajax({\r\n"
									+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ " 							type: 'POST',\r\n"
									+ " 							cache: false,\r\n"
									+ " 							data: {\r\n"
									+ " 									aid: id,\r\n"
									+ " 									cpass: cpass,\r\n"
									+ " 									npass: npass,\r\n"
									+ " 								},\r\n"
									+ " 							success: function(data){\r\n"
									+ " 								$('.ajax-change-password').html(data);\r\n"
									+ " 								$('#form-change-password-admin').trigger(\"reset\");\r\n"
									+ " 							},\r\n"
									+ " 							error: function (){\r\n"
									+ " 								alert('Có lỗi xảy ra');\r\n"
									+ " 							},\r\n"
									+ " 						});\r\n"
									+ " 						return false;\r\n"
									+ " 				//}else{\r\n"
									+ " 					//$('#form-change-password-admin').valid();\r\n"
									+ " 				//}\r\n"
									+ " 			});\r\n"
									+ "      		function setInputFilter(textbox, inputFilter) {\r\n"
									+ "      		  [\"input\", \"keydown\", \"keyup\", \"mousedown\", \"mouseup\", \"select\", \"contextmenu\", \"drop\"].forEach(function(event) {\r\n"
									+ "      		    textbox.addEventListener(event, function() {\r\n"
									+ "      		      if (inputFilter(this.value)) {\r\n"
									+ "      		        this.oldValue = this.value;\r\n"
									+ "      		        this.oldSelectionStart = this.selectionStart;\r\n"
									+ "      		        this.oldSelectionEnd = this.selectionEnd;\r\n"
									+ "      		      } else if (this.hasOwnProperty(\"oldValue\")) {\r\n"
									+ "      		        this.value = this.oldValue;\r\n"
									+ "      		        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);\r\n"
									+ "      		      } else {\r\n"
									+ "      		        this.value = \"\";\r\n"
									+ "      		      }\r\n"
									+ "      		    });\r\n"
									+ "      		  });\r\n"
									+ "      		};\r\n"
									+ "      		setInputFilter(document.getElementById(\"phone\"), function(value) {\r\n"
									+ "      		  return /^\\d*$/.test(value); });\r\n"
									+ "		</script>");
						}else {

							Admin admin = AdminDAO.getUsById(id);
							session.setAttribute("objUAd", admin);
							response.getWriter().print("<script>alert('Không thành công!');</script>"
									+ "					<div class=\"modal fade\" id=\"new-order\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n"
									+ "          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n"
									+ "              <div class=\"modal-content\">\r\n"
									+ "                  <div class=\"modal-body\">\r\n"
									+ "                      <div class=\"popup text-left\">\r\n"
									+ "                          <h4 class=\"mb-3\">New Order</h4>\r\n"
									+ "                          <div class=\"content create-workform bg-body\">\r\n"
									+ "                              <div class=\"pb-3\">\r\n"
									+ "                                  <label class=\"mb-2\">Email</label>\r\n"
									+ "                                  <input type=\"text\" class=\"form-control\" placeholder=\"Enter Name or Email\">\r\n"
									+ "                              </div>\r\n"
									+ "                              <div class=\"col-lg-12 mt-4\">\r\n"
									+ "                                  <div class=\"d-flex flex-wrap align-items-ceter justify-content-center\">\r\n"
									+ "                                      <div class=\"btn btn-primary mr-4\" data-dismiss=\"modal\">Cancel</div>\r\n"
									+ "                                      <div class=\"btn btn-outline-primary\" data-dismiss=\"modal\">Create</div>\r\n"
									+ "                                  </div>\r\n"
									+ "                              </div>\r\n"
									+ "                          </div>\r\n"
									+ "                      </div>\r\n"
									+ "                  </div>\r\n"
									+ "              </div>\r\n"
									+ "          </div>\r\n"
									+ "      </div>      \r\n"
									+ "      <div class=\"content-page\">\r\n"
									+ "      <div class=\"container-fluid\">\r\n"
									+ "         <div class=\"row\">\r\n"
									+ "            <div class=\"col-lg-12\">\r\n"
									+ "               <div class=\"card car-transparent\">\r\n"
									+ "                  <div class=\"card-body p-0\">\r\n"
									+ "                     <div class=\"profile-image position-relative\">\r\n"
									+ "                        <img src=\""+request.getContextPath()+"/templates/admin/assets/images/page-img/profile.png\" class=\"img-fluid rounded w-100\" alt=\"profile-image\">\r\n"
									+ "                     </div>\r\n"
									+ "                  </div>\r\n"
									+ "               </div>\r\n"
									+ "            </div>\r\n"
									+ "         </div>\r\n"
									+ "         <div class=\"row m-sm-0 px-3\">            \r\n"
									+ "            <div class=\"col-lg-4 card-profile\">\r\n"
									+ "            <div class=\"content-page\">\r\n"
									+ "            	<div class=\"card card-block card-stretch card-height\">\r\n"
									+ "                  <div class=\"card-body\">\r\n"
									+ "                     <div class=\"d-flex align-items-center mb-3\">\r\n"
									+ "                        <div class=\"profile-img position-relative\">\r\n"
									+ "                           <img src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" class=\"img-fluid rounded avatar-110\" alt=\"profile-image\">\r\n"
									+ "                        </div>\r\n"
									+ "                        <div class=\"ml-3\">\r\n"
									+ "                           <h4 class=\"mb-1\">"+admin.getUsername()+"</h4>\r\n"
									+ "                           <p class=\"mb-2\">"+admin.getPosition_detail()+"</p>\r\n"
									+ "                        </div>\r\n"
									+ "                     </div>\r\n"
									+ "                     <ul class=\"list-inline p-0 m-0\">\r\n"
									+ "                        <li class=\"mb-2\">\r\n"
									+ "                           <div class=\"d-flex align-items-center\">\r\n"
									+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n"
									+ "                              </svg>\r\n"
									+ "                              <p class=\"mb-0\">"+admin.getAddress()+"</p>   \r\n"
									+ "                           </div>\r\n"
									+ "                        </li>\r\n"
									+ "                        <li class=\"mb-2\">\r\n"
									+ "                           <div class=\"d-flex align-items-center\">\r\n"
									+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n"
									+ "                              </svg>\r\n"
									+ "                              <p class=\"mb-0\">"+admin.getPhone()+"</p>   \r\n"
									+ "                           </div>\r\n"
									+ "                        </li>\r\n"
									+ "                        <li>\r\n"
									+ "                           <div class=\"d-flex align-items-center\">\r\n"
									+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n"
									+ "                              </svg>\r\n"
									+ "                              <p class=\"mb-0\">"+admin.getEmail()+"</p>   \r\n"
									+ "                           </div>\r\n"
									+ "                        </li>\r\n"
									+ "                     </ul>\r\n"
									+ "                  </div>\r\n"
									+ "               </div>\r\n"
									+ "            </div>\r\n"
									+ "            </div>\r\n"
									+ "            <div class=\"col-lg-8 card-profile\">\r\n"
									+ "            	<div class=\"content-page\">\r\n"
									+ "		      <div class=\"container-fluid\">\r\n"
									+ "		         <div class=\"row\">\r\n"
									+ "		            <div class=\"col-lg-12\">\r\n"
									+ "		               <div class=\"card\">\r\n"
									+ "		                  <div class=\"card-body p-0\">\r\n"
									+ "		                     <div class=\"iq-edit-list usr-edit\">\r\n"
									+ "		                        <ul class=\"iq-edit-profile d-flex nav nav-pills\">\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#personal-information\">\r\n"
									+ "		                              Personal Information\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#chang-pwd\">\r\n"
									+ "		                              Change Password\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#emailandsms\">\r\n"
									+ "		                              Email and SMS\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#manage-contact\">\r\n"
									+ "		                              Manage Contact\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                        </ul>\r\n"
									+ "		                     </div>\r\n"
									+ "		                  </div>\r\n"
									+ "		               </div>\r\n"
									+ "		            </div>\r\n"
									+ "		            <div class=\"col-lg-12\">\r\n"
									+ "		               <div class=\"iq-edit-list-data\">\r\n"
									+ "		                  <div class=\"tab-content\">\r\n"
									+ "		                     <div class=\"tab-pane fade active show\" id=\"personal-information\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Personal Information</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form class=\"form-admin\" id=\"form-change-info-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\" enctype=\"multipart/form-data\">\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <div class=\"col-md-12\">\r\n"
									+ "		                                       <div class=\"profile-img-edit\">\r\n"
									+ "		                                          <div class=\"crm-profile-img-edit\">\r\n"
									+ "		                                             <img class=\"crm-profile-pic1 rounded-circle avatar-100\" id=\"display_avata\" src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" alt=\"profile-pic1\">\r\n"
									+ "		                                             <div class=\"crm-p-image bg-primary\">\r\n"
									+ "		                                                <i class=\"las la-pen upload-button\"></i>\r\n"
									+ "		                                                <input class=\"file-upload\" type=\"file\" id=\"avata\" name=\"pic1\" accept=\"image/*\">\r\n"
									+ "		                                             </div>\r\n"
									+ "		                                          </div>                                          \r\n"
									+ "		                                       </div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\" row align-items-center\">\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"fullname\">Full Name:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"fullname\" name=\"fullname\" value=\""+admin.getFullname()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"username\">User Name:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"username\" name=\"username\" disabled value=\""+admin.getUsername()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"phone\">Phone:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" value=\""+admin.getPhone()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"email\">Email:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" value=\""+admin.getEmail()+"\" required>\r\n"
									+ "		                                       <div class=\"ajax-check-email\"></div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"city\">City:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"city\" value=\""+admin.getAddress()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"button\" id=\"btn-change-profile-admin\" class=\"btn btn-primary mr-2\">Update</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                     <div class=\"tab-pane fade\" id=\"chang-pwd\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Change Password</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form class=\"form-admin\" id=\"form-change-password-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\">\r\n"
									+ "		                              <div class=\"ajax-change-password\"></div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                 <div class=\"ajax-check-password\"></div>\r\n"
									+ "		                                    <label for=\"cpass\">Current Password:</label>\r\n"
									+ "		                                    <a href=\"javascript:void();\" class=\"float-right\">Forgot Password</a>\r\n"
									+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"cpass\" name=\"cpass\" value=\"\" required>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"npass\">New Password:</label>\r\n"
									+ "		                                    <div class=\"ajax-check-password-new\"></div>\r\n"
									+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"npass\" name=\"npass\" value=\"\" required>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"vpass\">Verify Password:</label>\r\n"
									+ "		                                    <div class=\"ajax-check-password-vpass\"></div>\r\n"
									+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"vpass\" name=\"vpass\" value=\"\" required>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"button\" id=\"btn-change-password-admin\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                     <div class=\"tab-pane fade\" id=\"emailandsms\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Email and SMS</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"emailnotification\">Email Notification:</label>\r\n"
									+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
									+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"emailnotification\" checked=\"\">\r\n"
									+ "		                                       <label class=\"custom-control-label\" for=\"emailnotification\"></label>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"smsnotification\">SMS Notification:</label>\r\n"
									+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
									+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"smsnotification\" checked=\"\">\r\n"
									+ "		                                       <label class=\"custom-control-label\" for=\"smsnotification\"></label>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Email</label>\r\n"
									+ "		                                    <div class=\"col-md-9\">\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email01\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email01\">You have new notifications.</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email02\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email02\">You're sent a direct message</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email03\" checked=\"\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email03\">Someone adds you as a connection</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Escalate Emails</label>\r\n"
									+ "		                                    <div class=\"col-md-9\">\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email04\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email04\"> Upon new order.</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email05\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email05\"> New membership approval</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email06\" checked=\"\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email06\"> Member registration</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                     <div class=\"tab-pane fade\" id=\"manage-contact\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Manage Contact</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"cno\">Contact Number:</label>\r\n"
									+ "		                                    <input type=\"text\" class=\"form-control\" id=\"cno\" value=\""+admin.getPhone()+"\">\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"email\">Email:</label>\r\n"
									+ "		                                    <input type=\"text\" class=\"form-control\" id=\"email-info\" value=\""+admin.getEmail()+"\">\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"url\">Url:</label>\r\n"
									+ "		                                    <input type=\"text\" class=\"form-control\" id=\"url\" value=\"https://getbootstrap.com\">\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                  </div>\r\n"
									+ "		               </div>\r\n"
									+ "		            </div>\r\n"
									+ "		         </div>\r\n"
									+ "		      </div>\r\n"
									+ "		      </div>\r\n"
									+ "            </div>\r\n"
									+ "         </div>\r\n"
									+ "      </div>\r\n"
									+ "      </div>\r\n"
									+ "      	<script type=\"text/javascript\">\r\n"
									+ "      	$('#cpass').on('input', function(){\r\n"
									+ " 	   		 var changedField = $(this);\r\n"
									+ " 			     var cpass = $(\"#cpass\").val(); \r\n"
									+ " 			     var id = "+admin.getId()+"\r\n"
									+ " 			        $.ajax({\r\n"
									+ " 						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ " 						type: 'POST',\r\n"
									+ " 						cache: false,\r\n"
									+ " 						data: {\r\n"
									+ " 								aid: id,\r\n"
									+ " 								acpass: cpass,\r\n"
									+ " 							},\r\n"
									+ " 						success: function(data){\r\n"
									+ " 							$('.ajax-check-password').html(data);\r\n"
									+ " 						},\r\n"
									+ " 						error: function (){\r\n"
									+ " 							alert('Có lỗi xảy ra');\r\n"
									+ " 						},\r\n"
									+ " 					});\r\n"
									+ " 					return false;\r\n"
									+ " 	   	});\r\n"
									+ "      	$('#npass').on('input', function(){\r\n"
									+ "	   		 var changedField = $(this);\r\n"
									+ "			     var cpass = $(\"#cpass\").val(); \r\n"
									+ "			     var npass = $(\"#npass\").val();\r\n"
									+ "			     var id = "+admin.getId()+"\r\n"
									+ "			        $.ajax({\r\n"
									+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ "						type: 'POST',\r\n"
									+ "						cache: false,\r\n"
									+ "						data: {\r\n"
									+ "								aid: id,\r\n"
									+ "								ccpass: cpass,\r\n"
									+ "								cnpass: npass,\r\n"
									+ "							},\r\n"
									+ "						success: function(data){\r\n"
									+ "							$('.ajax-check-password-new').html(data);\r\n"
									+ "						},\r\n"
									+ "						error: function (){\r\n"
									+ "							alert('Có lỗi xảy ra');\r\n"
									+ "						},\r\n"
									+ "					});\r\n"
									+ "					return false;\r\n"
									+ "	   	});\r\n"
									+ "      	$('#vpass').on('input', function(){\r\n"
									+ "	   		 var changedField = $(this);\r\n"
									+ "	   		var npass = $(\"#npass\").val(); \r\n"
									+ "			     var vpass = $(\"#vpass\").val();\r\n"
									+ "			     var id = "+admin.getId()+"\r\n"
									+ "			        $.ajax({\r\n"
									+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ "						type: 'POST',\r\n"
									+ "						cache: false,\r\n"
									+ "						data: {\r\n"
									+ "								aid:id,\r\n"
									+ "								bnpass: npass,\r\n"
									+ "								bvpass: vpass,\r\n"
									+ "							},\r\n"
									+ "						success: function(data){\r\n"
									+ "							$('.ajax-check-password-vpass').html(data);\r\n"
									+ "						},\r\n"
									+ "						error: function (){\r\n"
									+ "							alert('Có lỗi xảy ra');\r\n"
									+ "						},\r\n"
									+ "					});\r\n"
									+ "					return false;\r\n"
									+ "	   	});\r\n"
									+ " 			\r\n"
									+ " 			$('#email').on('blur', function(){\r\n"
									+ " 		   		 var changedField = $(this);\r\n"
									+ " 				     var email = $(\"#email\").val(); \r\n"
									+ " 				     var id = "+admin.getId()+"\r\n"
									+ " 				        $.ajax({\r\n"
									+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ " 							type: 'POST',\r\n"
									+ " 							cache: false,\r\n"
									+ " 							data: {\r\n"
									+ " 									aid: id,\r\n"
									+ " 									'check-email': email,\r\n"
									+ " 								},\r\n"
									+ " 							success: function(data){\r\n"
									+ " 								$('.ajax-check-email').html(data);\r\n"
									+ " 							},\r\n"
									+ " 							error: function (){\r\n"
									+ " 								alert('Có lỗi xảy ra');\r\n"
									+ " 							},\r\n"
									+ " 						});\r\n"
									+ " 						return false;\r\n"
									+ " 		   	});\r\n"
									+ " 			$('#form-change-info-admin').validate({\r\n"
									+ " 	 			 rules:{\r\n"
									+ " 	 				 fullname:{\r\n"
									+ " 	 					 required: true,\r\n"
									+ " 	 					 minlength: 6,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				 email:{ \r\n"
									+ " 	 					required: true,\r\n"
									+ " 						email: true,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				 phone:{\r\n"
									+ " 	 					 required: true,\r\n"
									+ " 	 					 minlength: 10,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				 city:{\r\n"
									+ " 	 					 required: true,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 			 },\r\n"
									+ " 	 			 messages:{\r\n"
									+ " 	 				 fullname:{\r\n"
									+ " 	 					required:'Nhập vào tên.',\r\n"
									+ " 	 					minlength:'Nhập tối thiểu 6 ký tự.',\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				email:{\r\n"
									+ " 						required: 'Nhập vào email của bạn.',\r\n"
									+ " 						email: 'Hãy nhập đúng định dạng.',\r\n"
									+ " 					},\r\n"
									+ " 					phone:{\r\n"
									+ " 						required:'Nhập vào số điện thoại.',\r\n"
									+ " 						minlength: 'Số điện thoại phải 10 ký tự.',\r\n"
									+ " 					},\r\n"
									+ " 					city:{\r\n"
									+ " 						required:'Nhập vào thành phố.',\r\n"
									+ " 					},\r\n"
									+ " 	 			 },\r\n"
									+ " 	 			 \r\n"
									+ " 	 		 });\r\n"
									+ " 			$('#form-change-password-admin').validate({\r\n"
									+ "				 rules:{\r\n"
									+ "					 cpass:{\r\n"
									+ "						 required: true,\r\n"
									+ "						 minlength: 6,\r\n"
									+ "					 },\r\n"
									+ "					npass:{\r\n"
									+ "						 required: true,\r\n"
									+ "						 minlength: 6,\r\n"
									+ "						maxlength:13,\r\n"
									+ "					 },\r\n"
									+ "					vpass:{\r\n"
									+ "						 required: true,\r\n"
									+ "						 minlength: 6,\r\n"
									+ "						maxlength:13,\r\n"
									+ "						equalTo: \"#npass\"\r\n"
									+ "					 },\r\n"
									+ "				 },\r\n"
									+ "			messages:{\r\n"
									+ "					cpass:{\r\n"
									+ "						required: 'Nhập vào mật khẩu cũ.',\r\n"
									+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
									+ "						},\r\n"
									+ "					npass:{\r\n"
									+ "						required: 'Nhập vào mật khẩu mới.',\r\n"
									+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
									+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
									+ "					},\r\n"
									+ "					vpass:{\r\n"
									+ "						required: 'Nhập lại mật khẩu mới.',\r\n"
									+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
									+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
									+ "						equalTo: 'Mật khẩu chưa chính xác.'\r\n"
									+ "					},\r\n"
									+ "			}, \r\n"
									+ " 			});\r\n"
									+ " 			$( \"input[type=file]#avata\" ).change(function(e) {\r\n"
									+ "	    		var filename_input = e.target.files[0].name;\r\n"
									+ "	    		var src = $(\"#display_avata\").attr(\"src\");\r\n"
									+ "		    	var path = src.substring(0,src.lastIndexOf('/'));\r\n"
									+ "		    	var filename = src.split(\"/\").pop();\r\n"
									+ "		    	var newSrc = path+\"/\"+filename_input;\r\n"
									+ "		    	$(\"#display_avata\").attr(\"src\",newSrc);\r\n"
									+ "		    	});\r\n"
									+ " 			$('#btn-change-profile-admin').on('click', function(){\r\n"
									+ " 				//if($('#form-change-info-admin').valid()==true){\r\n"
									+ " 					var formData = new FormData();\r\n"
									+ "					formData.append('aid', "+admin.getId()+");\r\n"
									+ "					formData.append('fullname', $(\"#fullname\").val());\r\n"
									+ "					formData.append('email', $('#email').val());\r\n"
									+ "					formData.append('phone', $('#phone').val());\r\n"
									+ "					formData.append('city', $('#city').val());\r\n"
									+ "					formData.append(\"pic1\", avata.files[0]);\r\n"
									+ " 				        $.ajax({\r\n"
									+ " 							url: '"+request.getContextPath()+"/admin/profile',\r\n"
									+ " 							type: 'POST',\r\n"
									+ " 							cache: false,\r\n"
									+ " 							contentType: false,\r\n"
									+ "          					data: formData,\r\n"
									+ "          					processData: false,\r\n"
									+ " 							success: function(data){\r\n"
									+ " 								$('.ajax-change-info').html(data);\r\n"
									+ " 							},\r\n"
									+ " 							error: function (){\r\n"
									+ " 								alert('Có lỗi xảy ra');\r\n"
									+ " 							},\r\n"
									+ " 						});\r\n"
									+ " 						return false;\r\n"
									+ " 				//}else{\r\n"
									+ " 					//$('#form-change-info-admin').valid();\r\n"
									+ " 				//}\r\n"
									+ " 			});\r\n"
									+ " 			$('#btn-change-password-admin').on('click', function(){\r\n"
									+ " 				//if($('#form-change-password-admin').valid()==true){\r\n"
									+ " 					\r\n"
									+ " 					var changedField = $(this);\r\n"
									+ " 				     var cpass = $('#cpass').val(); \r\n"
									+ " 				     var npass = $('#npass').val();\r\n"
									+ " 				     var id = "+admin.getId()+"\r\n"
									+ " 				        $.ajax({\r\n"
									+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ " 							type: 'POST',\r\n"
									+ " 							cache: false,\r\n"
									+ " 							data: {\r\n"
									+ " 									aid: id,\r\n"
									+ " 									cpass: cpass,\r\n"
									+ " 									npass: npass,\r\n"
									+ " 								},\r\n"
									+ " 							success: function(data){\r\n"
									+ " 								$('.ajax-change-password').html(data);\r\n"
									+ " 								$('#form-change-password-admin').trigger(\"reset\");\r\n"
									+ " 							},\r\n"
									+ " 							error: function (){\r\n"
									+ " 								alert('Có lỗi xảy ra');\r\n"
									+ " 							},\r\n"
									+ " 						});\r\n"
									+ " 						return false;\r\n"
									+ " 				//}else{\r\n"
									+ " 					//$('#form-change-password-admin').valid();\r\n"
									+ " 				//}\r\n"
									+ " 			});\r\n"
									+ "      		function setInputFilter(textbox, inputFilter) {\r\n"
									+ "      		  [\"input\", \"keydown\", \"keyup\", \"mousedown\", \"mouseup\", \"select\", \"contextmenu\", \"drop\"].forEach(function(event) {\r\n"
									+ "      		    textbox.addEventListener(event, function() {\r\n"
									+ "      		      if (inputFilter(this.value)) {\r\n"
									+ "      		        this.oldValue = this.value;\r\n"
									+ "      		        this.oldSelectionStart = this.selectionStart;\r\n"
									+ "      		        this.oldSelectionEnd = this.selectionEnd;\r\n"
									+ "      		      } else if (this.hasOwnProperty(\"oldValue\")) {\r\n"
									+ "      		        this.value = this.oldValue;\r\n"
									+ "      		        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);\r\n"
									+ "      		      } else {\r\n"
									+ "      		        this.value = \"\";\r\n"
									+ "      		      }\r\n"
									+ "      		    });\r\n"
									+ "      		  });\r\n"
									+ "      		};\r\n"
									+ "      		setInputFilter(document.getElementById(\"phone\"), function(value) {\r\n"
									+ "      		  return /^\\d*$/.test(value); });\r\n"
									+ "		</script>");
						}
					}else {
						AdminInfor = new Admin(id, "", "", fullname, email, phone, city, "", image, 0, "");
						int result = AdminDAO.updateInfoWhitImage(AdminInfor, id);
						if(result>0) {
							Admin admin = AdminDAO.getUsById(id);
							session.setAttribute("objUAd", admin);
							response.getWriter().print("<script>alert('Thành công!');</script>"
									+ "					<div class=\"modal fade\" id=\"new-order\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n"
									+ "          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n"
									+ "              <div class=\"modal-content\">\r\n"
									+ "                  <div class=\"modal-body\">\r\n"
									+ "                      <div class=\"popup text-left\">\r\n"
									+ "                          <h4 class=\"mb-3\">New Order</h4>\r\n"
									+ "                          <div class=\"content create-workform bg-body\">\r\n"
									+ "                              <div class=\"pb-3\">\r\n"
									+ "                                  <label class=\"mb-2\">Email</label>\r\n"
									+ "                                  <input type=\"text\" class=\"form-control\" placeholder=\"Enter Name or Email\">\r\n"
									+ "                              </div>\r\n"
									+ "                              <div class=\"col-lg-12 mt-4\">\r\n"
									+ "                                  <div class=\"d-flex flex-wrap align-items-ceter justify-content-center\">\r\n"
									+ "                                      <div class=\"btn btn-primary mr-4\" data-dismiss=\"modal\">Cancel</div>\r\n"
									+ "                                      <div class=\"btn btn-outline-primary\" data-dismiss=\"modal\">Create</div>\r\n"
									+ "                                  </div>\r\n"
									+ "                              </div>\r\n"
									+ "                          </div>\r\n"
									+ "                      </div>\r\n"
									+ "                  </div>\r\n"
									+ "              </div>\r\n"
									+ "          </div>\r\n"
									+ "      </div>\r\n"
									+ "      <div class=\"content-page\">\r\n"
									+ "      <div class=\"container-fluid\">\r\n"
									+ "         <div class=\"row\">\r\n"
									+ "            <div class=\"col-lg-12\">\r\n"
									+ "               <div class=\"card car-transparent\">\r\n"
									+ "                  <div class=\"card-body p-0\">\r\n"
									+ "                     <div class=\"profile-image position-relative\">\r\n"
									+ "                        <img src=\""+request.getContextPath()+"/templates/admin/assets/images/page-img/profile.png\" class=\"img-fluid rounded w-100\" alt=\"profile-image\">\r\n"
									+ "                     </div>\r\n"
									+ "                  </div>\r\n"
									+ "               </div>\r\n"
									+ "            </div>\r\n"
									+ "         </div>\r\n"
									+ "         <div class=\"row m-sm-0 px-3\">            \r\n"
									+ "            <div class=\"col-lg-4 card-profile\">\r\n"
									+ "            <div class=\"content-page\">\r\n"
									+ "            	<div class=\"card card-block card-stretch card-height\">\r\n"
									+ "                  <div class=\"card-body\">\r\n"
									+ "                     <div class=\"d-flex align-items-center mb-3\">\r\n"
									+ "                        <div class=\"profile-img position-relative\">\r\n"
									+ "                           <img src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" class=\"img-fluid rounded avatar-110\" alt=\"profile-image\">\r\n"
									+ "                        </div>\r\n"
									+ "                        <div class=\"ml-3\">\r\n"
									+ "                           <h4 class=\"mb-1\">"+admin.getUsername()+"</h4>\r\n"
									+ "                           <p class=\"mb-2\">"+admin.getPosition_detail()+"</p>\r\n"
									+ "                        </div>\r\n"
									+ "                     </div>\r\n"
									+ "                     <ul class=\"list-inline p-0 m-0\">\r\n"
									+ "                        <li class=\"mb-2\">\r\n"
									+ "                           <div class=\"d-flex align-items-center\">\r\n"
									+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n"
									+ "                              </svg>\r\n"
									+ "                              <p class=\"mb-0\">"+admin.getAddress()+"</p>   \r\n"
									+ "                           </div>\r\n"
									+ "                        </li>\r\n"
									+ "                        <li class=\"mb-2\">\r\n"
									+ "                           <div class=\"d-flex align-items-center\">\r\n"
									+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n"
									+ "                              </svg>\r\n"
									+ "                              <p class=\"mb-0\">"+admin.getPhone()+"</p>   \r\n"
									+ "                           </div>\r\n"
									+ "                        </li>\r\n"
									+ "                        <li>\r\n"
									+ "                           <div class=\"d-flex align-items-center\">\r\n"
									+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n"
									+ "                              </svg>\r\n"
									+ "                              <p class=\"mb-0\">"+admin.getEmail()+"</p>   \r\n"
									+ "                           </div>\r\n"
									+ "                        </li>\r\n"
									+ "                     </ul>\r\n"
									+ "                  </div>\r\n"
									+ "               </div>\r\n"
									+ "            </div>\r\n"
									+ "            </div>\r\n"
									+ "            <div class=\"col-lg-8 card-profile\">\r\n"
									+ "            	<div class=\"content-page\">\r\n"
									+ "		      <div class=\"container-fluid\">\r\n"
									+ "		         <div class=\"row\">\r\n"
									+ "		            <div class=\"col-lg-12\">\r\n"
									+ "		               <div class=\"card\">\r\n"
									+ "		                  <div class=\"card-body p-0\">\r\n"
									+ "		                     <div class=\"iq-edit-list usr-edit\">\r\n"
									+ "		                        <ul class=\"iq-edit-profile d-flex nav nav-pills\">\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#personal-information\">\r\n"
									+ "		                              Personal Information\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#chang-pwd\">\r\n"
									+ "		                              Change Password\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#emailandsms\">\r\n"
									+ "		                              Email and SMS\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#manage-contact\">\r\n"
									+ "		                              Manage Contact\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                        </ul>\r\n"
									+ "		                     </div>\r\n"
									+ "		                  </div>\r\n"
									+ "		               </div>\r\n"
									+ "		            </div>\r\n"
									+ "		            <div class=\"col-lg-12\">\r\n"
									+ "		               <div class=\"iq-edit-list-data\">\r\n"
									+ "		                  <div class=\"tab-content\">\r\n"
									+ "		                     <div class=\"tab-pane fade active show\" id=\"personal-information\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Personal Information</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form class=\"form-admin\" id=\"form-change-info-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\" enctype=\"multipart/form-data\">\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <div class=\"col-md-12\">\r\n"
									+ "		                                       <div class=\"profile-img-edit\">\r\n"
									+ "		                                          <div class=\"crm-profile-img-edit\">\r\n"
									+ "		                                             <img class=\"crm-profile-pic1 rounded-circle avatar-100\" id=\"display_avata\" src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" alt=\"profile-pic1\">\r\n"
									+ "		                                             <div class=\"crm-p-image bg-primary\">\r\n"
									+ "		                                                <i class=\"las la-pen upload-button\"></i>\r\n"
									+ "		                                                <input class=\"file-upload\" type=\"file\" id=\"avata\" name=\"pic1\" accept=\"image/*\">\r\n"
									+ "		                                             </div>\r\n"
									+ "		                                          </div>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\" row align-items-center\">\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"fullname\">Full Name:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"fullname\" name=\"fullname\" value=\""+admin.getFullname()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"username\">User Name:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"username\" name=\"username\" disabled value=\""+admin.getUsername()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"phone\">Phone:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" value=\""+admin.getPhone()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"email\">Email:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" value=\""+admin.getEmail()+"\" required>\r\n"
									+ "		                                       <div class=\"ajax-check-email\"></div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"city\">City:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"city\" value=\""+admin.getAddress()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"button\" id=\"btn-change-profile-admin\" class=\"btn btn-primary mr-2\">Update</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                     <div class=\"tab-pane fade\" id=\"chang-pwd\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Change Password</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form class=\"form-admin\" id=\"form-change-password-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\">\r\n"
									+ "		                              <div class=\"ajax-change-password\"></div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                 <div class=\"ajax-check-password\"></div>\r\n"
									+ "		                                    <label for=\"cpass\">Current Password:</label>\r\n"
									+ "		                                    <a href=\"javascript:void();\" class=\"float-right\">Forgot Password</a>\r\n"
									+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"cpass\" name=\"cpass\" value=\"\" required>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"npass\">New Password:</label>\r\n"
									+ "		                                    <div class=\"ajax-check-password-new\"></div>\r\n"
									+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"npass\" name=\"npass\" value=\"\" required>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"vpass\">Verify Password:</label>\r\n"
									+ "		                                    <div class=\"ajax-check-password-vpass\"></div>\r\n"
									+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"vpass\" name=\"vpass\" value=\"\" required>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"button\" id=\"btn-change-password-admin\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                     <div class=\"tab-pane fade\" id=\"emailandsms\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Email and SMS</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"emailnotification\">Email Notification:</label>\r\n"
									+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
									+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"emailnotification\" checked=\"\">\r\n"
									+ "		                                       <label class=\"custom-control-label\" for=\"emailnotification\"></label>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"smsnotification\">SMS Notification:</label>\r\n"
									+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
									+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"smsnotification\" checked=\"\">\r\n"
									+ "		                                       <label class=\"custom-control-label\" for=\"smsnotification\"></label>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Email</label>\r\n"
									+ "		                                    <div class=\"col-md-9\">\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email01\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email01\">You have new notifications.</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email02\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email02\">You're sent a direct message</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email03\" checked=\"\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email03\">Someone adds you as a connection</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Escalate Emails</label>\r\n"
									+ "		                                    <div class=\"col-md-9\">\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email04\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email04\"> Upon new order.</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email05\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email05\"> New membership approval</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email06\" checked=\"\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email06\"> Member registration</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                     <div class=\"tab-pane fade\" id=\"manage-contact\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Manage Contact</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"cno\">Contact Number:</label>\r\n"
									+ "		                                    <input type=\"text\" class=\"form-control\" id=\"cno\" value=\""+admin.getPhone()+"\">\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"email\">Email:</label>\r\n"
									+ "		                                    <input type=\"text\" class=\"form-control\" id=\"email-info\" value=\""+admin.getEmail()+"\">\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"url\">Url:</label>\r\n"
									+ "		                                    <input type=\"text\" class=\"form-control\" id=\"url\" value=\"https://getbootstrap.com\">\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                  </div>\r\n"
									+ "		               </div>\r\n"
									+ "		            </div>\r\n"
									+ "		         </div>\r\n"
									+ "		      </div>\r\n"
									+ "		      </div>\r\n"
									+ "            </div>\r\n"
									+ "         </div>\r\n"
									+ "      </div>\r\n"
									+ "      </div>\r\n"
									+ "      	<script type=\"text/javascript\">\r\n"
									+ "      	$('#cpass').on('input', function(){\r\n"
									+ " 	   		 var changedField = $(this);\r\n"
									+ " 			     var cpass = $(\"#cpass\").val(); \r\n"
									+ " 			     var id = "+admin.getId()+"\r\n"
									+ " 			        $.ajax({\r\n"
									+ " 						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ " 						type: 'POST',\r\n"
									+ " 						cache: false,\r\n"
									+ " 						data: {\r\n"
									+ " 								aid: id,\r\n"
									+ " 								acpass: cpass,\r\n"
									+ " 							},\r\n"
									+ " 						success: function(data){\r\n"
									+ " 							$('.ajax-check-password').html(data);\r\n"
									+ " 						},\r\n"
									+ " 						error: function (){\r\n"
									+ " 							alert('Có lỗi xảy ra');\r\n"
									+ " 						},\r\n"
									+ " 					});\r\n"
									+ " 					return false;\r\n"
									+ " 	   	});\r\n"
									+ "      	$('#npass').on('input', function(){\r\n"
									+ "	   		 var changedField = $(this);\r\n"
									+ "			     var cpass = $(\"#cpass\").val(); \r\n"
									+ "			     var npass = $(\"#npass\").val();\r\n"
									+ "			     var id = "+admin.getId()+"\r\n"
									+ "			        $.ajax({\r\n"
									+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ "						type: 'POST',\r\n"
									+ "						cache: false,\r\n"
									+ "						data: {\r\n"
									+ "								aid: id,\r\n"
									+ "								ccpass: cpass,\r\n"
									+ "								cnpass: npass,\r\n"
									+ "							},\r\n"
									+ "						success: function(data){\r\n"
									+ "							$('.ajax-check-password-new').html(data);\r\n"
									+ "						},\r\n"
									+ "						error: function (){\r\n"
									+ "							alert('Có lỗi xảy ra');\r\n"
									+ "						},\r\n"
									+ "					});\r\n"
									+ "					return false;\r\n"
									+ "	   	});\r\n"
									+ "      	$('#vpass').on('input', function(){\r\n"
									+ "	   		 var changedField = $(this);\r\n"
									+ "	   		var npass = $(\"#npass\").val(); \r\n"
									+ "			     var vpass = $(\"#vpass\").val();\r\n"
									+ "			     var id = "+admin.getId()+"\r\n"
									+ "			        $.ajax({\r\n"
									+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ "						type: 'POST',\r\n"
									+ "						cache: false,\r\n"
									+ "						data: {\r\n"
									+ "								aid:id,\r\n"
									+ "								bnpass: npass,\r\n"
									+ "								bvpass: vpass,\r\n"
									+ "							},\r\n"
									+ "						success: function(data){\r\n"
									+ "							$('.ajax-check-password-vpass').html(data);\r\n"
									+ "						},\r\n"
									+ "						error: function (){\r\n"
									+ "							alert('Có lỗi xảy ra');\r\n"
									+ "						},\r\n"
									+ "					});\r\n"
									+ "					return false;\r\n"
									+ "	   	});\r\n"
									+ " 			\r\n"
									+ " 			$('#email').on('blur', function(){\r\n"
									+ " 		   		 var changedField = $(this);\r\n"
									+ " 				     var email = $(\"#email\").val(); \r\n"
									+ " 				     var id = "+admin.getId()+"\r\n"
									+ " 				        $.ajax({\r\n"
									+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ " 							type: 'POST',\r\n"
									+ " 							cache: false,\r\n"
									+ " 							data: {\r\n"
									+ " 									aid: id,\r\n"
									+ " 									'check-email': email,\r\n"
									+ " 								},\r\n"
									+ " 							success: function(data){\r\n"
									+ " 								$('.ajax-check-email').html(data);\r\n"
									+ " 							},\r\n"
									+ " 							error: function (){\r\n"
									+ " 								alert('Có lỗi xảy ra');\r\n"
									+ " 							},\r\n"
									+ " 						});\r\n"
									+ " 						return false;\r\n"
									+ " 		   	});\r\n"
									+ " 			$('#form-change-info-admin').validate({\r\n"
									+ " 	 			 rules:{\r\n"
									+ " 	 				 fullname:{\r\n"
									+ " 	 					 required: true,\r\n"
									+ " 	 					 minlength: 6,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				 email:{ \r\n"
									+ " 	 					required: true,\r\n"
									+ " 						email: true,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				 phone:{\r\n"
									+ " 	 					 required: true,\r\n"
									+ " 	 					 minlength: 10,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				 city:{\r\n"
									+ " 	 					 required: true,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 			 },\r\n"
									+ " 	 			 messages:{\r\n"
									+ " 	 				 fullname:{\r\n"
									+ " 	 					required:'Nhập vào tên.',\r\n"
									+ " 	 					minlength:'Nhập tối thiểu 6 ký tự.',\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				email:{\r\n"
									+ " 						required: 'Nhập vào email của bạn.',\r\n"
									+ " 						email: 'Hãy nhập đúng định dạng.',\r\n"
									+ " 					},\r\n"
									+ " 					phone:{\r\n"
									+ " 						required:'Nhập vào số điện thoại.',\r\n"
									+ " 						minlength: 'Số điện thoại phải 10 ký tự.',\r\n"
									+ " 					},\r\n"
									+ " 					city:{\r\n"
									+ " 						required:'Nhập vào thành phố.',\r\n"
									+ " 					},\r\n"
									+ " 	 			 },\r\n"
									+ " 	 			 \r\n"
									+ " 	 		 });\r\n"
									+ " 			$('#form-change-password-admin').validate({\r\n"
									+ "				 rules:{\r\n"
									+ "					 cpass:{\r\n"
									+ "						 required: true,\r\n"
									+ "						 minlength: 6,\r\n"
									+ "					 },\r\n"
									+ "					npass:{\r\n"
									+ "						 required: true,\r\n"
									+ "						 minlength: 6,\r\n"
									+ "						maxlength:13,\r\n"
									+ "					 },\r\n"
									+ "					vpass:{\r\n"
									+ "						 required: true,\r\n"
									+ "						 minlength: 6,\r\n"
									+ "						maxlength:13,\r\n"
									+ "						equalTo: \"#npass\"\r\n"
									+ "					 },\r\n"
									+ "				 },\r\n"
									+ "			messages:{\r\n"
									+ "					cpass:{\r\n"
									+ "						required: 'Nhập vào mật khẩu cũ.',\r\n"
									+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
									+ "						},\r\n"
									+ "					npass:{\r\n"
									+ "						required: 'Nhập vào mật khẩu mới.',\r\n"
									+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
									+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
									+ "					},\r\n"
									+ "					vpass:{\r\n"
									+ "						required: 'Nhập lại mật khẩu mới.',\r\n"
									+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
									+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
									+ "						equalTo: 'Mật khẩu chưa chính xác.'\r\n"
									+ "					},\r\n"
									+ "			}, \r\n"
									+ " 			});\r\n"
									+ " 			$( \"input[type=file]#avata\" ).change(function(e) {\r\n"
									+ "	    		var filename_input = e.target.files[0].name;\r\n"
									+ "	    		var src = $(\"#display_avata\").attr(\"src\");\r\n"
									+ "		    	var path = src.substring(0,src.lastIndexOf('/'));									    		\r\n"
									+ "		    	var filename = src.split(\"/\").pop();\r\n"
									+ "		    	var newSrc = path+\"/\"+filename_input;\r\n"
									+ "		    	$(\"#display_avata\").attr(\"src\",newSrc);\r\n"
									+ "		    	});\r\n"
									+ " 			$('#btn-change-profile-admin').on('click', function(){\r\n"
									+ " 				//if($('#form-change-info-admin').valid()==true){\r\n"
									+ " 					var formData = new FormData();\r\n"
									+ "					formData.append('aid', "+admin.getId()+");\r\n"
									+ "					formData.append('fullname', $(\"#fullname\").val());\r\n"
									+ "					formData.append('email', $('#email').val());\r\n"
									+ "					formData.append('phone', $('#phone').val());\r\n"
									+ "					formData.append('city', $('#city').val());\r\n"
									+ "					formData.append(\"pic1\", avata.files[0]);\r\n"
									+ " 				        $.ajax({\r\n"
									+ " 							url: '"+request.getContextPath()+"/admin/profile',\r\n"
									+ " 							type: 'POST',\r\n"
									+ " 							cache: false,\r\n"
									+ " 							contentType: false,\r\n"
									+ "          					data: formData,\r\n"
									+ "          					processData: false,\r\n"
									+ " 							success: function(data){\r\n"
									+ " 								$('.ajax-change-info').html(data);\r\n"
									+ " 							},\r\n"
									+ " 							error: function (){\r\n"
									+ " 								alert('Có lỗi xảy ra');\r\n"
									+ " 							},\r\n"
									+ " 						});\r\n"
									+ " 						return false;\r\n"
									+ " 				//}else{\r\n"
									+ " 					//$('#form-change-info-admin').valid();\r\n"
									+ " 				//}\r\n"
									+ " 			});\r\n"
									+ " 			$('#btn-change-password-admin').on('click', function(){\r\n"
									+ " 				//if($('#form-change-password-admin').valid()==true){\r\n"
									+ " 					\r\n"
									+ " 					var changedField = $(this);\r\n"
									+ " 				     var cpass = $('#cpass').val(); \r\n"
									+ " 				     var npass = $('#npass').val();\r\n"
									+ " 				     var id = "+admin.getId()+"\r\n"
									+ " 				        $.ajax({\r\n"
									+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ " 							type: 'POST',\r\n"
									+ " 							cache: false,\r\n"
									+ " 							data: {\r\n"
									+ " 									aid: id,\r\n"
									+ " 									cpass: cpass,\r\n"
									+ " 									npass: npass,\r\n"
									+ " 								},\r\n"
									+ " 							success: function(data){\r\n"
									+ " 								$('.ajax-change-password').html(data);\r\n"
									+ " 								$('#form-change-password-admin').trigger(\"reset\");\r\n"
									+ " 							},\r\n"
									+ " 							error: function (){\r\n"
									+ " 								alert('Có lỗi xảy ra');\r\n"
									+ " 							},\r\n"
									+ " 						});\r\n"
									+ " 						return false;\r\n"
									+ " 				//}else{\r\n"
									+ " 					//$('#form-change-password-admin').valid();\r\n"
									+ " 				//}\r\n"
									+ " 			});\r\n"
									+ "      		function setInputFilter(textbox, inputFilter) {\r\n"
									+ "      		  [\"input\", \"keydown\", \"keyup\", \"mousedown\", \"mouseup\", \"select\", \"contextmenu\", \"drop\"].forEach(function(event) {\r\n"
									+ "      		    textbox.addEventListener(event, function() {\r\n"
									+ "      		      if (inputFilter(this.value)) {\r\n"
									+ "      		        this.oldValue = this.value;\r\n"
									+ "      		        this.oldSelectionStart = this.selectionStart;\r\n"
									+ "      		        this.oldSelectionEnd = this.selectionEnd;\r\n"
									+ "      		      } else if (this.hasOwnProperty(\"oldValue\")) {\r\n"
									+ "      		        this.value = this.oldValue;\r\n"
									+ "      		        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);\r\n"
									+ "      		      } else {\r\n"
									+ "      		        this.value = \"\";\r\n"
									+ "      		      }\r\n"
									+ "      		    });\r\n"
									+ "      		  });\r\n"
									+ "      		};\r\n"
									+ "      		setInputFilter(document.getElementById(\"phone\"), function(value) {\r\n"
									+ "      		  return /^\\d*$/.test(value); });\r\n"
									+ "		</script>");
						}else {

							Admin admin = AdminDAO.getUsById(id);
							session.setAttribute("objUAd", admin);
							response.getWriter().print("<script>alert('Không thành công!');</script>"
									+ "					<div class=\"modal fade\" id=\"new-order\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n"
									+ "          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n"
									+ "              <div class=\"modal-content\">\r\n"
									+ "                  <div class=\"modal-body\">\r\n"
									+ "                      <div class=\"popup text-left\">\r\n"
									+ "                          <h4 class=\"mb-3\">New Order</h4>\r\n"
									+ "                          <div class=\"content create-workform bg-body\">\r\n"
									+ "                              <div class=\"pb-3\">\r\n"
									+ "                                  <label class=\"mb-2\">Email</label>\r\n"
									+ "                                  <input type=\"text\" class=\"form-control\" placeholder=\"Enter Name or Email\">\r\n"
									+ "                              </div>\r\n"
									+ "                              <div class=\"col-lg-12 mt-4\">\r\n"
									+ "                                  <div class=\"d-flex flex-wrap align-items-ceter justify-content-center\">\r\n"
									+ "                                      <div class=\"btn btn-primary mr-4\" data-dismiss=\"modal\">Cancel</div>\r\n"
									+ "                                      <div class=\"btn btn-outline-primary\" data-dismiss=\"modal\">Create</div>\r\n"
									+ "                                  </div>\r\n"
									+ "                              </div>\r\n"
									+ "                          </div>\r\n"
									+ "                      </div>\r\n"
									+ "                  </div>\r\n"
									+ "              </div>\r\n"
									+ "          </div>\r\n"
									+ "      </div>      \r\n"
									+ "      <div class=\"content-page\">\r\n"
									+ "      <div class=\"container-fluid\">\r\n"
									+ "         <div class=\"row\">\r\n"
									+ "            <div class=\"col-lg-12\">\r\n"
									+ "               <div class=\"card car-transparent\">\r\n"
									+ "                  <div class=\"card-body p-0\">\r\n"
									+ "                     <div class=\"profile-image position-relative\">\r\n"
									+ "                        <img src=\""+request.getContextPath()+"/templates/admin/assets/images/page-img/profile.png\" class=\"img-fluid rounded w-100\" alt=\"profile-image\">\r\n"
									+ "                     </div>\r\n"
									+ "                  </div>\r\n"
									+ "               </div>\r\n"
									+ "            </div>\r\n"
									+ "         </div>\r\n"
									+ "         <div class=\"row m-sm-0 px-3\">\r\n"
									+ "            <div class=\"col-lg-4 card-profile\">\r\n"
									+ "            <div class=\"content-page\">\r\n"
									+ "            	<div class=\"card card-block card-stretch card-height\">\r\n"
									+ "                  <div class=\"card-body\">\r\n"
									+ "                     <div class=\"d-flex align-items-center mb-3\">\r\n"
									+ "                        <div class=\"profile-img position-relative\">\r\n"
									+ "                           <img src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" class=\"img-fluid rounded avatar-110\" alt=\"profile-image\">\r\n"
									+ "                        </div>\r\n"
									+ "                        <div class=\"ml-3\">\r\n"
									+ "                           <h4 class=\"mb-1\">"+admin.getUsername()+"</h4>\r\n"
									+ "                           <p class=\"mb-2\">"+admin.getPosition_detail()+"</p>\r\n"
									+ "                        </div>\r\n"
									+ "                     </div>\r\n"
									+ "                     <ul class=\"list-inline p-0 m-0\">\r\n"
									+ "                        <li class=\"mb-2\">\r\n"
									+ "                           <div class=\"d-flex align-items-center\">\r\n"
									+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n"
									+ "                              </svg>\r\n"
									+ "                              <p class=\"mb-0\">"+admin.getAddress()+"</p>   \r\n"
									+ "                           </div>\r\n"
									+ "                        </li>\r\n"
									+ "                        <li class=\"mb-2\">\r\n"
									+ "                           <div class=\"d-flex align-items-center\">\r\n"
									+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n"
									+ "                              </svg>\r\n"
									+ "                              <p class=\"mb-0\">"+admin.getPhone()+"</p>   \r\n"
									+ "                           </div>\r\n"
									+ "                        </li>\r\n"
									+ "                        <li>\r\n"
									+ "                           <div class=\"d-flex align-items-center\">\r\n"
									+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
									+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n"
									+ "                              </svg>\r\n"
									+ "                              <p class=\"mb-0\">"+admin.getEmail()+"</p>   \r\n"
									+ "                           </div>\r\n"
									+ "                        </li>\r\n"
									+ "                     </ul>\r\n"
									+ "                  </div>\r\n"
									+ "               </div>\r\n"
									+ "            </div>\r\n"
									+ "            </div>\r\n"
									+ "            <div class=\"col-lg-8 card-profile\">\r\n"
									+ "            	<div class=\"content-page\">\r\n"
									+ "		      <div class=\"container-fluid\">\r\n"
									+ "		         <div class=\"row\">\r\n"
									+ "		            <div class=\"col-lg-12\">\r\n"
									+ "		               <div class=\"card\">\r\n"
									+ "		                  <div class=\"card-body p-0\">\r\n"
									+ "		                     <div class=\"iq-edit-list usr-edit\">\r\n"
									+ "		                        <ul class=\"iq-edit-profile d-flex nav nav-pills\">\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#personal-information\">\r\n"
									+ "		                              Personal Information\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#chang-pwd\">\r\n"
									+ "		                              Change Password\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#emailandsms\">\r\n"
									+ "		                              Email and SMS\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                           <li class=\"col-md-3 p-0\">\r\n"
									+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#manage-contact\">\r\n"
									+ "		                              Manage Contact\r\n"
									+ "		                              </a>\r\n"
									+ "		                           </li>\r\n"
									+ "		                        </ul>\r\n"
									+ "		                     </div>\r\n"
									+ "		                  </div>\r\n"
									+ "		               </div>\r\n"
									+ "		            </div>\r\n"
									+ "		            <div class=\"col-lg-12\">\r\n"
									+ "		               <div class=\"iq-edit-list-data\">\r\n"
									+ "		                  <div class=\"tab-content\">\r\n"
									+ "		                     <div class=\"tab-pane fade active show\" id=\"personal-information\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Personal Information</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form class=\"form-admin\" id=\"form-change-info-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\" enctype=\"multipart/form-data\">\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <div class=\"col-md-12\">\r\n"
									+ "		                                       <div class=\"profile-img-edit\">\r\n"
									+ "		                                          <div class=\"crm-profile-img-edit\">\r\n"
									+ "		                                             <img class=\"crm-profile-pic1 rounded-circle avatar-100\" id=\"display_avata\" src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" alt=\"profile-pic1\">\r\n"
									+ "		                                             <div class=\"crm-p-image bg-primary\">\r\n"
									+ "		                                                <i class=\"las la-pen upload-button\"></i>\r\n"
									+ "		                                                <input class=\"file-upload\" type=\"file\" id=\"avata\" name=\"pic1\" accept=\"image/*\">\r\n"
									+ "		                                             </div>\r\n"
									+ "		                                          </div>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\" row align-items-center\">\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"fullname\">Full Name:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"fullname\" name=\"fullname\" value=\""+admin.getFullname()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"username\">User Name:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"username\" name=\"username\" disabled value=\""+admin.getUsername()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"phone\">Phone:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" value=\""+admin.getPhone()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"email\">Email:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" value=\""+admin.getEmail()+"\" required>\r\n"
									+ "		                                       <div class=\"ajax-check-email\"></div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
									+ "		                                       <label for=\"city\">City:</label>\r\n"
									+ "		                                       <input type=\"text\" class=\"form-control\" id=\"city\" value=\""+admin.getAddress()+"\" required>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"button\" id=\"btn-change-profile-admin\" class=\"btn btn-primary mr-2\">Update</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                     <div class=\"tab-pane fade\" id=\"chang-pwd\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Change Password</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form class=\"form-admin\" id=\"form-change-password-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\">\r\n"
									+ "		                              <div class=\"ajax-change-password\"></div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                 <div class=\"ajax-check-password\"></div>\r\n"
									+ "		                                    <label for=\"cpass\">Current Password:</label>\r\n"
									+ "		                                    <a href=\"javascript:void();\" class=\"float-right\">Forgot Password</a>\r\n"
									+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"cpass\" name=\"cpass\" value=\"\" required>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"npass\">New Password:</label>\r\n"
									+ "		                                    <div class=\"ajax-check-password-new\"></div>\r\n"
									+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"npass\" name=\"npass\" value=\"\" required>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"vpass\">Verify Password:</label>\r\n"
									+ "		                                    <div class=\"ajax-check-password-vpass\"></div>\r\n"
									+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"vpass\" name=\"vpass\" value=\"\" required>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"button\" id=\"btn-change-password-admin\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                     <div class=\"tab-pane fade\" id=\"emailandsms\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Email and SMS</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"emailnotification\">Email Notification:</label>\r\n"
									+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
									+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"emailnotification\" checked=\"\">\r\n"
									+ "		                                       <label class=\"custom-control-label\" for=\"emailnotification\"></label>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"smsnotification\">SMS Notification:</label>\r\n"
									+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
									+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"smsnotification\" checked=\"\">\r\n"
									+ "		                                       <label class=\"custom-control-label\" for=\"smsnotification\"></label>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Email</label>\r\n"
									+ "		                                    <div class=\"col-md-9\">\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email01\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email01\">You have new notifications.</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email02\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email02\">You're sent a direct message</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email03\" checked=\"\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email03\">Someone adds you as a connection</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
									+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Escalate Emails</label>\r\n"
									+ "		                                    <div class=\"col-md-9\">\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email04\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email04\"> Upon new order.</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email05\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email05\"> New membership approval</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
									+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email06\" checked=\"\">\r\n"
									+ "		                                          <label class=\"custom-control-label\" for=\"email06\"> Member registration</label>\r\n"
									+ "		                                       </div>\r\n"
									+ "		                                    </div>\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                     <div class=\"tab-pane fade\" id=\"manage-contact\" role=\"tabpanel\">\r\n"
									+ "		                        <div class=\"card\">\r\n"
									+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
									+ "		                              <div class=\"iq-header-title\">\r\n"
									+ "		                                 <h4 class=\"card-title\">Manage Contact</h4>\r\n"
									+ "		                              </div>\r\n"
									+ "		                           </div>\r\n"
									+ "		                           <div class=\"card-body\">\r\n"
									+ "		                              <form>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"cno\">Contact Number:</label>\r\n"
									+ "		                                    <input type=\"text\" class=\"form-control\" id=\"cno\" value=\""+admin.getPhone()+"\">\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"email\">Email:</label>\r\n"
									+ "		                                    <input type=\"text\" class=\"form-control\" id=\"email-info\" value=\""+admin.getEmail()+"\">\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <div class=\"form-group\">\r\n"
									+ "		                                    <label for=\"url\">Url:</label>\r\n"
									+ "		                                    <input type=\"text\" class=\"form-control\" id=\"url\" value=\"https://getbootstrap.com\">\r\n"
									+ "		                                 </div>\r\n"
									+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
									+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
									+ "		                              </form>\r\n"
									+ "		                           </div>\r\n"
									+ "		                        </div>\r\n"
									+ "		                     </div>\r\n"
									+ "		                  </div>\r\n"
									+ "		               </div>\r\n"
									+ "		            </div>\r\n"
									+ "		         </div>\r\n"
									+ "		      </div>\r\n"
									+ "		      </div>\r\n"
									+ "            </div>\r\n"
									+ "         </div>\r\n"
									+ "      </div>\r\n"
									+ "      </div>\r\n"
									+ "      	<script type=\"text/javascript\">\r\n"
									+ "      	$('#cpass').on('input', function(){\r\n"
									+ " 	   		 var changedField = $(this);\r\n"
									+ " 			     var cpass = $(\"#cpass\").val(); \r\n"
									+ " 			     var id = "+admin.getId()+"\r\n"
									+ " 			        $.ajax({\r\n"
									+ " 						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ " 						type: 'POST',\r\n"
									+ " 						cache: false,\r\n"
									+ " 						data: {\r\n"
									+ " 								aid: id,\r\n"
									+ " 								acpass: cpass,\r\n"
									+ " 							},\r\n"
									+ " 						success: function(data){\r\n"
									+ " 							$('.ajax-check-password').html(data);\r\n"
									+ " 						},\r\n"
									+ " 						error: function (){\r\n"
									+ " 							alert('Có lỗi xảy ra');\r\n"
									+ " 						},\r\n"
									+ " 					});\r\n"
									+ " 					return false;\r\n"
									+ " 	   	});\r\n"
									+ "      	$('#npass').on('input', function(){\r\n"
									+ "	   		 var changedField = $(this);\r\n"
									+ "			     var cpass = $(\"#cpass\").val(); \r\n"
									+ "			     var npass = $(\"#npass\").val();\r\n"
									+ "			     var id = "+admin.getId()+"\r\n"
									+ "			        $.ajax({\r\n"
									+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ "						type: 'POST',\r\n"
									+ "						cache: false,\r\n"
									+ "						data: {\r\n"
									+ "								aid: id,\r\n"
									+ "								ccpass: cpass,\r\n"
									+ "								cnpass: npass,\r\n"
									+ "							},\r\n"
									+ "						success: function(data){\r\n"
									+ "							$('.ajax-check-password-new').html(data);\r\n"
									+ "						},\r\n"
									+ "						error: function (){\r\n"
									+ "							alert('Có lỗi xảy ra');\r\n"
									+ "						},\r\n"
									+ "					});\r\n"
									+ "					return false;\r\n"
									+ "	   	});\r\n"
									+ "      	$('#vpass').on('input', function(){\r\n"
									+ "	   		 var changedField = $(this);\r\n"
									+ "	   		var npass = $(\"#npass\").val(); \r\n"
									+ "			     var vpass = $(\"#vpass\").val();\r\n"
									+ "			     var id = "+admin.getId()+"\r\n"
									+ "			        $.ajax({\r\n"
									+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ "						type: 'POST',\r\n"
									+ "						cache: false,\r\n"
									+ "						data: {\r\n"
									+ "								aid:id,\r\n"
									+ "								bnpass: npass,\r\n"
									+ "								bvpass: vpass,\r\n"
									+ "							},\r\n"
									+ "						success: function(data){\r\n"
									+ "							$('.ajax-check-password-vpass').html(data);\r\n"
									+ "						},\r\n"
									+ "						error: function (){\r\n"
									+ "							alert('Có lỗi xảy ra');\r\n"
									+ "						},\r\n"
									+ "					});\r\n"
									+ "					return false;\r\n"
									+ "	   	});\r\n"
									+ " 			\r\n"
									+ " 			$('#email').on('blur', function(){\r\n"
									+ " 		   		 var changedField = $(this);\r\n"
									+ " 				     var email = $(\"#email\").val(); \r\n"
									+ " 				     var id = "+admin.getId()+"\r\n"
									+ " 				        $.ajax({\r\n"
									+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ " 							type: 'POST',\r\n"
									+ " 							cache: false,\r\n"
									+ " 							data: {\r\n"
									+ " 									aid: id,\r\n"
									+ " 									'check-email': email,\r\n"
									+ " 								},\r\n"
									+ " 							success: function(data){\r\n"
									+ " 								$('.ajax-check-email').html(data);\r\n"
									+ " 							},\r\n"
									+ " 							error: function (){\r\n"
									+ " 								alert('Có lỗi xảy ra');\r\n"
									+ " 							},\r\n"
									+ " 						});\r\n"
									+ " 						return false;\r\n"
									+ " 		   	});\r\n"
									+ " 			$('#form-change-info-admin').validate({\r\n"
									+ " 	 			 rules:{\r\n"
									+ " 	 				 fullname:{\r\n"
									+ " 	 					 required: true,\r\n"
									+ " 	 					 minlength: 6,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				 email:{ \r\n"
									+ " 	 					required: true,\r\n"
									+ " 						email: true,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				 phone:{\r\n"
									+ " 	 					 required: true,\r\n"
									+ " 	 					 minlength: 10,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				 city:{\r\n"
									+ " 	 					 required: true,\r\n"
									+ " 	 				 },\r\n"
									+ " 	 			 },\r\n"
									+ " 	 			 messages:{\r\n"
									+ " 	 				 fullname:{\r\n"
									+ " 	 					required:'Nhập vào tên.',\r\n"
									+ " 	 					minlength:'Nhập tối thiểu 6 ký tự.',\r\n"
									+ " 	 				 },\r\n"
									+ " 	 				email:{\r\n"
									+ " 						required: 'Nhập vào email của bạn.',\r\n"
									+ " 						email: 'Hãy nhập đúng định dạng.',\r\n"
									+ " 					},\r\n"
									+ " 					phone:{\r\n"
									+ " 						required:'Nhập vào số điện thoại.',\r\n"
									+ " 						minlength: 'Số điện thoại phải 10 ký tự.',\r\n"
									+ " 					},\r\n"
									+ " 					city:{\r\n"
									+ " 						required:'Nhập vào thành phố.',\r\n"
									+ " 					},\r\n"
									+ " 	 			 },\r\n"
									+ " 	 			 \r\n"
									+ " 	 		 });\r\n"
									+ " 			$('#form-change-password-admin').validate({\r\n"
									+ "				 rules:{\r\n"
									+ "					 cpass:{\r\n"
									+ "						 required: true,\r\n"
									+ "						 minlength: 6,\r\n"
									+ "					 },\r\n"
									+ "					npass:{\r\n"
									+ "						 required: true,\r\n"
									+ "						 minlength: 6,\r\n"
									+ "						maxlength:13,\r\n"
									+ "					 },\r\n"
									+ "					vpass:{\r\n"
									+ "						 required: true,\r\n"
									+ "						 minlength: 6,\r\n"
									+ "						maxlength:13,\r\n"
									+ "						equalTo: \"#npass\"\r\n"
									+ "					 },\r\n"
									+ "				 },\r\n"
									+ "			messages:{\r\n"
									+ "					cpass:{\r\n"
									+ "						required: 'Nhập vào mật khẩu cũ.',\r\n"
									+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
									+ "						},\r\n"
									+ "					npass:{\r\n"
									+ "						required: 'Nhập vào mật khẩu mới.',\r\n"
									+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
									+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
									+ "					},\r\n"
									+ "					vpass:{\r\n"
									+ "						required: 'Nhập lại mật khẩu mới.',\r\n"
									+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
									+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
									+ "						equalTo: 'Mật khẩu chưa chính xác.'\r\n"
									+ "					},\r\n"
									+ "			}, \r\n"
									+ " 			});\r\n"
									+ " 			$( \"input[type=file]#avata\" ).change(function(e) {\r\n"
									+ "	    		var filename_input = e.target.files[0].name;\r\n"
									+ "	    		var src = $(\"#display_avata\").attr(\"src\");\r\n"
									+ "		    	var path = src.substring(0,src.lastIndexOf('/'));									    		\r\n"
									+ "		    	var filename = src.split(\"/\").pop();\r\n"
									+ "		    	var newSrc = path+\"/\"+filename_input;\r\n"
									+ "		    	$(\"#display_avata\").attr(\"src\",newSrc);\r\n"
									+ "		    	});\r\n"
									+ " 			$('#btn-change-profile-admin').on('click', function(){\r\n"
									+ " 				//if($('#form-change-info-admin').valid()==true){\r\n"
									+ " 					var formData = new FormData();\r\n"
									+ "					formData.append('aid', "+admin.getId()+");\r\n"
									+ "					formData.append('fullname', $(\"#fullname\").val());\r\n"
									+ "					formData.append('email', $('#email').val());\r\n"
									+ "					formData.append('phone', $('#phone').val());\r\n"
									+ "					formData.append('city', $('#city').val());\r\n"
									+ "					formData.append(\"pic1\", avata.files[0]);\r\n"
									+ " 				        $.ajax({\r\n"
									+ " 							url: '"+request.getContextPath()+"/admin/profile',\r\n"
									+ " 							type: 'POST',\r\n"
									+ " 							cache: false,\r\n"
									+ " 							contentType: false,\r\n"
									+ "          					data: formData,\r\n"
									+ "          					processData: false,\r\n"
									+ " 							success: function(data){\r\n"
									+ " 								$('.ajax-change-info').html(data);\r\n"
									+ " 							},\r\n"
									+ " 							error: function (){\r\n"
									+ " 								alert('Có lỗi xảy ra');\r\n"
									+ " 							},\r\n"
									+ " 						});\r\n"
									+ " 						return false;\r\n"
									+ " 				//}else{\r\n"
									+ " 					//$('#form-change-info-admin').valid();\r\n"
									+ " 				//}\r\n"
									+ " 			});\r\n"
									+ " 			$('#btn-change-password-admin').on('click', function(){\r\n"
									+ " 				//if($('#form-change-password-admin').valid()==true){\r\n"
									+ " 					\r\n"
									+ " 					var changedField = $(this);\r\n"
									+ " 				     var cpass = $('#cpass').val(); \r\n"
									+ " 				     var npass = $('#npass').val();\r\n"
									+ " 				     var id = "+admin.getId()+"\r\n"
									+ " 				        $.ajax({\r\n"
									+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
									+ " 							type: 'POST',\r\n"
									+ " 							cache: false,\r\n"
									+ " 							data: {\r\n"
									+ " 									aid: id,\r\n"
									+ " 									cpass: cpass,\r\n"
									+ " 									npass: npass,\r\n"
									+ " 								},\r\n"
									+ " 							success: function(data){\r\n"
									+ " 								$('.ajax-change-password').html(data);\r\n"
									+ " 								$('#form-change-password-admin').trigger(\"reset\");\r\n"
									+ " 							},\r\n"
									+ " 							error: function (){\r\n"
									+ " 								alert('Có lỗi xảy ra');\r\n"
									+ " 							},\r\n"
									+ " 						});\r\n"
									+ " 						return false;\r\n"
									+ " 				//}else{\r\n"
									+ " 					//$('#form-change-password-admin').valid();\r\n"
									+ " 				//}\r\n"
									+ " 			});\r\n"
									+ "      		function setInputFilter(textbox, inputFilter) {\r\n"
									+ "      		  [\"input\", \"keydown\", \"keyup\", \"mousedown\", \"mouseup\", \"select\", \"contextmenu\", \"drop\"].forEach(function(event) {\r\n"
									+ "      		    textbox.addEventListener(event, function() {\r\n"
									+ "      		      if (inputFilter(this.value)) {\r\n"
									+ "      		        this.oldValue = this.value;\r\n"
									+ "      		        this.oldSelectionStart = this.selectionStart;\r\n"
									+ "      		        this.oldSelectionEnd = this.selectionEnd;\r\n"
									+ "      		      } else if (this.hasOwnProperty(\"oldValue\")) {\r\n"
									+ "      		        this.value = this.oldValue;\r\n"
									+ "      		        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);\r\n"
									+ "      		      } else {\r\n"
									+ "      		        this.value = \"\";\r\n"
									+ "      		      }\r\n"
									+ "      		    });\r\n"
									+ "      		  });\r\n"
									+ "      		};\r\n"
									+ "      		setInputFilter(document.getElementById(\"phone\"), function(value) {\r\n"
									+ "      		  return /^\\d*$/.test(value); });\r\n"
									+ "		</script>");
						}
					}
				}else {
					AdminInfor = new Admin(id, "", "", fullname, email, phone, city, "", image, 0, "");
					int result = AdminDAO.updateInfoWhitImage(AdminInfor, id);
					if(result>0) {
						Admin admin = AdminDAO.getUsById(id);
						session.setAttribute("objUAd", admin);
						response.getWriter().print("<script>alert('Thành công!');</script>"
								+ "					<div class=\"modal fade\" id=\"new-order\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n"
								+ "          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n"
								+ "              <div class=\"modal-content\">\r\n"
								+ "                  <div class=\"modal-body\">\r\n"
								+ "                      <div class=\"popup text-left\">\r\n"
								+ "                          <h4 class=\"mb-3\">New Order</h4>\r\n"
								+ "                          <div class=\"content create-workform bg-body\">\r\n"
								+ "                              <div class=\"pb-3\">\r\n"
								+ "                                  <label class=\"mb-2\">Email</label>\r\n"
								+ "                                  <input type=\"text\" class=\"form-control\" placeholder=\"Enter Name or Email\">\r\n"
								+ "                              </div>\r\n"
								+ "                              <div class=\"col-lg-12 mt-4\">\r\n"
								+ "                                  <div class=\"d-flex flex-wrap align-items-ceter justify-content-center\">\r\n"
								+ "                                      <div class=\"btn btn-primary mr-4\" data-dismiss=\"modal\">Cancel</div>\r\n"
								+ "                                      <div class=\"btn btn-outline-primary\" data-dismiss=\"modal\">Create</div>\r\n"
								+ "                                  </div>\r\n"
								+ "                              </div>\r\n"
								+ "                          </div>\r\n"
								+ "                      </div>\r\n"
								+ "                  </div>\r\n"
								+ "              </div>\r\n"
								+ "          </div>\r\n"
								+ "      </div>      \r\n"
								+ "      <div class=\"content-page\">\r\n"
								+ "      <div class=\"container-fluid\">\r\n"
								+ "         <div class=\"row\">\r\n"
								+ "            <div class=\"col-lg-12\">\r\n"
								+ "               <div class=\"card car-transparent\">\r\n"
								+ "                  <div class=\"card-body p-0\">\r\n"
								+ "                     <div class=\"profile-image position-relative\">\r\n"
								+ "                        <img src=\""+request.getContextPath()+"/templates/admin/assets/images/page-img/profile.png\" class=\"img-fluid rounded w-100\" alt=\"profile-image\">\r\n"
								+ "                     </div>\r\n"
								+ "                  </div>\r\n"
								+ "               </div>\r\n"
								+ "            </div>\r\n"
								+ "         </div>\r\n"
								+ "         <div class=\"row m-sm-0 px-3\">            \r\n"
								+ "            <div class=\"col-lg-4 card-profile\">\r\n"
								+ "            <div class=\"content-page\">\r\n"
								+ "            	<div class=\"card card-block card-stretch card-height\">\r\n"
								+ "                  <div class=\"card-body\">\r\n"
								+ "                     <div class=\"d-flex align-items-center mb-3\">\r\n"
								+ "                        <div class=\"profile-img position-relative\">\r\n"
								+ "                           <img src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" class=\"img-fluid rounded avatar-110\" alt=\"profile-image\">\r\n"
								+ "                        </div>\r\n"
								+ "                        <div class=\"ml-3\">\r\n"
								+ "                           <h4 class=\"mb-1\">"+admin.getUsername()+"</h4>\r\n"
								+ "                           <p class=\"mb-2\">"+admin.getPosition_detail()+"</p>\r\n"
								+ "                        </div>\r\n"
								+ "                     </div>\r\n"
								+ "                     <ul class=\"list-inline p-0 m-0\">\r\n"
								+ "                        <li class=\"mb-2\">\r\n"
								+ "                           <div class=\"d-flex align-items-center\">\r\n"
								+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
								+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n"
								+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n"
								+ "                              </svg>\r\n"
								+ "                              <p class=\"mb-0\">"+admin.getAddress()+"</p>   \r\n"
								+ "                           </div>\r\n"
								+ "                        </li>\r\n"
								+ "                        <li class=\"mb-2\">\r\n"
								+ "                           <div class=\"d-flex align-items-center\">\r\n"
								+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
								+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n"
								+ "                              </svg>\r\n"
								+ "                              <p class=\"mb-0\">"+admin.getPhone()+"</p>   \r\n"
								+ "                           </div>\r\n"
								+ "                        </li>\r\n"
								+ "                        <li>\r\n"
								+ "                           <div class=\"d-flex align-items-center\">\r\n"
								+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
								+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n"
								+ "                              </svg>\r\n"
								+ "                              <p class=\"mb-0\">"+admin.getEmail()+"</p>   \r\n"
								+ "                           </div>\r\n"
								+ "                        </li>\r\n"
								+ "                     </ul>\r\n"
								+ "                  </div>\r\n"
								+ "               </div>\r\n"
								+ "            </div>\r\n"
								+ "            </div>\r\n"
								+ "            <div class=\"col-lg-8 card-profile\">\r\n"
								+ "            	<div class=\"content-page\">\r\n"
								+ "		      <div class=\"container-fluid\">\r\n"
								+ "		         <div class=\"row\">\r\n"
								+ "		            <div class=\"col-lg-12\">\r\n"
								+ "		               <div class=\"card\">\r\n"
								+ "		                  <div class=\"card-body p-0\">\r\n"
								+ "		                     <div class=\"iq-edit-list usr-edit\">\r\n"
								+ "		                        <ul class=\"iq-edit-profile d-flex nav nav-pills\">\r\n"
								+ "		                           <li class=\"col-md-3 p-0\">\r\n"
								+ "		                              <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#personal-information\">\r\n"
								+ "		                              Personal Information\r\n"
								+ "		                              </a>\r\n"
								+ "		                           </li>\r\n"
								+ "		                           <li class=\"col-md-3 p-0\">\r\n"
								+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#chang-pwd\">\r\n"
								+ "		                              Change Password\r\n"
								+ "		                              </a>\r\n"
								+ "		                           </li>\r\n"
								+ "		                           <li class=\"col-md-3 p-0\">\r\n"
								+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#emailandsms\">\r\n"
								+ "		                              Email and SMS\r\n"
								+ "		                              </a>\r\n"
								+ "		                           </li>\r\n"
								+ "		                           <li class=\"col-md-3 p-0\">\r\n"
								+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#manage-contact\">\r\n"
								+ "		                              Manage Contact\r\n"
								+ "		                              </a>\r\n"
								+ "		                           </li>\r\n"
								+ "		                        </ul>\r\n"
								+ "		                     </div>\r\n"
								+ "		                  </div>\r\n"
								+ "		               </div>\r\n"
								+ "		            </div>\r\n"
								+ "		            <div class=\"col-lg-12\">\r\n"
								+ "		               <div class=\"iq-edit-list-data\">\r\n"
								+ "		                  <div class=\"tab-content\">\r\n"
								+ "		                     <div class=\"tab-pane fade active show\" id=\"personal-information\" role=\"tabpanel\">\r\n"
								+ "		                        <div class=\"card\">\r\n"
								+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
								+ "		                              <div class=\"iq-header-title\">\r\n"
								+ "		                                 <h4 class=\"card-title\">Personal Information</h4>\r\n"
								+ "		                              </div>\r\n"
								+ "		                           </div>\r\n"
								+ "		                           <div class=\"card-body\">\r\n"
								+ "		                              <form class=\"form-admin\" id=\"form-change-info-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\" enctype=\"multipart/form-data\">\r\n"
								+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
								+ "		                                    <div class=\"col-md-12\">\r\n"
								+ "		                                       <div class=\"profile-img-edit\">\r\n"
								+ "		                                          <div class=\"crm-profile-img-edit\">\r\n"
								+ "		                                             <img class=\"crm-profile-pic1 rounded-circle avatar-100\" id=\"display_avata\" src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" alt=\"profile-pic1\">\r\n"
								+ "		                                             <div class=\"crm-p-image bg-primary\">\r\n"
								+ "		                                                <i class=\"las la-pen upload-button\"></i>\r\n"
								+ "		                                                <input class=\"file-upload\" type=\"file\" id=\"avata\" name=\"pic1\" accept=\"image/*\">\r\n"
								+ "		                                             </div>\r\n"
								+ "		                                          </div>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\" row align-items-center\">\r\n"
								+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
								+ "		                                       <label for=\"fullname\">Full Name:</label>\r\n"
								+ "		                                       <input type=\"text\" class=\"form-control\" id=\"fullname\" name=\"fullname\" value=\""+admin.getFullname()+"\" required>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
								+ "		                                       <label for=\"username\">User Name:</label>\r\n"
								+ "		                                       <input type=\"text\" class=\"form-control\" id=\"username\" name=\"username\" disabled value=\""+admin.getUsername()+"\" required>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
								+ "		                                       <label for=\"phone\">Phone:</label>\r\n"
								+ "		                                       <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" value=\""+admin.getPhone()+"\" required>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
								+ "		                                       <label for=\"email\">Email:</label>\r\n"
								+ "		                                       <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" value=\""+admin.getEmail()+"\" required>\r\n"
								+ "		                                       <div class=\"ajax-check-email\"></div>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
								+ "		                                       <label for=\"city\">City:</label>\r\n"
								+ "		                                       <input type=\"text\" class=\"form-control\" id=\"city\" value=\""+admin.getAddress()+"\" required>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <button type=\"button\" id=\"btn-change-profile-admin\" class=\"btn btn-primary mr-2\">Update</button>\r\n"
								+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
								+ "		                              </form>\r\n"
								+ "		                           </div>\r\n"
								+ "		                        </div>\r\n"
								+ "		                     </div>\r\n"
								+ "		                     <div class=\"tab-pane fade\" id=\"chang-pwd\" role=\"tabpanel\">\r\n"
								+ "		                        <div class=\"card\">\r\n"
								+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
								+ "		                              <div class=\"iq-header-title\">\r\n"
								+ "		                                 <h4 class=\"card-title\">Change Password</h4>\r\n"
								+ "		                              </div>\r\n"
								+ "		                           </div>\r\n"
								+ "		                           <div class=\"card-body\">\r\n"
								+ "		                              <form class=\"form-admin\" id=\"form-change-password-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\">\r\n"
								+ "		                              <div class=\"ajax-change-password\"></div>\r\n"
								+ "		                                 <div class=\"form-group\">\r\n"
								+ "		                                 <div class=\"ajax-check-password\"></div>\r\n"
								+ "		                                    <label for=\"cpass\">Current Password:</label>\r\n"
								+ "		                                    <a href=\"javascript:void();\" class=\"float-right\">Forgot Password</a>\r\n"
								+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"cpass\" name=\"cpass\" value=\"\" required>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group\">\r\n"
								+ "		                                    <label for=\"npass\">New Password:</label>\r\n"
								+ "		                                    <div class=\"ajax-check-password-new\"></div>\r\n"
								+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"npass\" name=\"npass\" value=\"\" required>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group\">\r\n"
								+ "		                                    <label for=\"vpass\">Verify Password:</label>\r\n"
								+ "		                                    <div class=\"ajax-check-password-vpass\"></div>\r\n"
								+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"vpass\" name=\"vpass\" value=\"\" required>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <button type=\"button\" id=\"btn-change-password-admin\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
								+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
								+ "		                              </form>\r\n"
								+ "		                           </div>\r\n"
								+ "		                        </div>\r\n"
								+ "		                     </div>\r\n"
								+ "		                     <div class=\"tab-pane fade\" id=\"emailandsms\" role=\"tabpanel\">\r\n"
								+ "		                        <div class=\"card\">\r\n"
								+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
								+ "		                              <div class=\"iq-header-title\">\r\n"
								+ "		                                 <h4 class=\"card-title\">Email and SMS</h4>\r\n"
								+ "		                              </div>\r\n"
								+ "		                           </div>\r\n"
								+ "		                           <div class=\"card-body\">\r\n"
								+ "		                              <form>\r\n"
								+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
								+ "		                                    <label class=\"col-md-3\" for=\"emailnotification\">Email Notification:</label>\r\n"
								+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
								+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"emailnotification\" checked=\"\">\r\n"
								+ "		                                       <label class=\"custom-control-label\" for=\"emailnotification\"></label>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
								+ "		                                    <label class=\"col-md-3\" for=\"smsnotification\">SMS Notification:</label>\r\n"
								+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
								+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"smsnotification\" checked=\"\">\r\n"
								+ "		                                       <label class=\"custom-control-label\" for=\"smsnotification\"></label>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
								+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Email</label>\r\n"
								+ "		                                    <div class=\"col-md-9\">\r\n"
								+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
								+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email01\">\r\n"
								+ "		                                          <label class=\"custom-control-label\" for=\"email01\">You have new notifications.</label>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
								+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email02\">\r\n"
								+ "		                                          <label class=\"custom-control-label\" for=\"email02\">You're sent a direct message</label>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
								+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email03\" checked=\"\">\r\n"
								+ "		                                          <label class=\"custom-control-label\" for=\"email03\">Someone adds you as a connection</label>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
								+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Escalate Emails</label>\r\n"
								+ "		                                    <div class=\"col-md-9\">\r\n"
								+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
								+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email04\">\r\n"
								+ "		                                          <label class=\"custom-control-label\" for=\"email04\"> Upon new order.</label>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
								+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email05\">\r\n"
								+ "		                                          <label class=\"custom-control-label\" for=\"email05\"> New membership approval</label>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
								+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email06\" checked=\"\">\r\n"
								+ "		                                          <label class=\"custom-control-label\" for=\"email06\"> Member registration</label>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
								+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
								+ "		                              </form>\r\n"
								+ "		                           </div>\r\n"
								+ "		                        </div>\r\n"
								+ "		                     </div>\r\n"
								+ "		                     <div class=\"tab-pane fade\" id=\"manage-contact\" role=\"tabpanel\">\r\n"
								+ "		                        <div class=\"card\">\r\n"
								+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
								+ "		                              <div class=\"iq-header-title\">\r\n"
								+ "		                                 <h4 class=\"card-title\">Manage Contact</h4>\r\n"
								+ "		                              </div>\r\n"
								+ "		                           </div>\r\n"
								+ "		                           <div class=\"card-body\">\r\n"
								+ "		                              <form>\r\n"
								+ "		                                 <div class=\"form-group\">\r\n"
								+ "		                                    <label for=\"cno\">Contact Number:</label>\r\n"
								+ "		                                    <input type=\"text\" class=\"form-control\" id=\"cno\" value=\""+admin.getPhone()+"\">\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group\">\r\n"
								+ "		                                    <label for=\"email\">Email:</label>\r\n"
								+ "		                                    <input type=\"text\" class=\"form-control\" id=\"email-info\" value=\""+admin.getEmail()+"\">\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group\">\r\n"
								+ "		                                    <label for=\"url\">Url:</label>\r\n"
								+ "		                                    <input type=\"text\" class=\"form-control\" id=\"url\" value=\"https://getbootstrap.com\">\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
								+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
								+ "		                              </form>\r\n"
								+ "		                           </div>\r\n"
								+ "		                        </div>\r\n"
								+ "		                     </div>\r\n"
								+ "		                  </div>\r\n"
								+ "		               </div>\r\n"
								+ "		            </div>\r\n"
								+ "		         </div>\r\n"
								+ "		      </div>\r\n"
								+ "		      </div>\r\n"
								+ "            </div>\r\n"
								+ "         </div>\r\n"
								+ "      </div>\r\n"
								+ "      </div>\r\n"
								+ "      	<script type=\"text/javascript\">\r\n"
								+ "      	$('#cpass').on('input', function(){\r\n"
								+ " 	   		 var changedField = $(this);\r\n"
								+ " 			     var cpass = $(\"#cpass\").val(); \r\n"
								+ " 			     var id = "+admin.getId()+"\r\n"
								+ " 			        $.ajax({\r\n"
								+ " 						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
								+ " 						type: 'POST',\r\n"
								+ " 						cache: false,\r\n"
								+ " 						data: {\r\n"
								+ " 								aid: id,\r\n"
								+ " 								acpass: cpass,\r\n"
								+ " 							},\r\n"
								+ " 						success: function(data){\r\n"
								+ " 							$('.ajax-check-password').html(data);\r\n"
								+ " 						},\r\n"
								+ " 						error: function (){\r\n"
								+ " 							alert('Có lỗi xảy ra');\r\n"
								+ " 						},\r\n"
								+ " 					});\r\n"
								+ " 					return false;\r\n"
								+ " 	   	});\r\n"
								+ "      	$('#npass').on('input', function(){\r\n"
								+ "	   		 var changedField = $(this);\r\n"
								+ "			     var cpass = $(\"#cpass\").val(); \r\n"
								+ "			     var npass = $(\"#npass\").val();\r\n"
								+ "			     var id = "+admin.getId()+"\r\n"
								+ "			        $.ajax({\r\n"
								+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
								+ "						type: 'POST',\r\n"
								+ "						cache: false,\r\n"
								+ "						data: {\r\n"
								+ "								aid: id,\r\n"
								+ "								ccpass: cpass,\r\n"
								+ "								cnpass: npass,\r\n"
								+ "							},\r\n"
								+ "						success: function(data){\r\n"
								+ "							$('.ajax-check-password-new').html(data);\r\n"
								+ "						},\r\n"
								+ "						error: function (){\r\n"
								+ "							alert('Có lỗi xảy ra');\r\n"
								+ "						},\r\n"
								+ "					});\r\n"
								+ "					return false;\r\n"
								+ "	   	});\r\n"
								+ "      	$('#vpass').on('input', function(){\r\n"
								+ "	   		 var changedField = $(this);\r\n"
								+ "	   		var npass = $(\"#npass\").val(); \r\n"
								+ "			     var vpass = $(\"#vpass\").val();\r\n"
								+ "			     var id = "+admin.getId()+"\r\n"
								+ "			        $.ajax({\r\n"
								+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
								+ "						type: 'POST',\r\n"
								+ "						cache: false,\r\n"
								+ "						data: {\r\n"
								+ "								aid:id,\r\n"
								+ "								bnpass: npass,\r\n"
								+ "								bvpass: vpass,\r\n"
								+ "							},\r\n"
								+ "						success: function(data){\r\n"
								+ "							$('.ajax-check-password-vpass').html(data);\r\n"
								+ "						},\r\n"
								+ "						error: function (){\r\n"
								+ "							alert('Có lỗi xảy ra');\r\n"
								+ "						},\r\n"
								+ "					});\r\n"
								+ "					return false;\r\n"
								+ "	   	});\r\n"
								+ " 			\r\n"
								+ " 			$('#email').on('blur', function(){\r\n"
								+ " 		   		 var changedField = $(this);\r\n"
								+ " 				     var email = $(\"#email\").val(); \r\n"
								+ " 				     var id = "+admin.getId()+"\r\n"
								+ " 				        $.ajax({\r\n"
								+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
								+ " 							type: 'POST',\r\n"
								+ " 							cache: false,\r\n"
								+ " 							data: {\r\n"
								+ " 									aid: id,\r\n"
								+ " 									'check-email': email,\r\n"
								+ " 								},\r\n"
								+ " 							success: function(data){\r\n"
								+ " 								$('.ajax-check-email').html(data);\r\n"
								+ " 							},\r\n"
								+ " 							error: function (){\r\n"
								+ " 								alert('Có lỗi xảy ra');\r\n"
								+ " 							},\r\n"
								+ " 						});\r\n"
								+ " 						return false;\r\n"
								+ " 		   	});\r\n"
								+ " 			$('#form-change-info-admin').validate({\r\n"
								+ " 	 			 rules:{\r\n"
								+ " 	 				 fullname:{\r\n"
								+ " 	 					 required: true,\r\n"
								+ " 	 					 minlength: 6,\r\n"
								+ " 	 				 },\r\n"
								+ " 	 				 email:{ \r\n"
								+ " 	 					required: true,\r\n"
								+ " 						email: true,\r\n"
								+ " 	 				 },\r\n"
								+ " 	 				 phone:{\r\n"
								+ " 	 					 required: true,\r\n"
								+ " 	 					 minlength: 10,\r\n"
								+ " 	 				 },\r\n"
								+ " 	 				 city:{\r\n"
								+ " 	 					 required: true,\r\n"
								+ " 	 				 },\r\n"
								+ " 	 			 },\r\n"
								+ " 	 			 messages:{\r\n"
								+ " 	 				 fullname:{\r\n"
								+ " 	 					required:'Nhập vào tên.',\r\n"
								+ " 	 					minlength:'Nhập tối thiểu 6 ký tự.',\r\n"
								+ " 	 				 },\r\n"
								+ " 	 				email:{\r\n"
								+ " 						required: 'Nhập vào email của bạn.',\r\n"
								+ " 						email: 'Hãy nhập đúng định dạng.',\r\n"
								+ " 					},\r\n"
								+ " 					phone:{\r\n"
								+ " 						required:'Nhập vào số điện thoại.',\r\n"
								+ " 						minlength: 'Số điện thoại phải 10 ký tự.',\r\n"
								+ " 					},\r\n"
								+ " 					city:{\r\n"
								+ " 						required:'Nhập vào thành phố.',\r\n"
								+ " 					},\r\n"
								+ " 	 			 },\r\n"
								+ " 	 			 \r\n"
								+ " 	 		 });\r\n"
								+ " 			$('#form-change-password-admin').validate({\r\n"
								+ "				 rules:{\r\n"
								+ "					 cpass:{\r\n"
								+ "						 required: true,\r\n"
								+ "						 minlength: 6,\r\n"
								+ "					 },\r\n"
								+ "					npass:{\r\n"
								+ "						 required: true,\r\n"
								+ "						 minlength: 6,\r\n"
								+ "						maxlength:13,\r\n"
								+ "					 },\r\n"
								+ "					vpass:{\r\n"
								+ "						 required: true,\r\n"
								+ "						 minlength: 6,\r\n"
								+ "						maxlength:13,\r\n"
								+ "						equalTo: \"#npass\"\r\n"
								+ "					 },\r\n"
								+ "				 },\r\n"
								+ "			messages:{\r\n"
								+ "					cpass:{\r\n"
								+ "						required: 'Nhập vào mật khẩu cũ.',\r\n"
								+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
								+ "						},\r\n"
								+ "					npass:{\r\n"
								+ "						required: 'Nhập vào mật khẩu mới.',\r\n"
								+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
								+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
								+ "					},\r\n"
								+ "					vpass:{\r\n"
								+ "						required: 'Nhập lại mật khẩu mới.',\r\n"
								+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
								+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
								+ "						equalTo: 'Mật khẩu chưa chính xác.'\r\n"
								+ "					},\r\n"
								+ "			}, \r\n"
								+ " 			});\r\n"
								+ " 			$( \"input[type=file]#avata\" ).change(function(e) {\r\n"
								+ "	    		var filename_input = e.target.files[0].name;\r\n"
								+ "	    		var src = $(\"#display_avata\").attr(\"src\");\r\n"
								+ "		    	var path = src.substring(0,src.lastIndexOf('/'));									    		\r\n"
								+ "		    	var filename = src.split(\"/\").pop();\r\n"
								+ "		    	var newSrc = path+\"/\"+filename_input;\r\n"
								+ "		    	$(\"#display_avata\").attr(\"src\",newSrc);\r\n"
								+ "		    	});\r\n"
								+ " 			$('#btn-change-profile-admin').on('click', function(){\r\n"
								+ " 				//if($('#form-change-info-admin').valid()==true){\r\n"
								+ " 					var formData = new FormData();\r\n"
								+ "					formData.append('aid', "+admin.getId()+");\r\n"
								+ "					formData.append('fullname', $(\"#fullname\").val());\r\n"
								+ "					formData.append('email', $('#email').val());\r\n"
								+ "					formData.append('phone', $('#phone').val());\r\n"
								+ "					formData.append('city', $('#city').val());\r\n"
								+ "					formData.append(\"pic1\", avata.files[0]);\r\n"
								+ " 				        $.ajax({\r\n"
								+ " 							url: '"+request.getContextPath()+"/admin/profile',\r\n"
								+ " 							type: 'POST',\r\n"
								+ " 							cache: false,\r\n"
								+ " 							contentType: false,\r\n"
								+ "          					data: formData,\r\n"
								+ "          					processData: false,\r\n"
								+ " 							success: function(data){\r\n"
								+ " 								$('.ajax-change-info').html(data);\r\n"
								+ " 							},\r\n"
								+ " 							error: function (){\r\n"
								+ " 								alert('Có lỗi xảy ra');\r\n"
								+ " 							},\r\n"
								+ " 						});\r\n"
								+ " 						return false;\r\n"
								+ " 				//}else{\r\n"
								+ " 					//$('#form-change-info-admin').valid();\r\n"
								+ " 				//}\r\n"
								+ " 			});\r\n"
								+ " 			$('#btn-change-password-admin').on('click', function(){\r\n"
								+ " 				//if($('#form-change-password-admin').valid()==true){\r\n"
								+ " 					\r\n"
								+ " 					var changedField = $(this);\r\n"
								+ " 				     var cpass = $('#cpass').val(); \r\n"
								+ " 				     var npass = $('#npass').val();\r\n"
								+ " 				     var id = "+admin.getId()+"\r\n"
								+ " 				        $.ajax({\r\n"
								+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
								+ " 							type: 'POST',\r\n"
								+ " 							cache: false,\r\n"
								+ " 							data: {\r\n"
								+ " 									aid: id,\r\n"
								+ " 									cpass: cpass,\r\n"
								+ " 									npass: npass,\r\n"
								+ " 								},\r\n"
								+ " 							success: function(data){\r\n"
								+ " 								$('.ajax-change-password').html(data);\r\n"
								+ " 								$('#form-change-password-admin').trigger(\"reset\");\r\n"
								+ " 							},\r\n"
								+ " 							error: function (){\r\n"
								+ " 								alert('Có lỗi xảy ra');\r\n"
								+ " 							},\r\n"
								+ " 						});\r\n"
								+ " 						return false;\r\n"
								+ " 				//}else{\r\n"
								+ " 					//$('#form-change-password-admin').valid();\r\n"
								+ " 				//}\r\n"
								+ " 			});\r\n"
								+ "      		function setInputFilter(textbox, inputFilter) {\r\n"
								+ "      		  [\"input\", \"keydown\", \"keyup\", \"mousedown\", \"mouseup\", \"select\", \"contextmenu\", \"drop\"].forEach(function(event) {\r\n"
								+ "      		    textbox.addEventListener(event, function() {\r\n"
								+ "      		      if (inputFilter(this.value)) {\r\n"
								+ "      		        this.oldValue = this.value;\r\n"
								+ "      		        this.oldSelectionStart = this.selectionStart;\r\n"
								+ "      		        this.oldSelectionEnd = this.selectionEnd;\r\n"
								+ "      		      } else if (this.hasOwnProperty(\"oldValue\")) {\r\n"
								+ "      		        this.value = this.oldValue;\r\n"
								+ "      		        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);\r\n"
								+ "      		      } else {\r\n"
								+ "      		        this.value = \"\";\r\n"
								+ "      		      }\r\n"
								+ "      		    });\r\n"
								+ "      		  });\r\n"
								+ "      		};\r\n"
								+ "      		setInputFilter(document.getElementById(\"phone\"), function(value) {\r\n"
								+ "      		  return /^\\d*$/.test(value); });\r\n"
								+ "		</script>");
					}else {

						Admin admin = AdminDAO.getUsById(id);
						session.setAttribute("objUAd", admin);
						response.getWriter().print("<script>alert('không thành công!');</script>"
								+ "					<div class=\"modal fade\" id=\"new-order\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n"
								+ "          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n"
								+ "              <div class=\"modal-content\">\r\n"
								+ "                  <div class=\"modal-body\">\r\n"
								+ "                      <div class=\"popup text-left\">\r\n"
								+ "                          <h4 class=\"mb-3\">New Order</h4>\r\n"
								+ "                          <div class=\"content create-workform bg-body\">\r\n"
								+ "                              <div class=\"pb-3\">\r\n"
								+ "                                  <label class=\"mb-2\">Email</label>\r\n"
								+ "                                  <input type=\"text\" class=\"form-control\" placeholder=\"Enter Name or Email\">\r\n"
								+ "                              </div>\r\n"
								+ "                              <div class=\"col-lg-12 mt-4\">\r\n"
								+ "                                  <div class=\"d-flex flex-wrap align-items-ceter justify-content-center\">\r\n"
								+ "                                      <div class=\"btn btn-primary mr-4\" data-dismiss=\"modal\">Cancel</div>\r\n"
								+ "                                      <div class=\"btn btn-outline-primary\" data-dismiss=\"modal\">Create</div>\r\n"
								+ "                                  </div>\r\n"
								+ "                              </div>\r\n"
								+ "                          </div>\r\n"
								+ "                      </div>\r\n"
								+ "                  </div>\r\n"
								+ "              </div>\r\n"
								+ "          </div>\r\n"
								+ "      </div>      \r\n"
								+ "      <div class=\"content-page\">\r\n"
								+ "      <div class=\"container-fluid\">\r\n"
								+ "         <div class=\"row\">\r\n"
								+ "            <div class=\"col-lg-12\">\r\n"
								+ "               <div class=\"card car-transparent\">\r\n"
								+ "                  <div class=\"card-body p-0\">\r\n"
								+ "                     <div class=\"profile-image position-relative\">\r\n"
								+ "                        <img src=\""+request.getContextPath()+"/templates/admin/assets/images/page-img/profile.png\" class=\"img-fluid rounded w-100\" alt=\"profile-image\">\r\n"
								+ "                     </div>\r\n"
								+ "                  </div>\r\n"
								+ "               </div>\r\n"
								+ "            </div>\r\n"
								+ "         </div>\r\n"
								+ "         <div class=\"row m-sm-0 px-3\">            \r\n"
								+ "            <div class=\"col-lg-4 card-profile\">\r\n"
								+ "            <div class=\"content-page\">\r\n"
								+ "            	<div class=\"card card-block card-stretch card-height\">\r\n"
								+ "                  <div class=\"card-body\">\r\n"
								+ "                     <div class=\"d-flex align-items-center mb-3\">\r\n"
								+ "                        <div class=\"profile-img position-relative\">\r\n"
								+ "                           <img src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" class=\"img-fluid rounded avatar-110\" alt=\"profile-image\">\r\n"
								+ "                        </div>\r\n"
								+ "                        <div class=\"ml-3\">\r\n"
								+ "                           <h4 class=\"mb-1\">"+admin.getUsername()+"</h4>\r\n"
								+ "                           <p class=\"mb-2\">"+admin.getPosition_detail()+"</p>\r\n"
								+ "                        </div>\r\n"
								+ "                     </div>\r\n"
								+ "                     <ul class=\"list-inline p-0 m-0\">\r\n"
								+ "                        <li class=\"mb-2\">\r\n"
								+ "                           <div class=\"d-flex align-items-center\">\r\n"
								+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
								+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n"
								+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n"
								+ "                              </svg>\r\n"
								+ "                              <p class=\"mb-0\">"+admin.getAddress()+"</p>   \r\n"
								+ "                           </div>\r\n"
								+ "                        </li>\r\n"
								+ "                        <li class=\"mb-2\">\r\n"
								+ "                           <div class=\"d-flex align-items-center\">\r\n"
								+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
								+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n"
								+ "                              </svg>\r\n"
								+ "                              <p class=\"mb-0\">"+admin.getPhone()+"</p>   \r\n"
								+ "                           </div>\r\n"
								+ "                        </li>\r\n"
								+ "                        <li>\r\n"
								+ "                           <div class=\"d-flex align-items-center\">\r\n"
								+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
								+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n"
								+ "                              </svg>\r\n"
								+ "                              <p class=\"mb-0\">"+admin.getEmail()+"</p>   \r\n"
								+ "                           </div>\r\n"
								+ "                        </li>\r\n"
								+ "                     </ul>\r\n"
								+ "                  </div>\r\n"
								+ "               </div>\r\n"
								+ "            </div>\r\n"
								+ "            </div>\r\n"
								+ "            <div class=\"col-lg-8 card-profile\">\r\n"
								+ "            	<div class=\"content-page\">\r\n"
								+ "		      <div class=\"container-fluid\">\r\n"
								+ "		         <div class=\"row\">\r\n"
								+ "		            <div class=\"col-lg-12\">\r\n"
								+ "		               <div class=\"card\">\r\n"
								+ "		                  <div class=\"card-body p-0\">\r\n"
								+ "		                     <div class=\"iq-edit-list usr-edit\">\r\n"
								+ "		                        <ul class=\"iq-edit-profile d-flex nav nav-pills\">\r\n"
								+ "		                           <li class=\"col-md-3 p-0\">\r\n"
								+ "		                              <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#personal-information\">\r\n"
								+ "		                              Personal Information\r\n"
								+ "		                              </a>\r\n"
								+ "		                           </li>\r\n"
								+ "		                           <li class=\"col-md-3 p-0\">\r\n"
								+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#chang-pwd\">\r\n"
								+ "		                              Change Password\r\n"
								+ "		                              </a>\r\n"
								+ "		                           </li>\r\n"
								+ "		                           <li class=\"col-md-3 p-0\">\r\n"
								+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#emailandsms\">\r\n"
								+ "		                              Email and SMS\r\n"
								+ "		                              </a>\r\n"
								+ "		                           </li>\r\n"
								+ "		                           <li class=\"col-md-3 p-0\">\r\n"
								+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#manage-contact\">\r\n"
								+ "		                              Manage Contact\r\n"
								+ "		                              </a>\r\n"
								+ "		                           </li>\r\n"
								+ "		                        </ul>\r\n"
								+ "		                     </div>\r\n"
								+ "		                  </div>\r\n"
								+ "		               </div>\r\n"
								+ "		            </div>\r\n"
								+ "		            <div class=\"col-lg-12\">\r\n"
								+ "		               <div class=\"iq-edit-list-data\">\r\n"
								+ "		                  <div class=\"tab-content\">\r\n"
								+ "		                     <div class=\"tab-pane fade active show\" id=\"personal-information\" role=\"tabpanel\">\r\n"
								+ "		                        <div class=\"card\">\r\n"
								+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
								+ "		                              <div class=\"iq-header-title\">\r\n"
								+ "		                                 <h4 class=\"card-title\">Personal Information</h4>\r\n"
								+ "		                              </div>\r\n"
								+ "		                           </div>\r\n"
								+ "		                           <div class=\"card-body\">\r\n"
								+ "		                              <form class=\"form-admin\" id=\"form-change-info-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\" enctype=\"multipart/form-data\">\r\n"
								+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
								+ "		                                    <div class=\"col-md-12\">\r\n"
								+ "		                                       <div class=\"profile-img-edit\">\r\n"
								+ "		                                          <div class=\"crm-profile-img-edit\">\r\n"
								+ "		                                             <img class=\"crm-profile-pic1 rounded-circle avatar-100\" id=\"display_avata\" src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" alt=\"profile-pic1\">\r\n"
								+ "		                                             <div class=\"crm-p-image bg-primary\">\r\n"
								+ "		                                                <i class=\"las la-pen upload-button\"></i>\r\n"
								+ "		                                                <input class=\"file-upload\" type=\"file\" id=\"avata\" name=\"pic1\" accept=\"image/*\">\r\n"
								+ "		                                             </div>\r\n"
								+ "		                                          </div>                                          \r\n"
								+ "		                                       </div>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\" row align-items-center\">\r\n"
								+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
								+ "		                                       <label for=\"fullname\">Full Name:</label>\r\n"
								+ "		                                       <input type=\"text\" class=\"form-control\" id=\"fullname\" name=\"fullname\" value=\""+admin.getFullname()+"\" required>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
								+ "		                                       <label for=\"username\">User Name:</label>\r\n"
								+ "		                                       <input type=\"text\" class=\"form-control\" id=\"username\" name=\"username\" disabled value=\""+admin.getUsername()+"\" required>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
								+ "		                                       <label for=\"phone\">Phone:</label>\r\n"
								+ "		                                       <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" value=\""+admin.getPhone()+"\" required>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
								+ "		                                       <label for=\"email\">Email:</label>\r\n"
								+ "		                                       <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" value=\""+admin.getEmail()+"\" required>\r\n"
								+ "		                                       <div class=\"ajax-check-email\"></div>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
								+ "		                                       <label for=\"city\">City:</label>\r\n"
								+ "		                                       <input type=\"text\" class=\"form-control\" id=\"city\" value=\""+admin.getAddress()+"\" required>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <button type=\"button\" id=\"btn-change-profile-admin\" class=\"btn btn-primary mr-2\">Update</button>\r\n"
								+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
								+ "		                              </form>\r\n"
								+ "		                           </div>\r\n"
								+ "		                        </div>\r\n"
								+ "		                     </div>\r\n"
								+ "		                     <div class=\"tab-pane fade\" id=\"chang-pwd\" role=\"tabpanel\">\r\n"
								+ "		                        <div class=\"card\">\r\n"
								+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
								+ "		                              <div class=\"iq-header-title\">\r\n"
								+ "		                                 <h4 class=\"card-title\">Change Password</h4>\r\n"
								+ "		                              </div>\r\n"
								+ "		                           </div>\r\n"
								+ "		                           <div class=\"card-body\">\r\n"
								+ "		                              <form class=\"form-admin\" id=\"form-change-password-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\">\r\n"
								+ "		                              <div class=\"ajax-change-password\"></div>\r\n"
								+ "		                                 <div class=\"form-group\">\r\n"
								+ "		                                 <div class=\"ajax-check-password\"></div>\r\n"
								+ "		                                    <label for=\"cpass\">Current Password:</label>\r\n"
								+ "		                                    <a href=\"javascript:void();\" class=\"float-right\">Forgot Password</a>\r\n"
								+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"cpass\" name=\"cpass\" value=\"\" required>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group\">\r\n"
								+ "		                                    <label for=\"npass\">New Password:</label>\r\n"
								+ "		                                    <div class=\"ajax-check-password-new\"></div>\r\n"
								+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"npass\" name=\"npass\" value=\"\" required>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group\">\r\n"
								+ "		                                    <label for=\"vpass\">Verify Password:</label>\r\n"
								+ "		                                    <div class=\"ajax-check-password-vpass\"></div>\r\n"
								+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"vpass\" name=\"vpass\" value=\"\" required>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <button type=\"button\" id=\"btn-change-password-admin\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
								+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
								+ "		                              </form>\r\n"
								+ "		                           </div>\r\n"
								+ "		                        </div>\r\n"
								+ "		                     </div>\r\n"
								+ "		                     <div class=\"tab-pane fade\" id=\"emailandsms\" role=\"tabpanel\">\r\n"
								+ "		                        <div class=\"card\">\r\n"
								+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
								+ "		                              <div class=\"iq-header-title\">\r\n"
								+ "		                                 <h4 class=\"card-title\">Email and SMS</h4>\r\n"
								+ "		                              </div>\r\n"
								+ "		                           </div>\r\n"
								+ "		                           <div class=\"card-body\">\r\n"
								+ "		                              <form>\r\n"
								+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
								+ "		                                    <label class=\"col-md-3\" for=\"emailnotification\">Email Notification:</label>\r\n"
								+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
								+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"emailnotification\" checked=\"\">\r\n"
								+ "		                                       <label class=\"custom-control-label\" for=\"emailnotification\"></label>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
								+ "		                                    <label class=\"col-md-3\" for=\"smsnotification\">SMS Notification:</label>\r\n"
								+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
								+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"smsnotification\" checked=\"\">\r\n"
								+ "		                                       <label class=\"custom-control-label\" for=\"smsnotification\"></label>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
								+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Email</label>\r\n"
								+ "		                                    <div class=\"col-md-9\">\r\n"
								+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
								+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email01\">\r\n"
								+ "		                                          <label class=\"custom-control-label\" for=\"email01\">You have new notifications.</label>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
								+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email02\">\r\n"
								+ "		                                          <label class=\"custom-control-label\" for=\"email02\">You're sent a direct message</label>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
								+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email03\" checked=\"\">\r\n"
								+ "		                                          <label class=\"custom-control-label\" for=\"email03\">Someone adds you as a connection</label>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
								+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Escalate Emails</label>\r\n"
								+ "		                                    <div class=\"col-md-9\">\r\n"
								+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
								+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email04\">\r\n"
								+ "		                                          <label class=\"custom-control-label\" for=\"email04\"> Upon new order.</label>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
								+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email05\">\r\n"
								+ "		                                          <label class=\"custom-control-label\" for=\"email05\"> New membership approval</label>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
								+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email06\" checked=\"\">\r\n"
								+ "		                                          <label class=\"custom-control-label\" for=\"email06\"> Member registration</label>\r\n"
								+ "		                                       </div>\r\n"
								+ "		                                    </div>\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
								+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
								+ "		                              </form>\r\n"
								+ "		                           </div>\r\n"
								+ "		                        </div>\r\n"
								+ "		                     </div>\r\n"
								+ "		                     <div class=\"tab-pane fade\" id=\"manage-contact\" role=\"tabpanel\">\r\n"
								+ "		                        <div class=\"card\">\r\n"
								+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
								+ "		                              <div class=\"iq-header-title\">\r\n"
								+ "		                                 <h4 class=\"card-title\">Manage Contact</h4>\r\n"
								+ "		                              </div>\r\n"
								+ "		                           </div>\r\n"
								+ "		                           <div class=\"card-body\">\r\n"
								+ "		                              <form>\r\n"
								+ "		                                 <div class=\"form-group\">\r\n"
								+ "		                                    <label for=\"cno\">Contact Number:</label>\r\n"
								+ "		                                    <input type=\"text\" class=\"form-control\" id=\"cno\" value=\""+admin.getPhone()+"\">\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group\">\r\n"
								+ "		                                    <label for=\"email\">Email:</label>\r\n"
								+ "		                                    <input type=\"text\" class=\"form-control\" id=\"email-info\" value=\""+admin.getEmail()+"\">\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <div class=\"form-group\">\r\n"
								+ "		                                    <label for=\"url\">Url:</label>\r\n"
								+ "		                                    <input type=\"text\" class=\"form-control\" id=\"url\" value=\"https://getbootstrap.com\">\r\n"
								+ "		                                 </div>\r\n"
								+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
								+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
								+ "		                              </form>\r\n"
								+ "		                           </div>\r\n"
								+ "		                        </div>\r\n"
								+ "		                     </div>\r\n"
								+ "		                  </div>\r\n"
								+ "		               </div>\r\n"
								+ "		            </div>\r\n"
								+ "		         </div>\r\n"
								+ "		      </div>\r\n"
								+ "		      </div>\r\n"
								+ "            </div>\r\n"
								+ "         </div>\r\n"
								+ "      </div>\r\n"
								+ "      </div>\r\n"
								+ "      	<script type=\"text/javascript\">\r\n"
								+ "      	$('#cpass').on('input', function(){\r\n"
								+ " 	   		 var changedField = $(this);\r\n"
								+ " 			     var cpass = $(\"#cpass\").val(); \r\n"
								+ " 			     var id = "+admin.getId()+"\r\n"
								+ " 			        $.ajax({\r\n"
								+ " 						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
								+ " 						type: 'POST',\r\n"
								+ " 						cache: false,\r\n"
								+ " 						data: {\r\n"
								+ " 								aid: id,\r\n"
								+ " 								acpass: cpass,\r\n"
								+ " 							},\r\n"
								+ " 						success: function(data){\r\n"
								+ " 							$('.ajax-check-password').html(data);\r\n"
								+ " 						},\r\n"
								+ " 						error: function (){\r\n"
								+ " 							alert('Có lỗi xảy ra');\r\n"
								+ " 						},\r\n"
								+ " 					});\r\n"
								+ " 					return false;\r\n"
								+ " 	   	});\r\n"
								+ "      	$('#npass').on('input', function(){\r\n"
								+ "	   		 var changedField = $(this);\r\n"
								+ "			     var cpass = $(\"#cpass\").val(); \r\n"
								+ "			     var npass = $(\"#npass\").val();\r\n"
								+ "			     var id = "+admin.getId()+"\r\n"
								+ "			        $.ajax({\r\n"
								+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
								+ "						type: 'POST',\r\n"
								+ "						cache: false,\r\n"
								+ "						data: {\r\n"
								+ "								aid: id,\r\n"
								+ "								ccpass: cpass,\r\n"
								+ "								cnpass: npass,\r\n"
								+ "							},\r\n"
								+ "						success: function(data){\r\n"
								+ "							$('.ajax-check-password-new').html(data);\r\n"
								+ "						},\r\n"
								+ "						error: function (){\r\n"
								+ "							alert('Có lỗi xảy ra');\r\n"
								+ "						},\r\n"
								+ "					});\r\n"
								+ "					return false;\r\n"
								+ "	   	});\r\n"
								+ "      	$('#vpass').on('input', function(){\r\n"
								+ "	   		 var changedField = $(this);\r\n"
								+ "	   		var npass = $(\"#npass\").val(); \r\n"
								+ "			     var vpass = $(\"#vpass\").val();\r\n"
								+ "			     var id = "+admin.getId()+"\r\n"
								+ "			        $.ajax({\r\n"
								+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
								+ "						type: 'POST',\r\n"
								+ "						cache: false,\r\n"
								+ "						data: {\r\n"
								+ "								aid:id,\r\n"
								+ "								bnpass: npass,\r\n"
								+ "								bvpass: vpass,\r\n"
								+ "							},\r\n"
								+ "						success: function(data){\r\n"
								+ "							$('.ajax-check-password-vpass').html(data);\r\n"
								+ "						},\r\n"
								+ "						error: function (){\r\n"
								+ "							alert('Có lỗi xảy ra');\r\n"
								+ "						},\r\n"
								+ "					});\r\n"
								+ "					return false;\r\n"
								+ "	   	});\r\n"
								+ " 			\r\n"
								+ " 			$('#email').on('blur', function(){\r\n"
								+ " 		   		 var changedField = $(this);\r\n"
								+ " 				     var email = $(\"#email\").val(); \r\n"
								+ " 				     var id = "+admin.getId()+"\r\n"
								+ " 				        $.ajax({\r\n"
								+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
								+ " 							type: 'POST',\r\n"
								+ " 							cache: false,\r\n"
								+ " 							data: {\r\n"
								+ " 									aid: id,\r\n"
								+ " 									'check-email': email,\r\n"
								+ " 								},\r\n"
								+ " 							success: function(data){\r\n"
								+ " 								$('.ajax-check-email').html(data);\r\n"
								+ " 							},\r\n"
								+ " 							error: function (){\r\n"
								+ " 								alert('Có lỗi xảy ra');\r\n"
								+ " 							},\r\n"
								+ " 						});\r\n"
								+ " 						return false;\r\n"
								+ " 		   	});\r\n"
								+ " 			$('#form-change-info-admin').validate({\r\n"
								+ " 	 			 rules:{\r\n"
								+ " 	 				 fullname:{\r\n"
								+ " 	 					 required: true,\r\n"
								+ " 	 					 minlength: 6,\r\n"
								+ " 	 				 },\r\n"
								+ " 	 				 email:{ \r\n"
								+ " 	 					required: true,\r\n"
								+ " 						email: true,\r\n"
								+ " 	 				 },\r\n"
								+ " 	 				 phone:{\r\n"
								+ " 	 					 required: true,\r\n"
								+ " 	 					 minlength: 10,\r\n"
								+ " 	 				 },\r\n"
								+ " 	 				 city:{\r\n"
								+ " 	 					 required: true,\r\n"
								+ " 	 				 },\r\n"
								+ " 	 			 },\r\n"
								+ " 	 			 messages:{\r\n"
								+ " 	 				 fullname:{\r\n"
								+ " 	 					required:'Nhập vào tên.',\r\n"
								+ " 	 					minlength:'Nhập tối thiểu 6 ký tự.',\r\n"
								+ " 	 				 },\r\n"
								+ " 	 				email:{\r\n"
								+ " 						required: 'Nhập vào email của bạn.',\r\n"
								+ " 						email: 'Hãy nhập đúng định dạng.',\r\n"
								+ " 					},\r\n"
								+ " 					phone:{\r\n"
								+ " 						required:'Nhập vào số điện thoại.',\r\n"
								+ " 						minlength: 'Số điện thoại phải 10 ký tự.',\r\n"
								+ " 					},\r\n"
								+ " 					city:{\r\n"
								+ " 						required:'Nhập vào thành phố.',\r\n"
								+ " 					},\r\n"
								+ " 	 			 },\r\n"
								+ " 	 			 \r\n"
								+ " 	 		 });\r\n"
								+ " 			$('#form-change-password-admin').validate({\r\n"
								+ "				 rules:{\r\n"
								+ "					 cpass:{\r\n"
								+ "						 required: true,\r\n"
								+ "						 minlength: 6,\r\n"
								+ "					 },\r\n"
								+ "					npass:{\r\n"
								+ "						 required: true,\r\n"
								+ "						 minlength: 6,\r\n"
								+ "						maxlength:13,\r\n"
								+ "					 },\r\n"
								+ "					vpass:{\r\n"
								+ "						 required: true,\r\n"
								+ "						 minlength: 6,\r\n"
								+ "						maxlength:13,\r\n"
								+ "						equalTo: \"#npass\"\r\n"
								+ "					 },\r\n"
								+ "				 },\r\n"
								+ "			messages:{\r\n"
								+ "					cpass:{\r\n"
								+ "						required: 'Nhập vào mật khẩu cũ.',\r\n"
								+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
								+ "						},\r\n"
								+ "					npass:{\r\n"
								+ "						required: 'Nhập vào mật khẩu mới.',\r\n"
								+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
								+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
								+ "					},\r\n"
								+ "					vpass:{\r\n"
								+ "						required: 'Nhập lại mật khẩu mới.',\r\n"
								+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
								+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
								+ "						equalTo: 'Mật khẩu chưa chính xác.'\r\n"
								+ "					},\r\n"
								+ "			}, \r\n"
								+ " 			});\r\n"
								+ " 			$( \"input[type=file]#avata\" ).change(function(e) {\r\n"
								+ "	    		var filename_input = e.target.files[0].name;\r\n"
								+ "	    		var src = $(\"#display_avata\").attr(\"src\");\r\n"
								+ "		    	var path = src.substring(0,src.lastIndexOf('/'));									    		\r\n"
								+ "		    	var filename = src.split(\"/\").pop();\r\n"
								+ "		    	var newSrc = path+\"/\"+filename_input;\r\n"
								+ "		    	$(\"#display_avata\").attr(\"src\",newSrc);\r\n"
								+ "		    	});\r\n"
								+ " 			$('#btn-change-profile-admin').on('click', function(){\r\n"
								+ " 				//if($('#form-change-info-admin').valid()==true){\r\n"
								+ " 					var formData = new FormData();\r\n"
								+ "					formData.append('aid', "+admin.getId()+");\r\n"
								+ "					formData.append('fullname', $(\"#fullname\").val());\r\n"
								+ "					formData.append('email', $('#email').val());\r\n"
								+ "					formData.append('phone', $('#phone').val());\r\n"
								+ "					formData.append('city', $('#city').val());\r\n"
								+ "					formData.append(\"pic1\", avata.files[0]);\r\n"
								+ " 				        $.ajax({\r\n"
								+ " 							url: '"+request.getContextPath()+"/admin/profile',\r\n"
								+ " 							type: 'POST',\r\n"
								+ " 							cache: false,\r\n"
								+ " 							contentType: false,\r\n"
								+ "          					data: formData,\r\n"
								+ "          					processData: false,\r\n"
								+ " 							success: function(data){\r\n"
								+ " 								$('.ajax-change-info').html(data);\r\n"
								+ " 							},\r\n"
								+ " 							error: function (){\r\n"
								+ " 								alert('Có lỗi xảy ra');\r\n"
								+ " 							},\r\n"
								+ " 						});\r\n"
								+ " 						return false;\r\n"
								+ " 				//}else{\r\n"
								+ " 					//$('#form-change-info-admin').valid();\r\n"
								+ " 				//}\r\n"
								+ " 			});\r\n"
								+ " 			$('#btn-change-password-admin').on('click', function(){\r\n"
								+ " 				//if($('#form-change-password-admin').valid()==true){\r\n"
								+ " 					\r\n"
								+ " 					var changedField = $(this);\r\n"
								+ " 				     var cpass = $('#cpass').val(); \r\n"
								+ " 				     var npass = $('#npass').val();\r\n"
								+ " 				     var id = "+admin.getId()+"\r\n"
								+ " 				        $.ajax({\r\n"
								+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
								+ " 							type: 'POST',\r\n"
								+ " 							cache: false,\r\n"
								+ " 							data: {\r\n"
								+ " 									aid: id,\r\n"
								+ " 									cpass: cpass,\r\n"
								+ " 									npass: npass,\r\n"
								+ " 								},\r\n"
								+ " 							success: function(data){\r\n"
								+ " 								$('.ajax-change-password').html(data);\r\n"
								+ " 								$('#form-change-password-admin').trigger(\"reset\");\r\n"
								+ " 							},\r\n"
								+ " 							error: function (){\r\n"
								+ " 								alert('Có lỗi xảy ra');\r\n"
								+ " 							},\r\n"
								+ " 						});\r\n"
								+ " 						return false;\r\n"
								+ " 				//}else{\r\n"
								+ " 					//$('#form-change-password-admin').valid();\r\n"
								+ " 				//}\r\n"
								+ " 			});\r\n"
								+ "      		function setInputFilter(textbox, inputFilter) {\r\n"
								+ "      		  [\"input\", \"keydown\", \"keyup\", \"mousedown\", \"mouseup\", \"select\", \"contextmenu\", \"drop\"].forEach(function(event) {\r\n"
								+ "      		    textbox.addEventListener(event, function() {\r\n"
								+ "      		      if (inputFilter(this.value)) {\r\n"
								+ "      		        this.oldValue = this.value;\r\n"
								+ "      		        this.oldSelectionStart = this.selectionStart;\r\n"
								+ "      		        this.oldSelectionEnd = this.selectionEnd;\r\n"
								+ "      		      } else if (this.hasOwnProperty(\"oldValue\")) {\r\n"
								+ "      		        this.value = this.oldValue;\r\n"
								+ "      		        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);\r\n"
								+ "      		      } else {\r\n"
								+ "      		        this.value = \"\";\r\n"
								+ "      		      }\r\n"
								+ "      		    });\r\n"
								+ "      		  });\r\n"
								+ "      		};\r\n"
								+ "      		setInputFilter(document.getElementById(\"phone\"), function(value) {\r\n"
								+ "      		  return /^\\d*$/.test(value); });\r\n"
								+ "		</script>");
					}
				}
			}
		}else {

			Admin admin = AdminDAO.getUsById(id);
			session.setAttribute("objUAd", admin);
			response.getWriter().print("<div class=\"modal fade\" id=\"new-order\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n"
					+ "          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n"
					+ "              <div class=\"modal-content\">\r\n"
					+ "                  <div class=\"modal-body\">\r\n"
					+ "                      <div class=\"popup text-left\">\r\n"
					+ "                          <h4 class=\"mb-3\">New Order</h4>\r\n"
					+ "                          <div class=\"content create-workform bg-body\">\r\n"
					+ "                              <div class=\"pb-3\">\r\n"
					+ "                                  <label class=\"mb-2\">Email</label>\r\n"
					+ "                                  <input type=\"text\" class=\"form-control\" placeholder=\"Enter Name or Email\">\r\n"
					+ "                              </div>\r\n"
					+ "                              <div class=\"col-lg-12 mt-4\">\r\n"
					+ "                                  <div class=\"d-flex flex-wrap align-items-ceter justify-content-center\">\r\n"
					+ "                                      <div class=\"btn btn-primary mr-4\" data-dismiss=\"modal\">Cancel</div>\r\n"
					+ "                                      <div class=\"btn btn-outline-primary\" data-dismiss=\"modal\">Create</div>\r\n"
					+ "                                  </div>\r\n"
					+ "                              </div>\r\n"
					+ "                          </div>\r\n"
					+ "                      </div>\r\n"
					+ "                  </div>\r\n"
					+ "              </div>\r\n"
					+ "          </div>\r\n"
					+ "      </div>      \r\n"
					+ "      <div class=\"content-page\">\r\n"
					+ "      <div class=\"container-fluid\">\r\n"
					+ "         <div class=\"row\">\r\n"
					+ "            <div class=\"col-lg-12\">\r\n"
					+ "               <div class=\"card car-transparent\">\r\n"
					+ "                  <div class=\"card-body p-0\">\r\n"
					+ "                     <div class=\"profile-image position-relative\">\r\n"
					+ "                        <img src=\""+request.getContextPath()+"/templates/admin/assets/images/page-img/profile.png\" class=\"img-fluid rounded w-100\" alt=\"profile-image\">\r\n"
					+ "                     </div>\r\n"
					+ "                  </div>\r\n"
					+ "               </div>\r\n"
					+ "            </div>\r\n"
					+ "         </div>\r\n"
					+ "         <div class=\"row m-sm-0 px-3\">            \r\n"
					+ "            <div class=\"col-lg-4 card-profile\">\r\n"
					+ "            <div class=\"content-page\">\r\n"
					+ "            	<div class=\"card card-block card-stretch card-height\">\r\n"
					+ "                  <div class=\"card-body\">\r\n"
					+ "                     <div class=\"d-flex align-items-center mb-3\">\r\n"
					+ "                        <div class=\"profile-img position-relative\">\r\n"
					+ "                           <img src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" class=\"img-fluid rounded avatar-110\" alt=\"profile-image\">\r\n"
					+ "                        </div>\r\n"
					+ "                        <div class=\"ml-3\">\r\n"
					+ "                           <h4 class=\"mb-1\">"+admin.getUsername()+"</h4>\r\n"
					+ "                           <p class=\"mb-2\">"+admin.getPosition_detail()+"</p>\r\n"
					+ "                        </div>\r\n"
					+ "                     </div>\r\n"
					+ "                     <ul class=\"list-inline p-0 m-0\">\r\n"
					+ "                        <li class=\"mb-2\">\r\n"
					+ "                           <div class=\"d-flex align-items-center\">\r\n"
					+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
					+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n"
					+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n"
					+ "                              </svg>\r\n"
					+ "                              <p class=\"mb-0\">"+admin.getAddress()+"</p>   \r\n"
					+ "                           </div>\r\n"
					+ "                        </li>\r\n"
					+ "                        <li class=\"mb-2\">\r\n"
					+ "                           <div class=\"d-flex align-items-center\">\r\n"
					+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
					+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n"
					+ "                              </svg>\r\n"
					+ "                              <p class=\"mb-0\">"+admin.getPhone()+"</p>   \r\n"
					+ "                           </div>\r\n"
					+ "                        </li>\r\n"
					+ "                        <li>\r\n"
					+ "                           <div class=\"d-flex align-items-center\">\r\n"
					+ "                              <svg class=\"svg-icon mr-3\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n"
					+ "                                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n"
					+ "                              </svg>\r\n"
					+ "                              <p class=\"mb-0\">"+admin.getEmail()+"</p>   \r\n"
					+ "                           </div>\r\n"
					+ "                        </li>\r\n"
					+ "                     </ul>\r\n"
					+ "                  </div>\r\n"
					+ "               </div>\r\n"
					+ "            </div>\r\n"
					+ "            </div>\r\n"
					+ "            <div class=\"col-lg-8 card-profile\">\r\n"
					+ "            	<div class=\"content-page\">\r\n"
					+ "		      <div class=\"container-fluid\">\r\n"
					+ "		         <div class=\"row\">\r\n"
					+ "		            <div class=\"col-lg-12\">\r\n"
					+ "		               <div class=\"card\">\r\n"
					+ "		                  <div class=\"card-body p-0\">\r\n"
					+ "		                     <div class=\"iq-edit-list usr-edit\">\r\n"
					+ "		                        <ul class=\"iq-edit-profile d-flex nav nav-pills\">\r\n"
					+ "		                           <li class=\"col-md-3 p-0\">\r\n"
					+ "		                              <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#personal-information\">\r\n"
					+ "		                              Personal Information\r\n"
					+ "		                              </a>\r\n"
					+ "		                           </li>\r\n"
					+ "		                           <li class=\"col-md-3 p-0\">\r\n"
					+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#chang-pwd\">\r\n"
					+ "		                              Change Password\r\n"
					+ "		                              </a>\r\n"
					+ "		                           </li>\r\n"
					+ "		                           <li class=\"col-md-3 p-0\">\r\n"
					+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#emailandsms\">\r\n"
					+ "		                              Email and SMS\r\n"
					+ "		                              </a>\r\n"
					+ "		                           </li>\r\n"
					+ "		                           <li class=\"col-md-3 p-0\">\r\n"
					+ "		                              <a class=\"nav-link\" data-toggle=\"pill\" href=\"#manage-contact\">\r\n"
					+ "		                              Manage Contact\r\n"
					+ "		                              </a>\r\n"
					+ "		                           </li>\r\n"
					+ "		                        </ul>\r\n"
					+ "		                     </div>\r\n"
					+ "		                  </div>\r\n"
					+ "		               </div>\r\n"
					+ "		            </div>\r\n"
					+ "		            <div class=\"col-lg-12\">\r\n"
					+ "		               <div class=\"iq-edit-list-data\">\r\n"
					+ "		                  <div class=\"tab-content\">\r\n"
					+ "		                     <div class=\"tab-pane fade active show\" id=\"personal-information\" role=\"tabpanel\">\r\n"
					+ "		                        <div class=\"card\">\r\n"
					+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
					+ "		                              <div class=\"iq-header-title\">\r\n"
					+ "		                                 <h4 class=\"card-title\">Personal Information</h4>\r\n"
					+ "		                              </div>\r\n"
					+ "		                           </div>\r\n"
					+ "		                           <div class=\"card-body\">\r\n"
					+ "		                              <form class=\"form-admin\" id=\"form-change-info-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\" enctype=\"multipart/form-data\">\r\n"
					+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
					+ "		                                    <div class=\"col-md-12\">\r\n"
					+ "		                                       <div class=\"profile-img-edit\">\r\n"
					+ "		                                          <div class=\"crm-profile-img-edit\">\r\n"
					+ "		                                             <img class=\"crm-profile-pic1 rounded-circle avatar-100\" id=\"display_avata\" src=\""+request.getContextPath()+"/templates/admin/assets/images/user/"+admin.getImages()+"\" alt=\"profile-pic1\">\r\n"
					+ "		                                             <div class=\"crm-p-image bg-primary\">\r\n"
					+ "		                                                <i class=\"las la-pen upload-button\"></i>\r\n"
					+ "		                                                <input class=\"file-upload\" type=\"file\" id=\"avata\" name=\"pic1\" accept=\"image/*\">\r\n"
					+ "		                                             </div>\r\n"
					+ "		                                          </div>                                          \r\n"
					+ "		                                       </div>\r\n"
					+ "		                                    </div>\r\n"
					+ "		                                 </div>\r\n"
					+ "		                                 <div class=\" row align-items-center\">\r\n"
					+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
					+ "		                                       <label for=\"fullname\">Full Name:</label>\r\n"
					+ "		                                       <input type=\"text\" class=\"form-control\" id=\"fullname\" name=\"fullname\" value=\""+admin.getFullname()+"\" required>\r\n"
					+ "		                                    </div>\r\n"
					+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
					+ "		                                       <label for=\"username\">User Name:</label>\r\n"
					+ "		                                       <input type=\"text\" class=\"form-control\" id=\"username\" name=\"username\" disabled value=\""+admin.getUsername()+"\" required>\r\n"
					+ "		                                    </div>\r\n"
					+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
					+ "		                                       <label for=\"phone\">Phone:</label>\r\n"
					+ "		                                       <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" value=\""+admin.getPhone()+"\" required>\r\n"
					+ "		                                    </div>\r\n"
					+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
					+ "		                                       <label for=\"email\">Email:</label>\r\n"
					+ "		                                       <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" value=\""+admin.getEmail()+"\" required>\r\n"
					+ "		                                       <div class=\"ajax-check-email\"></div>\r\n"
					+ "		                                    </div>\r\n"
					+ "		                                    <div class=\"form-group col-sm-6\">\r\n"
					+ "		                                       <label for=\"city\">City:</label>\r\n"
					+ "		                                       <input type=\"text\" class=\"form-control\" id=\"city\" value=\""+admin.getAddress()+"\" required>\r\n"
					+ "		                                    </div>\r\n"
					+ "		                                 </div>\r\n"
					+ "		                                 <button type=\"button\" id=\"btn-change-profile-admin\" class=\"btn btn-primary mr-2\">Update</button>\r\n"
					+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
					+ "		                              </form>\r\n"
					+ "		                           </div>\r\n"
					+ "		                        </div>\r\n"
					+ "		                     </div>\r\n"
					+ "		                     <div class=\"tab-pane fade\" id=\"chang-pwd\" role=\"tabpanel\">\r\n"
					+ "		                        <div class=\"card\">\r\n"
					+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
					+ "		                              <div class=\"iq-header-title\">\r\n"
					+ "		                                 <h4 class=\"card-title\">Change Password</h4>\r\n"
					+ "		                              </div>\r\n"
					+ "		                           </div>\r\n"
					+ "		                           <div class=\"card-body\">\r\n"
					+ "		                              <form class=\"form-admin\" id=\"form-change-password-admin\" action=\""+request.getContextPath()+"/admin/profile\" method=\"post\" data-toggle=\"validator\">\r\n"
					+ "		                              <div class=\"ajax-change-password\"></div>\r\n"
					+ "		                                 <div class=\"form-group\">\r\n"
					+ "		                                 <div class=\"ajax-check-password\"></div>\r\n"
					+ "		                                    <label for=\"cpass\">Current Password:</label>\r\n"
					+ "		                                    <a href=\"javascript:void();\" class=\"float-right\">Forgot Password</a>\r\n"
					+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"cpass\" name=\"cpass\" value=\"\" required>\r\n"
					+ "		                                 </div>\r\n"
					+ "		                                 <div class=\"form-group\">\r\n"
					+ "		                                    <label for=\"npass\">New Password:</label>\r\n"
					+ "		                                    <div class=\"ajax-check-password-new\"></div>\r\n"
					+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"npass\" name=\"npass\" value=\"\" required>\r\n"
					+ "		                                 </div>\r\n"
					+ "		                                 <div class=\"form-group\">\r\n"
					+ "		                                    <label for=\"vpass\">Verify Password:</label>\r\n"
					+ "		                                    <div class=\"ajax-check-password-vpass\"></div>\r\n"
					+ "		                                    <input type=\"Password\" class=\"form-control\" id=\"vpass\" name=\"vpass\" value=\"\" required>\r\n"
					+ "		                                 </div>\r\n"
					+ "		                                 <button type=\"button\" id=\"btn-change-password-admin\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
					+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
					+ "		                              </form>\r\n"
					+ "		                           </div>\r\n"
					+ "		                        </div>\r\n"
					+ "		                     </div>\r\n"
					+ "		                     <div class=\"tab-pane fade\" id=\"emailandsms\" role=\"tabpanel\">\r\n"
					+ "		                        <div class=\"card\">\r\n"
					+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
					+ "		                              <div class=\"iq-header-title\">\r\n"
					+ "		                                 <h4 class=\"card-title\">Email and SMS</h4>\r\n"
					+ "		                              </div>\r\n"
					+ "		                           </div>\r\n"
					+ "		                           <div class=\"card-body\">\r\n"
					+ "		                              <form>\r\n"
					+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
					+ "		                                    <label class=\"col-md-3\" for=\"emailnotification\">Email Notification:</label>\r\n"
					+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
					+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"emailnotification\" checked=\"\">\r\n"
					+ "		                                       <label class=\"custom-control-label\" for=\"emailnotification\"></label>\r\n"
					+ "		                                    </div>\r\n"
					+ "		                                 </div>\r\n"
					+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
					+ "		                                    <label class=\"col-md-3\" for=\"smsnotification\">SMS Notification:</label>\r\n"
					+ "		                                    <div class=\"col-md-9 custom-control custom-switch\">\r\n"
					+ "		                                       <input type=\"checkbox\" class=\"custom-control-input\" id=\"smsnotification\" checked=\"\">\r\n"
					+ "		                                       <label class=\"custom-control-label\" for=\"smsnotification\"></label>\r\n"
					+ "		                                    </div>\r\n"
					+ "		                                 </div>\r\n"
					+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
					+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Email</label>\r\n"
					+ "		                                    <div class=\"col-md-9\">\r\n"
					+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
					+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email01\">\r\n"
					+ "		                                          <label class=\"custom-control-label\" for=\"email01\">You have new notifications.</label>\r\n"
					+ "		                                       </div>\r\n"
					+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
					+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email02\">\r\n"
					+ "		                                          <label class=\"custom-control-label\" for=\"email02\">You're sent a direct message</label>\r\n"
					+ "		                                       </div>\r\n"
					+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
					+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email03\" checked=\"\">\r\n"
					+ "		                                          <label class=\"custom-control-label\" for=\"email03\">Someone adds you as a connection</label>\r\n"
					+ "		                                       </div>\r\n"
					+ "		                                    </div>\r\n"
					+ "		                                 </div>\r\n"
					+ "		                                 <div class=\"form-group row align-items-center\">\r\n"
					+ "		                                    <label class=\"col-md-3\" for=\"npass\">When To Escalate Emails</label>\r\n"
					+ "		                                    <div class=\"col-md-9\">\r\n"
					+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
					+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email04\">\r\n"
					+ "		                                          <label class=\"custom-control-label\" for=\"email04\"> Upon new order.</label>\r\n"
					+ "		                                       </div>\r\n"
					+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
					+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email05\">\r\n"
					+ "		                                          <label class=\"custom-control-label\" for=\"email05\"> New membership approval</label>\r\n"
					+ "		                                       </div>\r\n"
					+ "		                                       <div class=\"custom-control custom-checkbox\">\r\n"
					+ "		                                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"email06\" checked=\"\">\r\n"
					+ "		                                          <label class=\"custom-control-label\" for=\"email06\"> Member registration</label>\r\n"
					+ "		                                       </div>\r\n"
					+ "		                                    </div>\r\n"
					+ "		                                 </div>\r\n"
					+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
					+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
					+ "		                              </form>\r\n"
					+ "		                           </div>\r\n"
					+ "		                        </div>\r\n"
					+ "		                     </div>\r\n"
					+ "		                     <div class=\"tab-pane fade\" id=\"manage-contact\" role=\"tabpanel\">\r\n"
					+ "		                        <div class=\"card\">\r\n"
					+ "		                           <div class=\"card-header d-flex justify-content-between\">\r\n"
					+ "		                              <div class=\"iq-header-title\">\r\n"
					+ "		                                 <h4 class=\"card-title\">Manage Contact</h4>\r\n"
					+ "		                              </div>\r\n"
					+ "		                           </div>\r\n"
					+ "		                           <div class=\"card-body\">\r\n"
					+ "		                              <form>\r\n"
					+ "		                                 <div class=\"form-group\">\r\n"
					+ "		                                    <label for=\"cno\">Contact Number:</label>\r\n"
					+ "		                                    <input type=\"text\" class=\"form-control\" id=\"cno\" value=\""+admin.getPhone()+"\">\r\n"
					+ "		                                 </div>\r\n"
					+ "		                                 <div class=\"form-group\">\r\n"
					+ "		                                    <label for=\"email\">Email:</label>\r\n"
					+ "		                                    <input type=\"text\" class=\"form-control\" id=\"email-info\" value=\""+admin.getEmail()+"\">\r\n"
					+ "		                                 </div>\r\n"
					+ "		                                 <div class=\"form-group\">\r\n"
					+ "		                                    <label for=\"url\">Url:</label>\r\n"
					+ "		                                    <input type=\"text\" class=\"form-control\" id=\"url\" value=\"https://getbootstrap.com\">\r\n"
					+ "		                                 </div>\r\n"
					+ "		                                 <button type=\"submit\" class=\"btn btn-primary mr-2\">Submit</button>\r\n"
					+ "		                                 <button type=\"reset\" class=\"btn iq-bg-danger\">Cancel</button>\r\n"
					+ "		                              </form>\r\n"
					+ "		                           </div>\r\n"
					+ "		                        </div>\r\n"
					+ "		                     </div>\r\n"
					+ "		                  </div>\r\n"
					+ "		               </div>\r\n"
					+ "		            </div>\r\n"
					+ "		         </div>\r\n"
					+ "		      </div>\r\n"
					+ "		      </div>\r\n"
					+ "            </div>\r\n"
					+ "         </div>\r\n"
					+ "      </div>\r\n"
					+ "      </div>\r\n"
					+ "      	<script type=\"text/javascript\">\r\n"
					+ "      	$('#cpass').on('input', function(){\r\n"
					+ " 	   		 var changedField = $(this);\r\n"
					+ " 			     var cpass = $(\"#cpass\").val(); \r\n"
					+ " 			     var id = "+admin.getId()+"\r\n"
					+ " 			        $.ajax({\r\n"
					+ " 						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
					+ " 						type: 'POST',\r\n"
					+ " 						cache: false,\r\n"
					+ " 						data: {\r\n"
					+ " 								aid: id,\r\n"
					+ " 								acpass: cpass,\r\n"
					+ " 							},\r\n"
					+ " 						success: function(data){\r\n"
					+ " 							$('.ajax-check-password').html(data);\r\n"
					+ " 						},\r\n"
					+ " 						error: function (){\r\n"
					+ " 							alert('Có lỗi xảy ra');\r\n"
					+ " 						},\r\n"
					+ " 					});\r\n"
					+ " 					return false;\r\n"
					+ " 	   	});\r\n"
					+ "      	$('#npass').on('input', function(){\r\n"
					+ "	   		 var changedField = $(this);\r\n"
					+ "			     var cpass = $(\"#cpass\").val(); \r\n"
					+ "			     var npass = $(\"#npass\").val();\r\n"
					+ "			     var id = "+admin.getId()+"\r\n"
					+ "			        $.ajax({\r\n"
					+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
					+ "						type: 'POST',\r\n"
					+ "						cache: false,\r\n"
					+ "						data: {\r\n"
					+ "								aid: id,\r\n"
					+ "								ccpass: cpass,\r\n"
					+ "								cnpass: npass,\r\n"
					+ "							},\r\n"
					+ "						success: function(data){\r\n"
					+ "							$('.ajax-check-password-new').html(data);\r\n"
					+ "						},\r\n"
					+ "						error: function (){\r\n"
					+ "							alert('Có lỗi xảy ra');\r\n"
					+ "						},\r\n"
					+ "					});\r\n"
					+ "					return false;\r\n"
					+ "	   	});\r\n"
					+ "      	$('#vpass').on('input', function(){\r\n"
					+ "	   		 var changedField = $(this);\r\n"
					+ "	   		var npass = $(\"#npass\").val(); \r\n"
					+ "			     var vpass = $(\"#vpass\").val();\r\n"
					+ "			     var id = "+admin.getId()+"\r\n"
					+ "			        $.ajax({\r\n"
					+ "						url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
					+ "						type: 'POST',\r\n"
					+ "						cache: false,\r\n"
					+ "						data: {\r\n"
					+ "								aid:id,\r\n"
					+ "								bnpass: npass,\r\n"
					+ "								bvpass: vpass,\r\n"
					+ "							},\r\n"
					+ "						success: function(data){\r\n"
					+ "							$('.ajax-check-password-vpass').html(data);\r\n"
					+ "						},\r\n"
					+ "						error: function (){\r\n"
					+ "							alert('Có lỗi xảy ra');\r\n"
					+ "						},\r\n"
					+ "					});\r\n"
					+ "					return false;\r\n"
					+ "	   	});\r\n"
					+ " 			\r\n"
					+ " 			$('#email').on('blur', function(){\r\n"
					+ " 		   		 var changedField = $(this);\r\n"
					+ " 				     var email = $(\"#email\").val(); \r\n"
					+ " 				     var id = "+admin.getId()+"\r\n"
					+ " 				        $.ajax({\r\n"
					+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
					+ " 							type: 'POST',\r\n"
					+ " 							cache: false,\r\n"
					+ " 							data: {\r\n"
					+ " 									aid: id,\r\n"
					+ " 									'check-email': email,\r\n"
					+ " 								},\r\n"
					+ " 							success: function(data){\r\n"
					+ " 								$('.ajax-check-email').html(data);\r\n"
					+ " 							},\r\n"
					+ " 							error: function (){\r\n"
					+ " 								alert('Có lỗi xảy ra');\r\n"
					+ " 							},\r\n"
					+ " 						});\r\n"
					+ " 						return false;\r\n"
					+ " 		   	});\r\n"
					+ " 			$('#form-change-info-admin').validate({\r\n"
					+ " 	 			 rules:{\r\n"
					+ " 	 				 fullname:{\r\n"
					+ " 	 					 required: true,\r\n"
					+ " 	 					 minlength: 6,\r\n"
					+ " 	 				 },\r\n"
					+ " 	 				 email:{ \r\n"
					+ " 	 					required: true,\r\n"
					+ " 						email: true,\r\n"
					+ " 	 				 },\r\n"
					+ " 	 				 phone:{\r\n"
					+ " 	 					 required: true,\r\n"
					+ " 	 					 minlength: 10,\r\n"
					+ " 	 				 },\r\n"
					+ " 	 				 city:{\r\n"
					+ " 	 					 required: true,\r\n"
					+ " 	 				 },\r\n"
					+ " 	 			 },\r\n"
					+ " 	 			 messages:{\r\n"
					+ " 	 				 fullname:{\r\n"
					+ " 	 					required:'Nhập vào tên.',\r\n"
					+ " 	 					minlength:'Nhập tối thiểu 6 ký tự.',\r\n"
					+ " 	 				 },\r\n"
					+ " 	 				email:{\r\n"
					+ " 						required: 'Nhập vào email của bạn.',\r\n"
					+ " 						email: 'Hãy nhập đúng định dạng.',\r\n"
					+ " 					},\r\n"
					+ " 					phone:{\r\n"
					+ " 						required:'Nhập vào số điện thoại.',\r\n"
					+ " 						minlength: 'Số điện thoại phải 10 ký tự.',\r\n"
					+ " 					},\r\n"
					+ " 					city:{\r\n"
					+ " 						required:'Nhập vào thành phố.',\r\n"
					+ " 					},\r\n"
					+ " 	 			 },\r\n"
					+ " 	 			 \r\n"
					+ " 	 		 });\r\n"
					+ " 			$('#form-change-password-admin').validate({\r\n"
					+ "				 rules:{\r\n"
					+ "					 cpass:{\r\n"
					+ "						 required: true,\r\n"
					+ "						 minlength: 6,\r\n"
					+ "					 },\r\n"
					+ "					npass:{\r\n"
					+ "						 required: true,\r\n"
					+ "						 minlength: 6,\r\n"
					+ "						maxlength:13,\r\n"
					+ "					 },\r\n"
					+ "					vpass:{\r\n"
					+ "						 required: true,\r\n"
					+ "						 minlength: 6,\r\n"
					+ "						maxlength:13,\r\n"
					+ "						equalTo: \"#npass\"\r\n"
					+ "					 },\r\n"
					+ "				 },\r\n"
					+ "			messages:{\r\n"
					+ "					cpass:{\r\n"
					+ "						required: 'Nhập vào mật khẩu cũ.',\r\n"
					+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
					+ "						},\r\n"
					+ "					npass:{\r\n"
					+ "						required: 'Nhập vào mật khẩu mới.',\r\n"
					+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
					+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
					+ "					},\r\n"
					+ "					vpass:{\r\n"
					+ "						required: 'Nhập lại mật khẩu mới.',\r\n"
					+ "						minlength: 'Nhập ít nhất 6 ký tự.',\r\n"
					+ "						maxlength: 'Nhập tối da 13 ký tự.',\r\n"
					+ "						equalTo: 'Mật khẩu chưa chính xác.'\r\n"
					+ "					},\r\n"
					+ "			}, \r\n"
					+ " 			});\r\n"
					+ " 			$( \"input[type=file]#avata\" ).change(function(e) {\r\n"
					+ "	    		var filename_input = e.target.files[0].name;\r\n"
					+ "	    		var src = $(\"#display_avata\").attr(\"src\");\r\n"
					+ "		    	var path = src.substring(0,src.lastIndexOf('/'));									    		\r\n"
					+ "		    	var filename = src.split(\"/\").pop();\r\n"
					+ "		    	var newSrc = path+\"/\"+filename_input;\r\n"
					+ "		    	$(\"#display_avata\").attr(\"src\",newSrc);\r\n"
					+ "		    	});\r\n"
					+ " 			$('#btn-change-profile-admin').on('click', function(){\r\n"
					+ " 				//if($('#form-change-info-admin').valid()==true){\r\n"
					+ " 					var formData = new FormData();\r\n"
					+ "					formData.append('aid', "+admin.getId()+");\r\n"
					+ "					formData.append('fullname', $(\"#fullname\").val());\r\n"
					+ "					formData.append('email', $('#email').val());\r\n"
					+ "					formData.append('phone', $('#phone').val());\r\n"
					+ "					formData.append('city', $('#city').val());\r\n"
					+ "					formData.append(\"pic1\", avata.files[0]);\r\n"
					+ " 				        $.ajax({\r\n"
					+ " 							url: '"+request.getContextPath()+"/admin/profile',\r\n"
					+ " 							type: 'POST',\r\n"
					+ " 							cache: false,\r\n"
					+ " 							contentType: false,\r\n"
					+ "          					data: formData,\r\n"
					+ "          					processData: false,\r\n"
					+ " 							success: function(data){\r\n"
					+ " 								$('.ajax-change-info').html(data);\r\n"
					+ " 							},\r\n"
					+ " 							error: function (){\r\n"
					+ " 								alert('Có lỗi xảy ra');\r\n"
					+ " 							},\r\n"
					+ " 						});\r\n"
					+ " 						return false;\r\n"
					+ " 				//}else{\r\n"
					+ " 					//$('#form-change-info-admin').valid();\r\n"
					+ " 				//}\r\n"
					+ " 			});\r\n"
					+ " 			$('#btn-change-password-admin').on('click', function(){\r\n"
					+ " 				//if($('#form-change-password-admin').valid()==true){\r\n"
					+ " 					\r\n"
					+ " 					var changedField = $(this);\r\n"
					+ " 				     var cpass = $('#cpass').val(); \r\n"
					+ " 				     var npass = $('#npass').val();\r\n"
					+ " 				     var id = "+admin.getId()+"\r\n"
					+ " 				        $.ajax({\r\n"
					+ " 							url: '"+request.getContextPath()+"/admin/handel-info',\r\n"
					+ " 							type: 'POST',\r\n"
					+ " 							cache: false,\r\n"
					+ " 							data: {\r\n"
					+ " 									aid: id,\r\n"
					+ " 									cpass: cpass,\r\n"
					+ " 									npass: npass,\r\n"
					+ " 								},\r\n"
					+ " 							success: function(data){\r\n"
					+ " 								$('.ajax-change-password').html(data);\r\n"
					+ " 								$('#form-change-password-admin').trigger(\"reset\");\r\n"
					+ " 							},\r\n"
					+ " 							error: function (){\r\n"
					+ " 								alert('Có lỗi xảy ra');\r\n"
					+ " 							},\r\n"
					+ " 						});\r\n"
					+ " 						return false;\r\n"
					+ " 				//}else{\r\n"
					+ " 					//$('#form-change-password-admin').valid();\r\n"
					+ " 				//}\r\n"
					+ " 			});\r\n"
					+ "      		function setInputFilter(textbox, inputFilter) {\r\n"
					+ "      		  [\"input\", \"keydown\", \"keyup\", \"mousedown\", \"mouseup\", \"select\", \"contextmenu\", \"drop\"].forEach(function(event) {\r\n"
					+ "      		    textbox.addEventListener(event, function() {\r\n"
					+ "      		      if (inputFilter(this.value)) {\r\n"
					+ "      		        this.oldValue = this.value;\r\n"
					+ "      		        this.oldSelectionStart = this.selectionStart;\r\n"
					+ "      		        this.oldSelectionEnd = this.selectionEnd;\r\n"
					+ "      		      } else if (this.hasOwnProperty(\"oldValue\")) {\r\n"
					+ "      		        this.value = this.oldValue;\r\n"
					+ "      		        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);\r\n"
					+ "      		      } else {\r\n"
					+ "      		        this.value = \"\";\r\n"
					+ "      		      }\r\n"
					+ "      		    });\r\n"
					+ "      		  });\r\n"
					+ "      		};\r\n"
					+ "      		setInputFilter(document.getElementById(\"phone\"), function(value) {\r\n"
					+ "      		  return /^\\d*$/.test(value); });\r\n"
					+ "		</script>");
		}
	}

}
